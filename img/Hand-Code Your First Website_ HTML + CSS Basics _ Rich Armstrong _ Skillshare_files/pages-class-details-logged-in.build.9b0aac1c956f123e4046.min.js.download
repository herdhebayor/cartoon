(window.webpackJsonp=window.webpackJsonp||[]).push([[12,6,8,10],Array(371).concat([function(e,t,i){"use strict";i.r(t),function(e,n,s){i(27),i(45),i(299),i(133),i(146),i(461),i(462),i(302),i(96),i(187),i(147);var a=i(57),o=i(941),r=i(1109),l=i(455),c=i(1167),d=i(1239),h=i(1170),u=i(1421),p=i(1075),v=i(230),m=i(1146),f=i(1219),g=i(1422),y=i(1423),b=i(1427),w=i(1049),C=i(1073),k=i(1147),S=i(1077),P=i(1242),T=i(1428),x=i(1438),E=i(1276),_=i(1440),j=i(1442),D=i(1444),O=i(1446),I=i(479),L=i(1220),N=i(1089),$=i(303),R=i(208),M=i(947),V=i(1450),A=i(1455),B=i(145),U=i(1051),z=i(1223),F=i(1457),H=i(1369),G=i(452),W=i(982),Y=i(1283),q=i(1285),K=i.n(q),J=i(1016),Z=i.n(J),Q=i(1458),X=i(132),ee=i(961),te=i(189),ie=i.n(te),ne=i(1078),se=i(1286),ae=i(466);i(365);function oe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function re(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(i),!0).forEach((function(t){le(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function le(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ce=a.a.extend({el:"body",TABLET_BREAK_POINT:1e3,MOBILE_DOWNLOAD_BANNER_SELECTOR:".js-mobile-download-banner",FOLLOW_BUTTON_WRAPPER_SELECTOR:".js-follow-button-wrapper-cd",HOME_SECTION_CONTAINER_SELECTOR:".js-home-section-container",currentSection:null,currentSectionModel:null,updatePreRenderedData:!1,regions:{nav:"#nav-region",video:"#video-region",content:"#content-region"},classHeader:{wrapper:{$el:null,$placeholder:null},content:{$el:null,$children:null},outerHeight:0},navigationHeader:{wrapper:{$el:null,$placeholder:null},outerHeight:0},mainRegion:{$el:null,minHeight:0},siteFooter:{$el:null,outerHeight:0},fixedHeaders:{shown:!1,scrollTop:0},window:{$el:null},learnModeOn:!1,lessonId:void 0,premiumPopup:c.a,isFirstSectionLoaded:!1,hasPushStateSupport:!0,userReview:null,playedSessions:null,autoDisplayReviewForm:!1,events:{"click .class-teacher .user-information":"onClickTeacherInfo","click .class-teacher-info .view-teacher-info":"onClickTeacherInfo","click .section-navigation":"_route","click .js-close-recommend":"onRecommendCloseClick","click .js-recommend-class-box .btn-option-yes":"onRecommendSureClick","click .js-recommend-class-box .btn-option-no":"onRecommendCloseClick","click .join-module a":"initializePremiumPopupOnClick","click a.locked-enroll-button":"initializePremiumPopupOnClick","click .unenroll":"onUnenroll","click .mark-as-complete":"onMarkAsComplete","click .class-user-menu .action-item":"onUserMenuItemClick","click .share-menu-popover .share-item":"onShareMenuItemClick","click .mobile-download-banner .js-open-in-app-link":"onClickOpenInApp","click .mobile-download-banner .js-install-the-app-link":"onClickInstallTheApp","click .mobile-download-banner .js-mobile-download-banner-close":"onCloseMobileDownloadBanner"},initialize:function(){var t=SS.serverBootstrap.pageData;e.bindAll(this,"routeToMode","toggleRouteToMode","triggerShowSharePopover"),this.documentEl=n("html, body"),this.preRendered=X.a.getPathname(this.hasPushStateSupport),this.legacyRendered=t.legacyRendered,this.baseRendered=n.Deferred(),this.hasPushStateSupport=X.a.hasPushStateSupport(),this.router=new d.a({classes:this}),this._views={},this.classModel=new h.a(SS.serverBootstrap.classData),t.currentUserRoster&&(this.rosterModel=new p.a(t.currentUserRoster)),this.abuseFlagButton=this.$(".abuse-flag-popup-btn");var i=new s.Model(e.extend(SS.serverBootstrap.pageData.videoPlayerData.shareLinks,SS.serverBootstrap.classData.parentClass));new U.a({el:this.$(".social-share-buttons-wrapper"),model:i,hideShortUrl:!0}),this.parentClassModel=new s.Model(this.classModel.get("parentClass")),ae.a.initializeGoogleOneTouch();var r=new k.a(t.unitsData.units,{parse:!0});this._shouldCreateSharePopover()&&(this.sharePopover=new V.a({autoPosition:!1,anchor:this.$(".share-twitter"),el:this.$(".class-share-popover"),model:this.parentClassModel,roster:this.rosterModel,userIsAffiliateReferrer:t.userIsAffiliateReferrer,showCompact:!0,showOnHover:!0,HOVER_OPEN_DELAY:0,HOVER_CLOSE_DELAY:10}),this.sharePopover=new V.a({autoPosition:!1,anchor:this.$(".share-facebook"),el:this.$(".class-share-popover"),model:this.parentClassModel,roster:this.rosterModel,userIsAffiliateReferrer:t.userIsAffiliateReferrer,showCompact:!0,showOnHover:!0,HOVER_OPEN_DELAY:0,HOVER_CLOSE_DELAY:10}),this.sharePopover=new V.a({autoPosition:!1,anchor:this.$(".share-popup-btn"),el:this.$(".class-share-popover"),model:this.parentClassModel,roster:this.rosterModel,userIsAffiliateReferrer:t.userIsAffiliateReferrer,showEmail:!0,showOnHover:!1}),s.on("showSharePopover",this.triggerShowSharePopover)),this.playedSessions=new S.a,!t.videoPlayerData.displayEmptyState&&t.syllabusData.isSyllabusUnlocked&&(this.videoPlayer=new P.a({el:this.$(".video-player")}),this.listenTo(this.videoPlayer,"scrollToHeaders",this.scrollToFixedHeaders),this.listenTo(this.videoPlayer,"enable:learnMode",this.routeToMode("learnMode")),this.listenTo(this.videoPlayer,"toggle:learnMode",this.toggleRouteToMode("learnMode")),this.listenTo(this.videoPlayer,"change:session",this.onSessionChange),this.listenTo(this.videoPlayer,"click:more",this.onNoteMoreClick),this.listenTo(this.videoPlayer,"remove:note",this.removeVideoPlayerNote),this.listenTo(this.videoPlayer,"change:note",this.changeVideoPlayerNote),this.listenTo(this.videoPlayer,"newClasses:video:player:play",this.onVideoPlayerPlay)),this.initializeUserHasSharedClass(),new I.a({el:this.$(".class-details-page-header")});var c=this.$(".share-menu-button");this.shareMenu=new B.a({autoPosition:!1,anchor:c,el:c.find(".popover"),showOnHover:!0});var u=new s.Model(e.extend({units:r,parentClass:this.parentClassModel},t.videoPlayerData.shareLinks));new L.a({el:c.find(".share-links"),model:u,session:r.getSessionAtIndex(0)}),this.teacherUid=t.headerData.teacher.uid,this.followButton=new G.a({container:this.$(".follow-button-wrapper-class-details"),classes:"follow-button-link-style",modelData:{user:new v.a({uid:this.teacherUid}),followingId:!!t.headerData.isFollowingTeacher&&this.teacherUid,trackingParams:{via:"class-details-header"}}}),new W.a({container:this.$(".btn-save-container"),template:Z.a,activeClass:"saved",inactiveClass:"save",modelData:{parent_class_id:SS.serverBootstrap.classData.parentClass.id,parent_sku:SS.serverBootstrap.classData.parentClass.sku,wishlistId:!!SS.serverBootstrap.pageData.headerData.isSaved&&SS.serverBootstrap.pageData.headerData.wishlistId,trackingParams:{via:"class-details-header"}},isLabelButton:!0,styles:"button alt-charcoal-ghost"});var m=document.createElement("div");m.className="popover shadow top add-to-calendar-popover-container js-popover-container",this.addToCalendaroPopover=new A.a({autoPosition:!0,anchor:this.$(".add-to-calendar-popup-btn"),placement:"top",arrowPlacement:"bottom",el:m,title:t.headerData.title,duration:t.videoPlayerData.totalSessionsDuration,baseUrl:t.videoPlayerData.baseUrl,description:t.sectionData.description||t.headerData.title,icons:{google:this.getCDNPath("/assets/images/add-to-calendar/google-cal.svg"),outlook:this.getCDNPath("/assets/images/add-to-calendar/outlook.svg"),apple:this.getCDNPath("/assets/images/add-to-calendar/apple.svg"),yahoo:this.getCDNPath("/assets/images/add-to-calendar/yahoo-icon.svg")}}),this.userMenu=new B.a({anchor:this.$(".btn-class-user-menu"),el:this.$(".class-user-menu"),showOnHover:!0,HOVER_OPEN_DELAY:100,autoPosition:!1}),1===SS.currentUser.get("isAdmin")?new F.a({classData:SS.serverBootstrap.classData}):SS.serverBootstrap.pageData.userClassRelationshipData.isTeacher&&new H.a;var f=this.initializePremiumPopupOnRender();f?this.listenTo(f,"onPopupDidCloseEvent",this.triggerVideoPlayerAutoPlay):this.triggerVideoPlayerAutoPlay(),SS.serverBootstrap.showDiscussionsBanner&&new N.a({el:this.$(".welcome-banner"),dialogId:ee.a.CLASS_DETAILS_DISCUSSIONS_WELCOME_BANNER_DIALOG_ID}),"1"===l.a.getParam("unenrolled")&&this.onUnenrollSuccess(),this.setupNavCollection(),this.$videoDrawerContainer=this.$(".video-drawer-container"),o.a.initPopovers(this),a.a.prototype.initialize.call(this,arguments),s.History.started||(this.hasPushStateSupport||(document.location.hash=document.location.pathname.substr(1)),s.history.start({pushState:this.hasPushStateSupport}))},afterRender:function(){var e=this;this.setupNav(),this.calculateHeaderRelatedAttributes(),this.setMainRegionMinHeight(),window.removeEventListener("scroll",SS.classDetailsHeaderFunction),this.window.$el.on("scroll",(function(){e.toggleFixedHeaders()})),this.fixedHeaders.shown=this.classHeader.wrapper.$el.hasClass("fixed-header"),this.baseRendered.resolve(),a.a.prototype.afterRender.apply(this,arguments),SS.serverBootstrap.signupPopupOpen&&(this.signupPopup=new $.a({state:"signup",redirectTo:SS.serverBootstrap.signupPopupRedirectTo,showCouponCopy:!1,showEmailSignUp:!0,disableMobileRedirect:!0})),SS.serverBootstrap.freeAccessLinkConfirmation&&(new se.a,SS.serverBootstrap.freeAccessLinkConfirmation=!1)},getCDNPath:function(e){var t=SS.serverBootstrap.staticAssetData.cdnHost;return t?"//"+t+e:e},calculateHeaderRelatedAttributes:function(){this.classHeader.wrapper.$el=this.$(".class-details-header-wrapper"),this.classHeader.wrapper.$placeholder=this.$(".class-details-header-wrapper-placeholder"),this.navigationHeader.wrapper.$el=this.$(".underline-tabs-wrapper"),this.navigationHeader.wrapper.$placeholder=this.$(".underline-tabs-wrapper-placeholder"),this.classHeader.content.$el=this.$(".class-details-header"),this.classHeader.content.$children=this.classHeader.content.$el.children(),this.classHeader.outerHeight=this.classHeader.wrapper.$el.outerHeight(!0),this.navigationHeader.outerHeight=this.navigationHeader.wrapper.$el.outerHeight(!0),this.classHeader.wrapper.$el.css("height",this.classHeader.outerHeight),this.classHeader.wrapper.$placeholder.css("height",this.classHeader.outerHeight),this.navigationHeader.wrapper.$placeholder.css("height",this.navigationHeader.outerHeight),this.mainRegion.$el=this.$("#main-region"),this.window.$el=n(window),this.siteFooter.$el=this.$(".site-footer"),this.siteFooter.outerHeight=this.siteFooter.$el.outerHeight(!0),this.window.$el.width()>this.TABLET_BREAK_POINT&&(this.mainRegion.minHeight=this.classHeader.outerHeight+this.siteFooter.outerHeight),void 0!==this.mainRegion.$el.offset()&&(this.fixedHeaders.scrollTop=this.mainRegion.$el.offset().top-this.classHeader.outerHeight)},showFixedHeaders:function(){this.classHeader.content.$children.css("opacity",0),this.classHeader.content.$el.css("marginTop","-"+this.classHeader.outerHeight+"px"),this.classHeader.wrapper.$el.addClass("fixed-header"),this.classHeader.wrapper.$placeholder.removeClass("hidden"),this.classHeader.content.$children.fadeTo(200,1),this.classHeader.content.$el.animate({marginTop:0},150),this.navigationHeader.wrapper.$el.addClass("fixed-header"),this.navigationHeader.wrapper.$el.css("top",this.classHeader.outerHeight),this.navigationHeader.wrapper.$placeholder.removeClass("hidden"),this.fixedHeaders.shown=!0},hideFixedHeaders:function(){this.classHeader.content.$children.css("opacity",1),this.classHeader.content.$el.css("marginTop",0),this.classHeader.wrapper.$el.removeClass("fixed-header"),this.classHeader.wrapper.$placeholder.addClass("hidden"),this.navigationHeader.wrapper.$el.removeClass("fixed-header"),this.navigationHeader.wrapper.$el.css("top",0),this.navigationHeader.wrapper.$placeholder.addClass("hidden"),this.fixedHeaders.shown=!1},scrollToFixedHeaders:function(){this.documentEl.scrollTop(this.fixedHeaders.scrollTop)},scrollToTop:function(){this.documentEl.scrollTop(0)},toggleFixedHeaders:function(){this.mainRegion.$el.offset().top-this.window.$el.scrollTop()-1<=this.classHeader.outerHeight?!1===this.fixedHeaders.shown&&this.showFixedHeaders():this.hideFixedHeaders()},onVideoPlayerPlay:function(){this.playedSessions.add(this.videoPlayer.session);var e=2===this.playedSessions.length,t=!SS.serverBootstrap.pageData.isTeacher,i=!SS.serverBootstrap.pageData.headerData.isFollowingTeacher;e&&t&&i&&this.showFollowDialog()},removeVideoPlayerNote:function(e){this.videoPlayer.session.notes.remove(e)},changeVideoPlayerNote:function(e){var t=this.videoPlayer.session.notes.get(e);t&&t.set(e.attributes)},onVideoPlayerNoteRemove:function(e){this.videoDrawerView&&this.videoDrawerView.notes.remove(e)},onVideoPlayerNoteChange:function(e){if(this.videoDrawerView){var t=this.videoDrawerView.notes.get(e);t&&t.set(e.attributes)}},onNoteMoreClick:function(e){this.learnModeOn?this.videoDrawerView.highlightNote(e):(this.displayNote=e,this.routeToMode("learnMode")("note-more"))},listenToVideoPlayerNoteEvents:function(){this.listenTo(this.videoPlayer.session.notes,"remove",this.onVideoPlayerNoteRemove),this.listenTo(this.videoPlayer.session.notes,"change",this.onVideoPlayerNoteChange)},onRecommendNoClick:function(e){e.preventDefault()},onAbuseFlagClick:function(e){SS.serverBootstrap.userData.isMember?(e.preventDefault(),this.userAbuseFlag=new f.a({parentClassSku:this.classModel.get("parentClass").sku,uid:SS.serverBootstrap.userData.id}),new z.a({model:this.userAbuseFlag})):new $.a({state:"signup"})},closeRecommendBanner:function(){var e=this;this.$(".js-recommend-class-box").slideUp("slow",(function(){return e.calculateHeaderRelatedAttributes()})),n.cookie("show_recommend_box",!1)},onRecommendCloseClick:function(e){e.preventDefault(),this.closeRecommendBanner()},onRecommendSureClick:function(e){e.preventDefault(),this.closeRecommendBanner(),this.autoDisplayReviewForm=!0,n(".underline-tabs .tab a.reviews").trigger("click")},onClickTeacherInfo:function(e){e.preventDefault(),this.$("*[data-ss-username]").trigger("mouseleave",[!0]),new R.a({className:"user-profile-popup-view",basicPopup:!0,centerVertically:!1,endpoint:"/users/renderProfilePopup",endpointData:{userId:this.teacherUid,classSku:this.classModel.get("sku")}})},onUserMenuItemClick:function(){this.userMenu.close()},onShareMenuItemClick:function(){this.shareMenu.close()},onMarkAsComplete:function(){var e=this;this.rosterModel.set("status",2).save().success((function(){SS.events.trigger("alerts:create",{title:"Class marked as complete.",action:"/lists/continue-watching",actionString:"View Completed Classes",type:"success"}),e.$(".mark-as-complete").parent().remove()})).error(this.onError)},onUnenroll:function(){var e=new M.a({content:ie.a.render(K.a),submitBtnVal:"Unenroll"});e.openPopup(),e.on("onConfirmationDidConfirmEvent",this.performUnenroll,this)},performUnenroll:function(){this.rosterModel.destroy({success:this.onRosterDestroySuccess,error:this.onRosterDestroyError})},onUnenrollSuccess:function(){SS.events.trigger("alerts:create",{title:"Unenrolled from class.",type:"success"})},onRosterDestroySuccess:function(){window.location=SS.serverBootstrap.pageData.headerData.unenrolledUrl},onRosterDestroyError:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error completing that action. Please try again later.",type:"error"})},initializeLearnMode:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=SS.serverBootstrap.pageData,n=new m.a(i.videoPlayerData.startingSession),s=e.extend({},i.learnModeData,{sessionTitle:n.get("title")});this.videoDrawerView=new Q.a({container:this.$videoDrawerContainer,videoPlayer:this.videoPlayer,session:this.videoPlayer.session,templateData:s,displayNote:this.displayNote,via:t.via}),this.listenTo(this.videoDrawerView,"created:note",(function(e){this.videoPlayer.onNoteFormNewNote(e)})),this.listenTo(this.videoDrawerView.notes,"remove",this.removeVideoPlayerNote),this.listenTo(this.videoDrawerView.notes,"change",this.changeVideoPlayerNote),this.listenTo(this.videoDrawerView,"toggle:drawer",this.toggleRouteToMode("learnMode")),this.listenToVideoPlayerNoteEvents()},enableLearnMode:function(t){this.learnModeOn||this.videoPlayer.videoPlayerReady.then(e.bind((function(){this.initializeLearnMode(t),this.$el.addClass("learn-mode"),this.videoPlayer.videoPlayer.hideControlBarTooltips(),this.videoPlayer.closeNotePopovers(),this.videoPlayer.videoPlayer.updateTooltip(this.videoPlayer.videoPlayer.$learnModeToggle,"Hide Notes"),this.displayNote&&(this.videoDrawerView.highlightNote(this.displayNote),this.displayNote=void 0),this.learnModeOn=!0,this.openVideoDrawer()}),this))},disableLearnMode:function(e){this.learnModeOn?(this.$el.removeClass("learn-mode"),this.videoPlayer.videoPlayer.updateTooltip(this.videoPlayer.videoPlayer.$learnModeToggle,"View All Notes"),this.videoPlayer.closeNotePopovers(),this.learnModeOn=!1,this.closeVideoDrawer(e)):e&&e()},closeVideoDrawer:function(e){if(this.videoDrawerView){var t=this;this.videoDrawerView.close((function(){t.videoDrawerView.remove(),e&&e()}))}else e&&e()},openVideoDrawer:function(){var e=this.$("#video-region").outerHeight()-this.$(".video-and-playlist").outerHeight()+this.$("#main-region").outerHeight();this.videoDrawerView.open({minHeight:e})},onSessionChange:function(e){this.videoDrawerView&&(this.videoDrawerView.updateSession(e),this.listenToVideoPlayerNoteEvents())},_route:function(e){e.preventDefault(),this.route(e.currentTarget.href)},route:function(e){var t=e.replace(window.location.protocol+"//"+window.location.hostname,"");this.router.navigate(t,!0)},switchSection:function(e){this._activatingSectionTab||this.route(e.get("link"))},_activateSectionTab:function(e){this._activatingSectionTab=!0,this.navigationTabs.activate(e),this._activatingSectionTab=!1,this.checkDarkModeTab(e)},checkDarkModeTab:function(e){"lessons"===e.toLowerCase()?n("#site-content").addClass("dark-mode-tab"):n("#site-content").removeClass("dark-mode-tab")},setupNavCollection:function(){this.navigationTabs=new w.a(SS.serverBootstrap.pageData.navigationTabsData.tabs,{silent:!1}),this.listenTo(this.navigationTabs,"activate",this.switchSection)},setupNav:function(){this.nav.attach(new C.a({collection:this.navigationTabs,className:"underline-tabs"}))},routeToMode:function(t){return e.bind((function(e){var i={via:e};i[t]=1,this.route(l.a.addParams(window.location.pathname,i))}),this)},unRouteToMode:function(t){return e.bind((function(){l.a.getParams(window.location.href)[t]&&this.route(window.location.pathname)}),this)},toggleRouteToMode:function(t){return e.bind((function(e){l.a.getParams(window.location.href)[t]?this.route(window.location.pathname):this.routeToMode(t)(e)}),this)},_showSection:function(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=X.a.getPathname(this.hasPushStateSupport),o=this._views[a],r={classModel:this.classModel},l={pageElementData:this.getPageElementData(),autoDisplayReviewForm:this.autoDisplayReviewForm};if(this.autoDisplayReviewForm=!1,!o){var c,d=re({urlRoot:X.a.getPathname(this.hasPushStateSupport)+"?format=json"},s);if(this._isPreRendered()&&!this.updatePreRenderedData)this.currentSectionModel=new n(e.extend(l,SS.serverBootstrap.pageData.sectionData),d),r.model=this.currentSectionModel,this.legacyRendered||(r.el=this.content.view.$el),o=new i(r),this.legacyRendered&&o.render();else{var h=this.currentSectionModel=new n(l,d);r.model=h,o=new i(r),h.fetch()}o.section=t,o.on("change",this._clearViewsCache,this),o.listenTo(this.videoPlayer,"change:session",null===(c=o)||void 0===c?void 0:c.onSessionChange),this._views[a]=o}this.content.attach(o,!0),this._isPreRendered()?o.trigger("prerendered"):this.setMainRegionMinHeight(),this.isFirstSectionLoaded?this.fixedHeaders.shown&&("home"===t?this.scrollToTop():this.scrollToFixedHeaders()):this.isFirstSectionLoaded=!0},getPageElementData:function(){return{classHeader:this.classHeader,navigationHeader:this.navigationHeader,totalHeaderHeight:this.classHeader.outerHeight+this.navigationHeader.outerHeight}},callAction:function(t,i,n){var s=this;this.baseRendered.then((function(){e.result(s,i),(null==n?void 0:n.learnMode)?setTimeout((function(){s.enableLearnMode(n)}),100):(s.disableLearnMode(),s.closeVideoDrawer())}))},_trackingParams:function(){var t,i=n.cookie(ne.a.COOKIE_LEGACY_CAPTIONS_STATE_NAME)||"not_set",s=n.cookie(r.a)||"not_set",a={lesson_rank:null===(t=this.videoPlayer)||void 0===t?void 0:t.session.attributes.rank,local_caption_setting:""+i,local_muted_setting:""+s};return e.extend({},SS.EventTracker.classDetails(),a)},home:function(){this._showSection("home",T.a,u.a),this._activateSectionTab("About"),SS.EventTracker.track("Viewed-Class-AboutTab",{},this._trackingParams())},reviews:function(){this._showSection("reviews",E.a,u.a),this._activateSectionTab("Reviews"),SS.EventTracker.track("Viewed-Class-ReviewsTab",{},this._trackingParams())},lessons:function(){this._showSection("lessons",x.a,u.a),this._activateSectionTab("Lessons"),SS.EventTracker.track("Viewed-Class-LessonsTab",{},this._trackingParams())},projects:function(){this._showSection("projects",_.a,g.a),this._activateSectionTab("Projects & Resources"),SS.EventTracker.track("Viewed-Class-ProjectsTab",{},this._trackingParams())},discussions:function(){this._showSection("discussions",D.a,y.a),this._activateSectionTab("Community"),SS.EventTracker.track("Viewed-Class-DiscussionsTab",{},this._trackingParams())},discussionView:function(){this._showSection("discussionView",O.a,u.a),this._activateSectionTab("Community")},transcripts:function(){var e,t,i={lessonId:null===(e=this.videoPlayer)||void 0===e||null===(t=e.session)||void 0===t?void 0:t.id};this._showSection("transcripts",j.a,b.a,i),this._activateSectionTab("Transcripts"),SS.EventTracker.track("Viewed-Class-TranscriptsTab",{},this._trackingParams())},_clearViewsCache:function(){this.updatePreRenderedData=!0,delete this._views,this._views={}},setMainRegionMinHeight:function(){this.window.$el.width()<this.TABLET_BREAK_POINT||this.mainRegion.$el.css("minHeight",this.window.$el.height()-this.mainRegion.minHeight)},_isPreRendered:function(){return this.preRendered===X.a.getPathname(this.hasPushStateSupport)},_shouldCreateSharePopover:function(){return!SS.serverBootstrap.pageData.headerData.parentClassIsDraft},_showSharePopover:function(){this.sharePopover.source="Class Onboarding",this.sharePopover.onboarding=!0,this.sharePopover.setShowOnHover(!1),this.sharePopover.open()},triggerShowSharePopover:function(){this._showSharePopover()},initializeUserHasSharedClass:function(){this.userHasSharedClass=SS.serverBootstrap.userHasSharedClass;var e=this;s.on("shared",(function(){e.userHasSharedClass=!0}))},_userIsEnrolled:function(){return SS.serverBootstrap.pageData.userClassRelationshipData.isEnrolled},initializePremiumPopupOnClick:function(e){return this.premiumPopup.initializePremiumPopupOnClick(e)},initializePremiumPopupOnRender:function(){return this.premiumPopup.initializePremiumPopupOnRender()},triggerVideoPlayerAutoPlay:function(){var e=this.videoPlayer;e&&e.videoPlayerMetaDataLoaded.then((function(){e.trigger("video:player:autoplay:ready")}))},showFollowDialog:function(){this.followDialog=this.makeFollowDialog(),this.followDialog&&this.setupFollowDialogCloseListener(this.followDialog)},setupFollowDialogCloseListener:function(e){this.listenTo(this.followButton,"click",(function(){e.trigger("dialog:close")}))},makeFollowDialog:function(){var e=this.$(this.FOLLOW_BUTTON_WRAPPER_SELECTOR);return ee.a.createDialog(ee.a.CLASS_DETAILS_FOLLOW_DIALOG_ID,Y.a,{anchor:e,placement:"right"})},onClickOpenInApp:function(){SS.EventTracker.track("Clicked Mobile Open App Link")},onClickInstallTheApp:function(){SS.EventTracker.track("Clicked Mobile Install App Link")},onCloseMobileDownloadBanner:function(){SS.serverBootstrap.mobileAppBannerData&&(this.setMobileDownloadBannerCookie(),this.$(this.MOBILE_DOWNLOAD_BANNER_SELECTOR).remove())},setMobileDownloadBannerCookie:function(){var e=SS.serverBootstrap.mobileAppBannerData.cookieName,t=(new Date).getTime(),i=new Date;i.setTime(i.getTime()+864e5),n.cookie(e,t,{expires:i})}});t.default=ce}.call(this,i(51),i(48),i(76))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e,i){var n=e.Model.extend({initialize:function(){e.Model.prototype.initialize.apply(this,arguments),this.on("change:errors",this.onErrorChange,this)},onErrorChange:function(e,t,n){i.isEmpty(t)?this.trigger("valid"):this.trigger("invalid",e,t,n)}});t.a=n}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e){i(297),i(96),i(187),i(172);var n=i(457),s=i(955),a=i(956),o={initPopovers:function(e){this.initInfoPopovers(e),this.initUserPopovers(e),this.initTagPopovers(e)},initInfoPopovers:function(t){t.$(".info-popover-anchor:not(.initialized)").each((function(t,i){new n.a({anchor:e(i)})}))},initUserPopovers:function(t){t.$("*[data-ss-username]:not(.initialized)").each((function(t,i){var n=e(i),a=document.location.pathname.replace(/\//,"").split("/")[0],o=null,r=n.data("ss-via");r&&(o="".concat(r,"-teacher-popover-").concat(a));var l=n.data("ss-teacher-card")?"/users/renderPopoverTeacherCard":"/users/renderPopover";new s.a({anchor:n,endpointData:{username:n.data("ss-username"),via:o},placement:n.data("ss-placement")||"top",endpoint:l})}))},initTagPopovers:function(t){t.$("*[data-ss-tag]:not(.initialized)").each((function(t,i){var n=e(i);new a.a({anchor:n,endpointData:{tagSlug:n.data("ss-tag")},placement:n.data("ss-placement")||"top",endpoint:"/tags/renderPopover"})}))}};t.a=o}).call(this,i(48))},,function(e,t,i){"use strict";i(41)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,i){"use strict";var n=i(41),s=i(267),a=i(148),o=i(55),r=i(266),l=[],c=l.sort,d=o((function(){l.sort(void 0)})),h=o((function(){l.sort(null)})),u=r("sort");n({target:"Array",proto:!0,forced:d||!h||!u},{sort:function(e){return void 0===e?c.call(a(this)):c.call(a(this),s(e))}})},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i(96),i(187),i(361);function n(e){var t=e?e.replace(/^[^?]*/,""):document.location.search,i={};return t.replace(/([^?=&]+)(?:=([^&]*))?/g,(function(e,t,n){i[t]=n})),i}},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({initialize:function(){e.Model.prototype.initialize.apply(this,arguments),this.originalAttributes=this.attributes},destroy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.silent){var i=this;this.sync("delete",this,{success:function(){i.attributes=i.originalAttributes,i.set("id",null)}})}else e.Model.prototype.destroy.apply(this,arguments)}});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var n=i(208),s=i(970),a=i.n(s),o=n.a.extend({preventCloseOnSubmit:!1,templateFunc:e.template(a.a),templateData:function(){return this.options},events:function(){return e.extend(n.a.prototype.events.call(this),{"click .btn-action-cancel":"onClickCancel","click .btn-action-submit":"onClickSubmit"})},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e.extend({title:"Are you sure?",submitBtnVal:"Submit",cancelBtnVal:"Cancel",includeActions:!0,padding:!0,width:400},t),n.a.prototype.initialize.apply(this,arguments)},render:function(){n.a.prototype.render.apply(this,arguments),this.$el.addClass("action-popup-view"),!1===this.options.padding&&this.$(".popup-content").addClass("no-padding"),this.$el.width(this.options.width)},onClickCancel:function(){this.preventClose=!1,this.trigger("onPopupDidCancelEvent")},onClickSubmit:function(){this.trigger("onPopupDidSubmitEvent"),this.trigger("onConfirmationDidConfirmEvent"),!1===this.preventCloseOnSubmit&&this.closePopup()},disableBtnWithLabel:function(e){var t=this.$(".btn-action-submit");t.addClass("disabled").attr("disabled","disabled"),e&&t.val(e)}});t.a=o}).call(this,i(51))},function(e,t,i){"use strict";var n=i(946).a.extend({urlRoot:"/completions",defaults:{completed:!1}});t.a=n},function(e,t,i){"use strict";(function(e){var n=i(966),s=e.Collection.extend({model:n.a,defaults:{id:null}});t.a=s}).call(this,i(76))},function(e,t,i){"use strict";var n=i(974),s={scriptjs:i.n(n).a},a={loaders:[],makeNewLoader:function(e,t,i){return this.loaders[e]=s.scriptjs(e,t,i),this.loaders[e]},loadScript:function(e,t,i){return this.loaders[e]||this.makeNewLoader(e,t,i)}};t.a={facebook:function(e,t){return a.loadScript("//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8",e,t)},google:function(e,t){return a.loadScript("//apis.google.com/js/client.js?onload=onGoogleLoad",e,t)},googleSignIn:function(e,t){return a.loadScript("//apis.google.com/js/platform.js?onload=onGoogleSignInLoad",e,t)},verbitWidget:function(e,t){return a.loadScript("//api.verbit.co/assets/widget.js",e,t)},loader:s}},function(e,t,i){"use strict";var n=i(946).a.extend({urlRoot:"/watchlist",defaults:{isWatching:!1}},{VIA_LOGGED_IN_HOME:"logged-in-home",VIA_LOGGED_IN_HOME_ROW:"logged-in-home-row",VIA_LOGGED_IN_HOME_PREVIEW:"logged-in-home-preview",VIA_LOGGED_IN_HOME_YOUR_CLASSES:"logged-in-home-your-classes",VIA_PREVIEW_RELATED_CLASSES:"preview-related-classes",VIA_BROWSE:"browse",VIA_SEARCH:"search"});t.a=n},function(e,t,i){"use strict";(function(e,n){var s=i(972),a=e.Collection.extend({model:s.a,comparator:function(e){return parseInt(e.get("rank"),10)},initialize:function(e,t){this.session=t.session},updateAttachmentWithResponse:function(e){var t=n.first(this.where(n.pick(e,"title")));return t&&t.set(e),this},deleteWhere:function(e){var t=this.where(e);return t&&(this.remove(t),n.each(t,(function(e){e.trigger("destroy")}))),this}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(171),a=i(132),o=i(957),r=i.n(o),l=s.a.extend({template:r.a,tooltips:["Follow","Unfollow","Unfollow"],labels:["Follow","Following","Following"],requiresLogin:!0,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,["tagId","userIsFollowingTag","classes"]));var i={tagId:this.tagId,id:this.userIsFollowingTag?this.tagId:void 0},o=SS.serverBootstrap.pageData,r="";o&&o.pageName&&(r=o.pageName),this.model=new n.Model(i),this.model.url=function(){return this.id?"/tags/"+this.get("tagId")+"/unfollow":"/tags/"+this.get("tagId")+"/follow"},this.model.sync=function(t,i,n){a.a.ajaxRequest(i.url(),e.extend({},n,{type:"POST",data:{via:r},success:function(e){e.following?i.id=i.get("tagId"):i.id=void 0}}))},this.initialState=i.id?s.a.states.ACTIVE:s.a.states.INACTIVE,s.a.prototype.initialize.apply(this,arguments)},render:function(){s.a.prototype.render.apply(this,arguments),this.$el.addClass(this.classes)}});t.a=l}).call(this,i(51),i(76))},function(e,t,i){"use strict";(function(e){var i=e.Collection.extend({constructor:function(){this.on("add remove rerank",this.remapRanks),e.Collection.apply(this,arguments),this.trigger("rerank")},comparator:function(e){return parseInt(e.get("rank"),10)},moveModelTo:function(e,t){this.remove(e,{silent:!0}),this.add(e,{at:t,silent:!0}),this.trigger("rerank")},remapRanks:function(){this.each((function(e,t){e.set("rank",t)}))}});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e){i(133);var n=i(145),s=i(171),a=i(452),o=i(230),r=i(358),l=n.a.extend({className:"popover user-card-popover",placement:"top",showOnHover:!0,addShadow:!0,endpoint:"/users/renderPopover",initialize:function(){e.bindAll(this,"onChangeFollowState"),n.a.prototype.initialize.apply(this,arguments)},onPopoverCreated:function(){if(n.a.prototype.onPopoverCreated.apply(this,arguments),!e.isEmpty(this.templateData)){var t=e.omit(this.templateData,"id");if(e.extend(t,{uid:this.templateData.id}),this.user=new o.a(t),parseInt(this.user.get("uid"),10)!==SS.currentUser.get("id")){var i=new a.a({container:this.visibleEl.find(".user-follow-button-wrapper"),classes:"small",modelData:{user:this.user,followingId:!!this.templateData.userIsFollowing&&this.templateData.id,trackingParams:{source:"User Popover"}}});i.model.on("change:state",this.onChangeFollowState)}}},onChangeFollowState:function(e){if(e.get("state")!==s.a.states.DEACTIVATE){var t=r.a.stripCommas(this.user.get("numFollowers"));this.visibleEl.find(".num-followers strong").html(t),SS.events.trigger("followedUser")}}});t.a=l}).call(this,i(51))},function(e,t,i){"use strict";(function(e){i(133);var n=i(145),s=i(953),a=i(358),o=n.a.extend({className:"popover tag-card-popover",placement:"top",showOnHover:!0,addShadow:!0,endpoint:"/tags/renderPopover",initialize:function(){e.bindAll(this,"onClickFollowButton"),n.a.prototype.initialize.apply(this,arguments)},onPopoverCreated:function(){if(n.a.prototype.onPopoverCreated.apply(this,arguments),!e.isEmpty(this.templateData)&&this.templateData.followTagButtonData){var t=this.templateData.followTagButtonData,i=t.tagId,a=t.userIsFollowingTag;this.followButton=new s.a({container:this.visibleEl.find(".tag-follow-button-wrapper"),classes:"small",userIsFollowingTag:a,tagId:i,templateData:{size:"small"}}),this.followButton.$el.click(this.onClickFollowButton)}},onClickFollowButton:function(){var e=this.visibleEl.find(".num-followers"),t=a.a.stripCommas(e.html());s.a.states.ACTIVE===this.followButton.model.get("state")?e.text(a.a.formatWithCommas(t+1)):e.text(a.a.formatWithCommas(t-1))}});t.a=o}).call(this,i(51))},function(e,t){e.exports='<a href="javascript:;" class="btn btn-follow btn-follow-tag {{#size}}{{size}}{{/size}}{{^size}}extra-small{{/size}}"></a>\n'},,function(e,t,i){"use strict";(function(e,n){i(186),i(24),i(118),i(943);var s=i(948),a=i(940),o=i(952),r=a.a.extend({constructor:function(){this.attachments=new o.a([],{session:this}),this.completion=new s.a,e.Model.prototype.constructor.apply(this,arguments)},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parentClass=t.parentClass||t.collection.parentClass,this.set("cid",this.cid),this.id||this.set("isNew",!0),a.a.prototype.initialize.apply(this,arguments)},getPreviewUrl:function(){return this.parentClass.getPreviewUrl(this.id)},parse:function(e){var t=n.clone(e);return t.rank=parseInt(t.rank,10),this.completion.set({target_type:"Session",target_id:t.id,parent_id:t.parent_id}),n.isUndefined(t.sessionCompletion)||(this.completion.set(t.sessionCompletion,{parse:!0}),this.completion.set({completed:!0})),t.index=(parseInt(t.rank,10)+1).toString(),t.attachments=this.convertCids(t.attachments),this.attachments.set(t.attachments,{parse:!0}),delete t.attachments,t},convertCids:function(e){return n.map(e,(function(e){var t=this.attachments.get(e.id||e.cid);return t&&t.set(t.parse(e)),t||e}),this)},filterCompletions:function(e){var t=this;n.each(e,(function(e){t.get("id")===e.target_id&&"Session"===e.target_type&&t.updateCompletion(e)}))},updateCompletion:function(e){this.completion.set(e),n.isUndefined(e.id)||this.completion.set("completed",!0)},toJSON:function(){var e=n.clone(this.attributes);return e.attachments=this.attachments.toJSON(),e}});t.a=r}).call(this,i(76),i(51))},function(e,t){e.exports='<div class="class-stats clear">\n    {{#showClassState}}\n        {{#isPublished}}\n            <span class="tag green small class-tag">Published</span>\n        {{/isPublished}}\n        {{#isPending}}\n            <span class="tag yellow small class-tag">Pending</span>\n        {{/isPending}}\n        {{#isDraft}}\n            <span class="tag grey small class-tag">Draft</span>\n        {{/isDraft}}\n    {{/showClassState}}\n    {{^showClassState}}\n        {{#showClassType}}\n            <span class="tag grey small class-tag">{{classType}}</span>\n        {{/showClassType}}\n    {{/showClassState}}\n    {{#numStudents}}\n        <span class="ss-icon-empty-user num-students">\n            {{numStudents}}\n        </span>\n        <span class="middot">&middot;</span>\n    {{/numStudents}}\n\n    {{> partials/_review-stat}}\n\n    {{#category}}\n        <span class="middot">&middot;</span>\n        <span class="tags">\n            {{^showStaticCategory}}<a href="{{url}}" data-ss-name="{{name}}" data-ss-tag="{{slug}}" data-ss-value="{{slug}}" class="link-main no-bold category">{{/showStaticCategory}}{{name}}{{^showStaticCategory}}</a>{{/showStaticCategory}}\n        </span>\n    {{/category}}\n    {{#secondaryTag}}\n        <span class="middot">&middot;</span>\n        <span class="tags">\n            {{^showStaticCategory}}<a href="{{url}}" data-ss-name="{{name}}" data-ss-value="{{slug}}" class="link-main no-bold secondary-tag">{{/showStaticCategory}}{{name}}{{^showStaticCategory}}</a>{{/showStaticCategory}}\n        </span>\n    {{/secondaryTag}}\n    {{#level}}\n        <span class="middot">&middot;</span>\n        <span class="">\n            {{^disableLevelLink}}<a href="{{url}}" data-ss-value="{{id}}" class="link-main no-bold level">{{/disableLevelLink}}{{name}}{{^disableLevelLink}}</a>{{/disableLevelLink}}\n        </span>\n    {{/level}}\n</div>\n'},function(e,t,i){"use strict";(function(e){i(119);var n=i(301),s={CLASS_DETAILS_PROJECT_DIALOG_ID:1,CLASS_DETAILS_NOTES_DIALOG_ID:2,HOME_WELCOME_BANNER_DIALOG_ID:3,AMA_WELCOME_BANNER_DIALOG_ID:4,HOME_PREMIUM_BANNER_DIALOG_ID:5,CLASS_DETAILS_COMMUNITY_DIALOG_ID:7,HOME_ENROLL_BANNER_DIALOG_ID:8,CLASS_DETAILS_PREMIUM_BANNER_DIALOG_ID:9,LISTS_WELCOME_BANNER_DIALOG_ID:10,VIDEO_PLAYBACK_SPEED_DIALOG_ID:11,PERSONALIZE_DIALOG_ID:12,CLASS_DETAILS_DISCUSSIONS_WELCOME_BANNER_DIALOG_ID:13,STUDENTS_GRAPH_DIALOG_ID:14,CLASS_DETAILS_FOLLOW_DIALOG_ID:15,CORE_BRAND_REFRESH_2020_POPUP_ID:16,viewedDialogIds:[],currentDialogView:null,initialize:function(){return this.viewedDialogIds=Object(n.a)(SS,"serverBootstrap","userDialogViewData")||[],this},addViewedDialogId:function(e){this.viewedDialogIds.push(e)},setCurrentDialogView:function(e){this.removeCurrentDialogView(),this.currentDialogView=e},removeCurrentDialogView:function(){this.currentDialogView&&(this.currentDialogView.remove(),this.currentDialogView=null)},createDialog:function(t,i,n){if(!(SS.currentUser.isGuest()||e.indexOf(this.viewedDialogIds,t)>-1)){var s=new i(n);return this.setCurrentDialogView(s),s}}};t.a=s.initialize()}).call(this,i(51))},,function(e,t,i){"use strict";(function(e,i){var n=e.Model.extend({urlRoot:"/votes",initialize:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.Model.prototype.initialize.apply(this,arguments),this.isNew&&!i.isUndefined(n.voteable)&&(this.set("voteable_id",n.voteable.id),this.set("voteable_type",n.voteable.get("type")))},hasUserVoted:function(){return 1==this.get("value")}});t.a=n}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(945),a=e.Model.extend({urlRoot:"/shares/track",initialize:function(){if(e.Model.prototype.initialize.apply(this,arguments),!this.get("type"))throw new Error("Missing `type` attribute");if(!this.get("method"))throw new Error("Missing `method` attribute");if(!this.get("via"))throw new Error("Missing `via` attribute")},toJSON:function(){e.trigger("shared");var t=n.clone(this.attributes);t.parentClassId&&(t.object_type="ParentClasses",t.object_id=t.parentClassId),t.workshopId&&(t.object_type="Workshop",t.object_id=t.workshopId),t=n.pick(t,"method","via","type","object_id","object_type","num_recipients");var i=Object(s.a)();return t.utm_campaign=i.utm_campaign,t.utm_medium=i.utm_medium,t.utm_source=i.utm_source,t}},{METHODS:{FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",MANUAL_EMAIL:"manual-email",GMAIL_CONTACTS:"gmail-contacts"},TYPES:{LINK:1,REFERRAL_LINK:2}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";var n=i(1003),s=i.n(n),a=i(358),o={getTimeAgo:function(e){var t=s()(),i=s.a.unix(e),n=t.diff(i,"minutes"),o=t.diff(i,"hours"),r=t.diff(i,"days"),l=t.diff(i,"weeks"),c=t.diff(i,"months"),d=t.diff(i,"years");return n<=0?"less than a minute ago":o<=0?a.a.pluralize(n,"minute")+" ago":r<=0?a.a.pluralize(o,"hour")+" ago":l<=0?a.a.pluralize(r,"day")+" ago":c<=0?a.a.pluralize(l,"week")+" ago":d<=0?a.a.pluralize(c,"month")+" ago":"about "+a.a.pluralize(d,"year")+" ago"},getTimeFromSeconds:function(e){var t=s.a.duration(e,"seconds"),i=this.formatTimeInterval(t.hours()),n=this.formatTimeInterval(t.minutes()),a=this.formatTimeInterval(t.seconds());return t.hours()?i+":"+n+":"+a:n+":"+a},formatTimeInterval:function(e){return e<10?"0"+e:e}};t.a=o},function(e,t,i){"use strict";(function(e,n){var s=i(132),a=e.Model.extend({url:function(){return this.get("following")?"/tags/"+this.get("id")+"/follow":"/tags/"+this.get("id")+"/unfollow"},constructor:function(t){this.options=n.extend({},t),this.parentClass=this.options.collection&&this.options.collection.parentClass,e.Model.prototype.constructor.apply(this,arguments)},sync:function(){s.a.ajaxRequest(this.url(),n.extend({},this.attributes,{type:"POST"}))},toggleFollow:function(){this.set({following:!this.get("following")}),this.sync()}});t.a=a}).call(this,i(76),i(51))},function(e,t){e.exports='<span class="review review-stat ss-icon-empty-heart" data-container="container" rel="tooltip" data-placement="bottom" data-html="true">\n    {{#percentPositiveReviews}}\n        {{percentPositiveReviews}}\n    {{/percentPositiveReviews}}\n    {{^percentPositiveReviews}}\n        {{numReviews}}\n    {{/percentPositiveReviews}}\n    <div class="tooltip-content">\n        {{#numRecommendations}}\n            <span class="iconed ss-icon-empty-thumbs-up"></span>\n            <strong>{{numRecommendations}}</strong>\n             of\n            <strong>{{numReviews}}</strong>\n             students recommend.\n        {{/numRecommendations}}\n        {{^numRecommendations}}\n            This class hasn\'t been reviewed yet.\n        {{/numRecommendations}}\n    </div>\n</span>\n'},,function(e,t){e.exports='<div class="ss-card__info">\n\t{{#author}}\n\t\t<span class="ss-card__author"><a href="{{url}}" class="link-main no-bold title-link" data-ss-username="{{username}}">{{fullName}}</a></span>\n\t{{/author}}\n\t<span class="count num-likes ss-card__likes">{{numStat}}</span>\n</div>\n<div class="ss-card__stats">\n\t<span class="ss-card__comments">{{commentStat}}</span>\n    <div class="like-btn-wrapper"></div>\n</div>\n'},function(e,t){e.exports='<% if (typeof title !== \'undefined\' && title != \'\') { %>\n    <h5 class="popup-title clear"><%= title %> <a href="javascript:;" class="btn-close icon-x"></a></h5>\n<% } %>\n<div class="popup-content">\n<% if (typeof content !== \'undefined\' && content != window.content) { %>\n    <%= content %>\n<% } %>\n</div>\n<% if (typeof includeActions !== \'undefined\' && includeActions !== false && includeActions !== \'\') { %>\n    <div class="popup-actions clear">\n        <input type="submit" class="btn-action-submit button left" value="<%= submitBtnVal %>"></input>\n        <a href="javascript:;" class="btn-action-cancel button alt-charcoal-ghost left"><%= cancelBtnVal %></a>\n    </div>\n<% } %>\n'},,function(e,t,i){"use strict";var n=i(940),s=n.a.extend({defaults:{url:"#"},initialize:function(){this.set("cid",this.cid),n.a.prototype.initialize.apply(this,arguments)},isComplete:function(){return this.get("url")!==this.defaults.url}});t.a=s},function(e,t,i){"use strict";(function(e,n,s){i(27),i(45),i(188),i(659);var a=i(950),o=i(132),r={},l={init:function(){return window.fbAsyncInit=function(){window.FB.init({appId:e("#fb-id").val(),version:"v5.0",status:!0,cookie:!0,xfbml:!0}),r.loaded.resolveWith(this)},this},fbLoginAsSignUp:function(t,i,n){window.FB.login((function(s){if(s.authResponse){var a=null,o={};a=t?"/site/signupViaFacebook":"/site/loginViaFacebook",i&&(o.redirectTo=i),n&&(o.via=n),a=a+"?"+e.param(o),window.location=a}}),{scope:"email",auth_type:t?"rerequest":void 0})},linkFacebook:function(t){var i=function(i){if(i.authResponse){var s="/site/facebookconnect";n.isNull(t)||(s+="?trackingSource="+t),o.a.ajaxRequest(s,{type:"post",data:{trackingSource:t,redirectTo:i.redirectTo},success:function(e){var t=void 0!==e.redirectTo;window.location=t?e.redirectTo:"account"},error:function(t){var i=e.parseJSON(t.responseText);SS.events.trigger("alerts:create",{title:i.errors.general,type:"error"})}})}};window.FB.getLoginStatus((function(e){"connected"===e.status?i(e):window.FB.login(i,{scope:"email"})}))},shareObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n={method:e.method||"feed",display:e.display||"popup"};"share"===e.method?n.href=e.href||window.location.href:(n.name=e.name||window.document.title,n.link=e.link||window.location.href,n.picture=e.picture,n.caption=e.caption,n.description=e.description),window.FB.ui(n,(function(e){e&&e.post_id&&t?t(e):i&&i(e)}))},getShareCount:function(e,t){o.a.ajaxRequest("/facebook/shareCount",{data:{url:e},success:function(e){t(e.shareCount||0)},error:function(){t(0)}})}};r.loaded=new e.Deferred,n.each(n.functions(l),(function(e){r[e]=function(){var t=arguments;r.loaded.done((function(){r[e].apply(r,t)}))}})),n.extend(r,s.Events),a.a.facebook((function(){(r=n.extend(r,l)).init()}),(function(){r.loaded.rejectWith(r)})),t.a=r}).call(this,i(48),i(51),i(76))},function(e,t,i){var n,s,a;a=function(){var e,t,i=document,n=i.getElementsByTagName("head")[0],s={},a={},o={},r={};function l(e,t){for(var i=0,n=e.length;i<n;++i)if(!t(e[i]))return!1;return 1}function c(e,t){l(e,(function(e){return!t(e)}))}function d(t,i,n){t=t.push?t:[t];var u=i&&i.call,p=u?i:n,v=u?t.join(""):i,m=t.length;function f(e){return e.call?e():s[e]}function g(){if(!--m)for(var e in s[v]=1,p&&p(),o)l(e.split("|"),f)&&!c(o[e],f)&&(o[e]=[])}return setTimeout((function(){c(t,(function t(i,n){return null===i?g():(n||/^https?:\/\//.test(i)||!e||(i=-1===i.indexOf(".js")?e+i+".js":e+i),r[i]?(v&&(a[v]=1),2==r[i]?g():setTimeout((function(){t(i,!0)}),0)):(r[i]=1,v&&(a[v]=1),void h(i,g)))}))}),0),d}function h(e,s){var a,o=i.createElement("script");o.onload=o.onerror=o.onreadystatechange=function(){o.readyState&&!/^c|loade/.test(o.readyState)||a||(o.onload=o.onreadystatechange=null,a=1,r[e]=2,s())},o.async=1,o.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,n.insertBefore(o,n.lastChild)}return d.get=h,d.order=function(e,t,i){!function n(s){s=e.shift(),e.length?d(s,n):d(s,t,i)}()},d.path=function(t){e=t},d.urlArgs=function(e){t=e},d.ready=function(e,t,i){e=e.push?e:[e];var n,a=[];return!c(e,(function(e){s[e]||a.push(e)}))&&l(e,(function(e){return s[e]}))?t():(n=e.join("|"),o[n]=o[n]||[],o[n].push(t),i&&i(a)),d},d.done=function(e){d([null],e)},d},e.exports?e.exports=a():void 0===(s="function"==typeof(n=a)?n.call(t,i,t,e):n)||(e.exports=s)},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({url:function(){return this.isNew()?"/lists/new":"/lists/"+this.get("id")+"/edit"}});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({urlRoot:function(){return this.isNew()&&this.get("parentClassSku")?"/classes/"+this.get("parentClassSku")+"/reviews":"/reviews"}});i.FLAG_STATUS={OK:0,NOT_COMPLETED:1,LOW_QUALITY:2},t.a=i}).call(this,i(76))},,,,,function(e,t,i){"use strict";i(297);var n=i(132),s={fetchListItems:function(e){return n.a.ajax("/lists/user",{type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",data:{parent_sku:e,custom_list_id:null}})},onClickListItem:function(e,t,i){var s=i?"add-class":"remove-class";n.a.ajax("/lists/".concat(t,"/").concat(s),{data:JSON.stringify({parent_sku:e,customListId:t,via:"save-list-popover"}),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",success:function(){}})},onCreateNewList:function(e,t){var i=this;return n.a.ajax("/lists/new",{data:JSON.stringify({title:t,via:"save-list-popover"}),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){i.onClickListItem(e,t.id,!0)}})}};t.a=s},function(e,t,i){"use strict";(function(e,n){i(264),i(24),i(118);var s=i(171),a=i(951),o=i(1013),r=i.n(o),l=i(987),c=i(303),d=i(981),h=i(0),u=i.n(h),p=i(28),v=i.n(p),m=i(296),f=i(120),g=i(49),y=i(231),b=i(994),w=i(72),C=i(1024),k=i(1025),S=s.a.extend({requiresLogin:!0,showNotifications:!0,showListPopover:!0,template:r.a,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.bindAll(this,"onStateChange","destroyPopover"),e.extend(this,e.pick(t,["activeClass","inactiveClass","markAsCheckedClass","showNotifications","showListPopover","template"])),t.isLabelButton?(t.labels?this.labels=t.labels:this.labels=['<svg class="ss-svg-icon"><use xlink:href="#save" /></svg> Save','<svg class="ss-svg-icon"><use xlink:href="#saved" /></svg> Saved'],this.templateData={isLabelButton:!0}):t.hasPopovers?this.popovers=["Save for Later","Unsave"]:this.tooltips=["Save for Later","Unsave"],this.templateData.styles=t.styles,!this.model){var i=e.pick(t.modelData,"parent_sku","parent_class_id","trackingParams");!1!==t.modelData.wishlistId&&(i.id=t.modelData.wishlistId),this.model=new a.a(i)}this.initialState=this.model.get("id")?s.a.states.ACTIVE:s.a.states.INACTIVE,this.activeClass&&(this.templateData.activeClass=this.getInitalClass()),this.on("save",this.onSuccessfulSave),this.on("destroy",this.onSuccessfulDestroy),this.model.on("change:state",this.onStateChange),this.initializeReactSaveButton()},initializeReactSaveButton:function(){var e,t,i,s=this.options.container.get(0);if(s){var a=null,o=null;"class-details-header"===(null===(e=this.model.get("trackingParams"))||void 0===e?void 0:e.via)&&(a=u.a.createElement(w.a,{className:"alt-navy-ghost",size:w.b.Small,icon:u.a.createElement(C.a,{width:16}),text:"Save"}),o=u.a.createElement(w.a,{className:"alt-navy-ghost",size:w.b.Small,icon:u.a.createElement(k.a,{width:16}),text:"Saved"}));var r=this.requiresLogin&&SS.currentUser.isGuest(),l=n.cookie("YII_CSRF_TOKEN"),c=null===(t=SS.serverBootstrap)||void 0===t||null===(i=t.apiData)||void 0===i?void 0:i.host;if(!c)return u.a.createElement(u.a.Fragment,null);var h=y.ApolloClientManager.getClient({uri:"".concat(c,"/api/graphql")});v.a.render(u.a.createElement(g.a,{client:h},u.a.createElement(f.a,null,u.a.createElement(g.h,{cookies:{YII_CSRF_TOKEN:l}},u.a.createElement(m.a,{locale:"en"},u.a.createElement(b.a,{sku:this.model.get("parent_sku").toString(),classId:this.model.get("parent_class_id"),saved:!!this.model.get("id"),renderSignupView:r?this.renderSignupView.bind(this):null,fetchListItems:d.a.fetchListItems.bind(d.a),onClickListItem:d.a.onClickListItem.bind(d.a),onCreateNewList:d.a.onCreateNewList.bind(d.a),saveIcon:a,savedIcon:o,portalContainer:document.querySelector("body")}))))),s)}},renderSignupView:function(){new c.a({state:"signup",redirectTo:window.location.href})},getInitalClass:function(){return this.initialState===s.a.states.ACTIVE?this.markAsCheckedClass?this.markAsCheckedClass:this.activeClass:this.inactiveClass},toggleListPopover:function(e){var t=this;this.showListPopover&&(this.listPopover&&this.listPopover.isOpen()?this.listPopover.onAnchorClick(e):setTimeout((function(){t.setUpPopover(),e?t.listPopover.onAnchorClick(e):t.listPopover.open()}),0))},onUndoSave:function(){var e=s.a.states.INACTIVE;this.setState(e),this.sync(),this.trigger("click",e),this.$el.removeClass("click")},isMarkedAsChecked:function(){return this.markAsCheckedClass&&this.$el.hasClass(this.markAsCheckedClass)},onStateChange:function(e){this.activeClass&&this.inactiveClass&&!this.isMarkedAsChecked()&&(e.get("state")===s.a.states.ACTIVE?(this.$el.removeClass(this.inactiveClass),this.$el.addClass(this.activeClass)):e.get("state")===s.a.states.INACTIVE&&(this.$el.addClass(this.inactiveClass),this.$el.removeClass(this.activeClass)))},onClick:function(e){this.showListPopover&&this.toggleListPopover(e),this.model.get("id")&&this.showListPopover||s.a.prototype.onClick.apply(this,arguments)},onSuccessfulSave:function(){this.showNotifications&&SS.events.trigger("alerts:create",{title:"Saved to",action:"/lists/saved-classes",actionString:"All Saved Classes",type:"success-sticky",buttonString:"Undo",buttonCb:this.onUndoSave.bind(this)}),this.markAsCheckedClass&&(this.$el.removeClass([this.activeClass,this.inactiveClass].join(" ")),this.$el.addClass(this.markAsCheckedClass)),SS.events.trigger("wishlistAdded",this.model),this.listPopover&&this.listPopover.fetchLists()},onSuccessfulDestroy:function(){this.showNotifications&&SS.events.trigger("alerts:create",{title:"Class removed.",type:"success-sticky"}),this.markAsCheckedClass&&this.$el.removeClass(this.markAsCheckedClass),SS.events.trigger("wishlistRemoved",this.model)},setUpPopover:function(){this.listPopover||(this.popoverContainer=document.createElement("div"),this.popoverContainer.className="popover shadow bottom save-list-container js-popover-container",this.listPopover=new l.a({autoPosition:!0,showOnHover:!1,placement:"bottom",arrowPlacement:"top",anchor:this.options.container,el:this.popoverContainer,parentSku:this.model.get("parent_sku")}),this.listPopover.on("popover:close",this.destroyPopover),this.listPopover.fetchLists())},destroyPopover:function(){this.listPopover.dispose(),this.listPopover=null}});t.a=S}).call(this,i(51),i(48))},function(e,t,i){"use strict";var n=i(954),s=i(959),a=n.a.extend({model:s.a,initialize:function(e,t){this.parentClass=t.parentClass,this.unit=t.unit}});t.a=a},function(e,t,i){"use strict";(function(e,n){var s=i(940).a.extend({constructor:function(t,i){return this.parentClass=i.parentClass,e.Model.prototype.constructor.apply(this,arguments)},parse:function(e){return n.clone(e)},toJSON:function(){return n.clone(this.attributes)}});t.a=s}).call(this,i(76),i(51))},,function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return f})),i.d(t,"c",(function(){return b}));i(264),i(16);var n,s,a,o=i(0),r=i.n(o),l=i(18),c=i(4),d=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},h=function(){return(h=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},u=l.d.div(n||(n=d(["\n    ","\n\n    .badge {\n        align-items: center;\n        background-color: ",";\n        border-radius: 4px;\n        display: inline-flex;\n        line-height: 20px;\n        padding: 0 8px 0 8px;\n\n        &.with-icon {\n            padding: 0 8px 0 5px;\n\n            span {\n                padding-left: 2px;\n            }\n\n            .top-teacher-icon {\n                display: flex;\n            }\n        }\n    }\n\n    span {\n        color: ",";\n        font-size: 13px;\n        font-weight: bold;\n    }\n"],["\n    ","\n\n    .badge {\n        align-items: center;\n        background-color: ",";\n        border-radius: 4px;\n        display: inline-flex;\n        line-height: 20px;\n        padding: 0 8px 0 8px;\n\n        &.with-icon {\n            padding: 0 8px 0 5px;\n\n            span {\n                padding-left: 2px;\n            }\n\n            .top-teacher-icon {\n                display: flex;\n            }\n        }\n    }\n\n    span {\n        color: ",";\n        font-size: 13px;\n        font-weight: bold;\n    }\n"])),Object(c.e)((function(e){return e.normal})),(function(e){return e.primaryColor}),(function(e){return e.textColor})),p=function(e){var t=h({primaryColor:Object(c.b)((function(e){return e.navy})),className:"",textColor:Object(c.b)((function(e){return e.wanderGreen}))},e),i=t.className,n=t.primaryColor,s=t.textColor,a=["badge",i];return e.icon&&a.push("with-icon"),r.a.createElement(u,{primaryColor:n,textColor:s},r.a.createElement("div",{className:""+a.join(" ")},e.icon,r.a.createElement("span",null,e.text)))},v=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=l.d.div(s||(s=v(["\n    display: flex;\n\n    .gradient {\n        background-image: linear-gradient(to bottom, rgba(5, 5, 5, 0.6), rgba(216, 216, 216, 0));\n        pointer-events: none;\n    }\n\n    svg {\n        display: inline-block;\n        height: 100%;\n        pointer-events: none;\n        position: absolute;\n        vertical-align: middle;\n        z-index: 3;\n    }\n"],["\n    display: flex;\n\n    .gradient {\n        background-image: linear-gradient(to bottom, rgba(5, 5, 5, 0.6), rgba(216, 216, 216, 0));\n        pointer-events: none;\n    }\n\n    svg {\n        display: inline-block;\n        height: 100%;\n        pointer-events: none;\n        position: absolute;\n        vertical-align: middle;\n        z-index: 3;\n    }\n"]))),f=function(e){return r.a.createElement(m,{className:"skillshare-original-badge"},e.gradient&&r.a.createElement("div",{className:"gradient"}),r.a.createElement("svg",{viewBox:"0 0 97 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Skillshare Original"),r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("path",{d:"M0.235352 9.68567C0.235352 4.88246 3.59666 0.757812 9.27495 0.757812C14.9581 0.757812 18.3146 4.88246 18.3146 9.68082C18.3146 14.4792 14.9532 18.6038 9.27495 18.6038C3.59666 18.6087 0.235352 14.484 0.235352 9.68567ZM14.2343 9.68567C14.2343 6.74365 12.4954 4.25722 9.27981 4.25722C6.03993 4.25722 4.30099 6.74365 4.32527 9.68567C4.30099 12.6277 6.03993 15.1141 9.27981 15.1141C12.4905 15.1093 14.2343 12.6277 14.2343 9.68567Z",fill:"white"}),r.a.createElement("path",{d:"M21.4863 6.50104H25.1828V8.93899C25.5957 7.20383 26.9703 6.31201 28.3984 6.31201C28.8356 6.31201 29.0736 6.33625 29.365 6.40895V9.83566C28.9278 9.78719 28.7141 9.76295 28.2527 9.76295C26.4409 9.76295 25.1828 10.8486 25.1828 13.6453V18.1334H21.4863V6.50104Z",fill:"white"}),r.a.createElement("path",{d:"M41.1102 22.3696C39.925 21.6474 39.0798 20.3921 39.0312 19.1368H42.8005C42.9706 20.0528 43.7672 20.6102 45.2681 20.6102C46.9828 20.6102 48.0222 19.8638 48.0222 17.7893V16.2432C47.4442 17.4016 45.8947 18.1238 44.3743 18.1238C40.9159 18.1238 38.8369 15.6131 38.8369 12.1913C38.8369 8.76939 41.0616 6.18604 44.4229 6.18604C46.021 6.18604 47.4442 6.95668 48.0271 8.16354V6.50108H51.7236V17.3774C51.6993 19.6214 50.9027 21.2839 49.4746 22.2727C48.4108 23.0191 46.9828 23.3099 45.3167 23.3099C43.6506 23.3099 42.2468 23.0482 41.1102 22.3696ZM48.1922 12.2397C48.1922 10.553 47.1528 9.20076 45.3895 9.20076C43.7234 9.20076 42.6354 10.4803 42.6354 12.2397C42.6354 13.9991 43.7234 15.2787 45.3895 15.2787C47.1528 15.2787 48.1922 13.9313 48.1922 12.2397Z",fill:"white"}),r.a.createElement("path",{d:"M62.0845 6.50108H65.7809V8.18777C66.4561 6.88398 67.787 6.18604 69.5503 6.18604C72.3773 6.18604 73.8054 7.77579 73.8054 10.9359V18.1238H70.0846V12.1428C70.0846 10.1895 69.526 9.2977 68.0299 9.2977C66.5533 9.2977 65.7809 10.2622 65.7809 12.0459V18.1238H62.0845V6.50108Z",fill:"white"}),r.a.createElement("path",{d:"M76.3943 12.3124C76.3943 8.83725 78.5461 6.18604 81.9317 6.18604C83.6221 6.18604 84.953 6.98091 85.5796 8.16354V6.50108H89.2518V18.1286H85.5796V16.4855C84.953 17.6439 83.5006 18.4388 81.8831 18.4388C78.4004 18.4388 76.3943 15.8118 76.3943 12.3124ZM85.7253 12.3124C85.7253 10.65 84.783 9.27346 82.9469 9.27346C81.2322 9.27346 80.1685 10.553 80.1685 12.3124C80.1685 14.0718 81.2322 15.3756 82.9469 15.3756C84.783 15.3756 85.7253 14.004 85.7253 12.3124Z",fill:"white"}),r.a.createElement("path",{d:"M92.6619 1.24219H96.3583V18.1285H92.6619V1.24219Z",fill:"white"}),r.a.createElement("path",{d:"M54.3708 2.73509C54.3708 1.33435 55.4249 0.200195 56.9113 0.200195C58.3976 0.200195 59.4808 1.33435 59.4808 2.73509C59.4808 4.11159 58.3976 5.24574 56.9113 5.24574C55.4249 5.24574 54.3708 4.11159 54.3708 2.73509Z",fill:"#00FF84"}),r.a.createElement("path",{d:"M58.752 6.50098H55.075V18.1285H58.752V6.50098Z",fill:"white"}),r.a.createElement("path",{d:"M31.6335 2.73509C31.6335 1.33435 32.6876 0.200195 34.174 0.200195C35.6603 0.200195 36.7435 1.33435 36.7435 2.73509C36.7435 4.11159 35.6603 5.24574 34.174 5.24574C32.6876 5.24574 31.6335 4.11159 31.6335 2.73509Z",fill:"#00FF84"}),r.a.createElement("path",{d:"M36.0149 6.50098H32.3379V18.1285H36.0149V6.50098Z",fill:"white"}))))},g=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},y=l.d.div(a||(a=g(["\n    display: flex;\n\n    .gradient {\n        background-image: linear-gradient(to bottom, rgba(5, 5, 5, 0.6), rgba(216, 216, 216, 0));\n        pointer-events: none;\n    }\n\n    svg {\n        display: inline-block;\n        height: 80%; // To make it have the same height as the Original badge\n        pointer-events: none;\n        position: absolute;\n        vertical-align: middle;\n        z-index: 3;\n    }\n"],["\n    display: flex;\n\n    .gradient {\n        background-image: linear-gradient(to bottom, rgba(5, 5, 5, 0.6), rgba(216, 216, 216, 0));\n        pointer-events: none;\n    }\n\n    svg {\n        display: inline-block;\n        height: 80%; // To make it have the same height as the Original badge\n        pointer-events: none;\n        position: absolute;\n        vertical-align: middle;\n        z-index: 3;\n    }\n"]))),b=function(e){return r.a.createElement(y,{className:"skillshare-staff-pick-badge"},e.gradient&&r.a.createElement("div",{className:"gradient"}),r.a.createElement("svg",{fill:"none",viewBox:"0 0 92 14",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("path",{d:"M0 9.18764H2.89374C2.89374 10.5448 3.66205 11.349 4.93299 11.349C6.00648 11.349 6.61323 10.8499 6.61323 9.97391C6.61323 9.20559 6.2183 8.81067 5.09456 8.36548L2.84347 7.48946C1.16324 6.86475 0.305171 5.70152 0.305171 4.07513C0.305171 1.87791 2.03926 0.413086 4.75707 0.413086C7.51079 0.413086 9.33104 1.96766 9.33104 4.38031H6.43372C6.43372 3.21707 5.82697 2.57441 4.69963 2.57441C3.7518 2.57441 3.19891 3.05551 3.19891 3.80587C3.19891 4.50237 3.68 4.9332 4.91504 5.43225L6.98661 6.25441C8.7207 6.93297 9.50697 8.09621 9.50697 9.77644C9.50697 12.1173 7.68312 13.636 4.91504 13.636C1.84179 13.6395 0 11.9952 0 9.18764Z",fill:"white"}),r.a.createElement("path",{d:"M17.3444 11.1008V13.2801C16.9495 13.3519 16.3068 13.4237 15.5206 13.4237C14.2353 13.4237 12.4653 13.1365 12.4653 10.2607V6.82842H11.1082V4.66709H12.4653V2.11084H15.201V4.66709H17.1505V6.82842H15.201V9.68625C15.201 10.9536 15.718 11.1511 16.4002 11.1511C16.7018 11.1547 17.0967 11.1367 17.3444 11.1008Z",fill:"white"}),r.a.createElement("path",{d:"M19.0283 8.97557C19.0283 6.40136 20.6188 4.4375 23.1212 4.4375C24.3706 4.4375 25.3543 5.0263 25.8211 5.90232V4.66728H28.5389V13.2803H25.8211V12.0632C25.3579 12.9212 24.2844 13.51 23.0853 13.51C20.5111 13.5136 19.0283 11.5641 19.0283 8.97557ZM25.9288 8.97557C25.9288 7.74052 25.2323 6.72449 23.8751 6.72449C22.6078 6.72449 21.8215 7.67231 21.8215 8.97557C21.8215 10.2788 22.6078 11.2446 23.8751 11.2446C25.2323 11.2446 25.9288 10.225 25.9288 8.97557Z",fill:"white"}),r.a.createElement("path",{d:"M34.9691 0.610352C35.7015 0.610352 36.2005 0.700108 36.5416 0.807815V2.75732C36.2544 2.73937 36.0426 2.70346 35.7913 2.70346C35.2025 2.70346 34.5418 2.84707 34.5418 3.7949V4.66733H36.5452V6.82865H34.5383V13.2803H31.8025V6.82865H30.2659V4.66733H31.8025V3.82721C31.8061 1.1812 33.6802 0.610352 34.9691 0.610352Z",fill:"white"}),r.a.createElement("path",{d:"M41.8478 3.79131V4.66733H43.8512V6.82865H41.8478V13.2803H39.1121V6.82865H37.5754V4.66733H39.1121V3.82721C39.1121 1.1812 40.9898 0.610352 42.2751 0.610352C43.0075 0.610352 43.5065 0.700108 43.8476 0.807815V2.75732C43.5604 2.73937 43.3486 2.70346 43.0972 2.70346C42.512 2.69987 41.8478 2.84348 41.8478 3.79131Z",fill:"white"}),r.a.createElement("path",{d:"M60.8654 5.29209C60.8654 7.92015 58.9697 9.81221 56.3776 9.81221H53.947V13.2804H51.0532V0.771973H56.3776C58.9913 0.771973 60.8654 2.66403 60.8654 5.29209ZM57.9357 5.29209C57.9357 4.03909 57.0956 3.13076 55.9324 3.13076H53.947V7.45701H55.9324C57.0956 7.45342 57.9357 6.54508 57.9357 5.29209Z",fill:"white"}),r.a.createElement("path",{d:"M62.3445 1.8777C62.3445 0.840117 63.1236 0 64.2222 0C65.3208 0 66.1214 0.840117 66.1214 1.8777C66.1214 2.89733 65.3208 3.73744 64.2222 3.73744C63.1236 3.73744 62.3445 2.89733 62.3445 1.8777Z",fill:"#00FF84"}),r.a.createElement("path",{d:"M88.2231 11.7581C88.2231 10.7205 89.0022 9.88037 90.1008 9.88037C91.1995 9.88037 92.0001 10.7205 92.0001 11.7581C92.0001 12.7777 91.1995 13.6178 90.1008 13.6178C89.0022 13.6178 88.2231 12.7777 88.2231 11.7581Z",fill:"#00FF84"}),r.a.createElement("path",{d:"M65.583 4.66748H62.8652V13.2805H65.583V4.66748Z",fill:"white"}),r.a.createElement("path",{d:"M67.5972 8.97557C67.5972 6.25775 69.3672 4.4375 72.207 4.4375C74.7812 4.4375 76.4615 5.79461 76.6769 7.94158H73.9411C73.7437 7.13736 73.2267 6.76039 72.225 6.76039C71.0438 6.76039 70.3293 7.54665 70.3293 8.97557C70.3293 10.4045 71.0438 11.1907 72.225 11.1907C73.2267 11.1907 73.7437 10.8317 73.9411 10.0814H76.6769C76.4615 12.1709 74.7812 13.5136 72.207 13.5136C69.3672 13.5136 67.5972 11.6898 67.5972 8.97557Z",fill:"white"}),r.a.createElement("path",{d:"M83.8824 13.2804L81.1287 9.52858V13.2804H78.4109V0.771973H81.1287V8.29353L83.9542 4.66739H87.1711L83.7388 8.74231L87.2249 13.2804H83.8824Z",fill:"white"}))))}},function(e,t,i){"use strict";(function(e,n){i(297),i(944);var s=i(132),a=i(975),o=i(145),r=i(991),l=i.n(r),c=o.a.extend({className:"save-list-popover",template:l.a,templateData:{},initialize:function(e){this.options=e||{},this.model=new a.a,this.parentSku=this.options.parentSku,this.templateData.hasLoaded=!1,this.customListId=this.options.customListId?this.options.customListId:null;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];o.a.prototype.initialize.apply(this,[e].concat(i))},afterRender:function(){e.bindAll(this,"onSubmitList","onCreateListFocus","onClickCancel","onClickCreate","onSelectExistingList","onKeydownListInput"),n(".submit-list-name").on("click",this.onSubmitList),n(".list-input").on("focus",this.onCreateListFocus),n(".first-list-cancel").on("click",this.onClickCancel),n(".existing-list-action").on("click",this.onClickCreate),n(".existing-item").on("click",this.onSelectExistingList),n(".list-input").on("keypress",this.onKeydownListInput);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];o.a.prototype.afterRender.apply(this,i)},onSelectExistingList:function(e){e.preventDefault();var t=n(e.target),i=t.hasClass("selected");this.close(),i?this.removeClassFromList(t.data("list-id")):this.addClassToList(t.data("list-id"))},fetchLists:function(){var e=this;s.a.ajaxRequest("/lists/user",{type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",data:{parent_sku:this.parentSku,custom_list_id:this.customListId},success:function(t){var i=t;i instanceof Array&&i.length>1&&(i=i.sort((function(e,t){return String(e.title).localeCompare(String(t.title))}))),e.templateData.listData=i,e.templateData.firstList=0===i.length,e.templateData.hasLoaded=!0,e.render(),e.updateVisiblePopover(),e.focusListInput(),e.reposition()}})},onSubmitList:function(e){var t=this;e.preventDefault();var i=n(".list-input").val();""===i?this.onCreateListError("List name is required."):(this.model.set({title:i,via:"save-list-popover"}),this.model.save().then((function(e){t.close(),t.addClassToList(e.id)})).fail((function(e){var i=e.responseJSON.attributes,n=i&&i.title?i.title[0]:"There was an error saving your list";t.onCreateListError(n)})))},onClickCancel:function(e){e.preventDefault(),this.close()},onCreateListError:function(e){n(".list-input").addClass("list-input-error"),n(".create-list-error").show(),n(".create-list-error-message").html(e)},onCreateListFocus:function(){n(".list-input").removeClass("list-input-error"),n(".create-list-error").hide(),n(".create-list-error-message").html("")},focusListInput:function(){n(".list-input").focus()},onKeydownListInput:function(e){13===e.which&&this.onSubmitList(e)},addClassToList:function(e){var t=this;this.sendListClassRequest("add-class",e,(function(i){t.unmarkListAsComplete(e,"Unable to save class"),SS.events.trigger("alerts:create",{title:"Saved to",action:i.url,actionString:i.title,type:"success-sticky"})}),"Unable to save class")},removeClassFromList:function(e){this.sendListClassRequest("remove-class",e,(function(){SS.events.trigger("alerts:create",{title:"Removed class from list",type:"success-sticky"})}),"Unable to remove class")},sendListClassRequest:function(e,t,i,n){var a=this;s.a.ajaxRequest("/lists/".concat(t,"/").concat(e),{data:JSON.stringify({parent_sku:this.parentSku,customListId:t,via:"save-list-popover"}),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",success:i,error:function(){SS.events.trigger("alerts:create",{title:n,type:"error"}),a.close()}})},unmarkListAsComplete:function(e,t){var i=this;s.a.ajaxRequest("/lists/".concat(e,"/complete"),{data:JSON.stringify({id:e,is_complete:0,mark_all_as_complete:!1}),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",success:function(){},error:function(){SS.events.trigger("alerts:create",{title:t,type:"error"}),i.close()}})},onClickCreate:function(e){e.preventDefault(),n(".list-content").hide(),n(".create-new-list").show(),n(".list-cancel").on("click",this.onClickBackToList.bind(this)),this.focusListInput()},onClickBackToList:function(){n(".list-content").show(),n(".create-new-list").hide()}});t.a=c}).call(this,i(51),i(48))},function(e,t,i){"use strict";(function(e,n,s){i(186),i(96),i(187),i(228),i(943);var a=i(992),o=i(949),r=i(984),l=i(940),c=i(952),d=l.a.extend({urlRoot:"/listings",lastServerState:null,units:null,currentClass:null,dontOverWriteModels:0,constructor:function(t){this.units=new a.a(null,{parentClass:this}),this.attachments=new c.a([],{parentClass:this}),t.parentClass?this.tags=new o.a(t.parentClass.tags):this.tags=new o.a(t.tags),this.currentClass=new r.a(null,{parentClass:this}),e.Model.prototype.constructor.apply(this,arguments)},initialize:function(){var e=this;n.defer((function(){e.lastServerState=e.toJSON()})),this.on("sync",(function(){this.lastServerState=this.toJSON()})),this.on("request",(function(e,t,i){this.units.each((function(e){e.trigger("request",e,t,i)}))})),l.a.prototype.initialize.apply(this,arguments)},onErrorChange:function(e,t,i){t.syllabus||t.units?(this.units.trigger("invalid",e,{syllabus:t.syllabus},i),delete t.syllabus):this.units.trigger("valid",e,{syllabus:t.syllabus},i),this.trigger("invalid",e,t,i),l.a.prototype.onErrorChange.apply(this,arguments)},treeHasChanged:function(){return!n.isEqual(this.toJSON(),this.lastServerState)},revertToLastSyncState:function(){this.set(this.parse(this.lastServerState))},isPublished:function(){return"1"===this.get("status_id")||1===this.get("status_id")},isDraft:function(){return"2"===this.get("status_id")||2===this.get("status_id")},isPendingReview:function(){return"3"===this.get("status_id")||3===this.get("status_id")},isMembershipClass:function(){return"1"===this.get("enrollment_type")||"2"===this.get("enrollment_type")},getPreviewUrl:function(e){var t=this.get("title")||"untitled-class";if(t=t.trim().replace(/ /g,"-").replace(/[^\w-]+/g,""),this.get("sku")){var i="/"+t+"/"+this.get("sku");return e&&(i+="?videoId="+e),i}return"#"},parse:function(e){if(this.dontOverWriteModels>0)return this.dontOverWriteModels--,this.setSessionIds(e.parentClass),void this.set("errors",e.parentClass.errors);var t=n.clone(e);n.isUndefined(t.currentClass)||(this.currentClass.set(this.currentClass.parse(t.currentClass)),delete t.currentClass);var i=n.isUndefined(t.parentClass)?t:t.parentClass;return i.units=this.convertCids(i.units),this.units.set(i.units,{parse:!0}),delete t.units,this.attachments.set(i.attachments,{parse:!0}),delete i.attachments,i},setSessionIds:function(e){var t=this;e.units&&n.each(e.units,(function(e){n.each(e.sessions,(function(e){e.id&&e.cid&&t.findSessionByCid(e.cid).set("id",e.id)}))}))},findSessionByCid:function(e){var t;return this.units.each((function(i){var n=i.sessions.get({cid:e});n&&(t=n)})),t},toJSON:function(e){var t=n.clone(this.attributes);return t.units=this.units.toJSON(e),t.attachments=this.attachments.toJSON(e),t.tags=this.tags.toJSON(e),{parentClass:t,currentClass:this.currentClass.toJSON(e)}},sync:function(t,i,s){if(n.isUndefined(s.data)&&i&&("create"===t||"update"===t||"patch"===t)){s.contentType="application/json";var a=s.attrs||i.toJSON(s);a.action=s.action||"save",s.data=JSON.stringify(a)}return e.sync.apply(this,arguments)},deleteDraft:function(e){var t={YII_CSRF_TOKEN:s.cookie("YII_CSRF_TOKEN"),sku:this.get("sku")};s.ajax({type:"POST",url:"/listings/deletedraft",data:t,success:e})},convertCids:function(e){return n.map(e,(function(e){var t=this.units.get(e.cid);return t&&t.set(t.parse(e)),t||e}),this)}});t.a=d}).call(this,i(76),i(51),i(48))},,,function(e,t){e.exports='<div class="save-list-popover">\n    <div class="inner-popover">\n        <div class="arrow-cover"></div>\n        <div class="arrow"></div>\n        <div class="content">\n          {{#hasLoaded}}\n            <div class="save-list">\n                <p class="list-header">Add this class to a list</p>\n                <div class="create-new-list{{^firstList}} hidden{{/firstList}}">\n                    <div class="playlist-form">\n                        <input class="list-input" title="list-input" id="list-name" placeholder="List Name" maxlength="50">\n                        <div class="create-list-error">\n                            <span class="create-list-error-message"></span>\n                        </div>\n                        <div class="playlist-action">\n                            <a href="javascript:;" class="{{#firstList}}first-{{/firstList}}list-cancel">{{#firstList}}Cancel{{/firstList}}{{^firstList}}Back{{/firstList}}</a>\n                            <button type="submit" class="button submit-list-name">Save</button>\n                        </div>\n                    </div>\n                </div>\n                {{^firstList}}\n                    <div class="list-content">\n                        <div class="existing-list">\n                            {{#listData}}\n                                <div class="existing-item{{#classIsInList}} selected{{/classIsInList}}" data-list-id="{{customListId}}">{{title}}{{#classIsInList}}<img class="status-icon{{#classIsInList}} selected{{/classIsInList}}" src="{{iconCheck}}" data-list-id="{{customListId}}" />{{/classIsInList}}</div>\n                            {{/listData}}\n                        </div>\n                        <div class="existing-list-action">\n                            Create New Playlist\n                        </div>\n                    </div>\n                {{/firstList}}\n            </div>\n            {{/hasLoaded}}\n            {{^hasLoaded}}\n                <div class="save-list loading-overlay">\n                </div>\n            {{/hasLoaded}}\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(954),s=i(993),a=n.a.extend({model:s.a,initialize:function(e,t){this.parentClass=t.parentClass,this.on("add remove",this.toggleModelDestroyable)},toggleModelDestroyable:function(){var e=this.length>1;this.invoke("toggleDestroyable",e)}});t.a=a},function(e,t,i){"use strict";(function(e,n){i(186),i(943);var s=i(983),a=i(948),o=i(940),r=o.a.extend({constructor:function(t,i){this.parentClass=i.collection.parentClass,this.lectures=this.sessions=new s.a(null,{parentClass:this.parentClass,unit:this}),this.completion=new a.a,e.Model.apply(this,arguments)},defaults:{destroyable:!0},initialize:function(){this.set("cid",this.cid),this.on("request",(function(e,t,i){this.sessions.each((function(e){e.trigger("request",e,t,i)}))})),this.on("destroy",(function(){this.sessions.each((function(e){e.trigger("destroy",e)}))})),o.a.prototype.initialize.apply(this,arguments)},parse:function(e){var t=n.clone(e);return t.rank=parseInt(t.rank,10),t.sessions=this.convertCids(t.sessions),this.sessions.set(t.sessions,{parse:!0}),delete t.sessions,this.completion.set({target_type:"Unit",target_id:t.id,parent_id:t.parent_id}),n.isUndefined(t.unitCompletion)||(this.completion.set(t.unitCompletion,{parse:!0}),this.completion.set({completed:!0})),t},toJSON:function(){var e=n.omit(this.attributes,"destroyable");return e.sessions=this.sessions.toJSON(),e},convertCids:function(e){return n.map(e,(function(e){var t=this.sessions.get(e.id);return t||(t=this.sessions.get(e.cid)),t&&t.set(t.parse(e)),t||e}),this)},toggleDestroyable:function(e){this.set("destroyable",e)}});t.a=r}).call(this,i(76),i(51))},,function(e,t,i){"use strict";(function(e){var n=i(171),s=i(963),a=i(358),o=i(1050),r=i.n(o),l=n.a.extend({template:r.a,tooltips:["Like this","Unlike this"],initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.extend(this,e.pick(t,["model","parentModel","type"])),this.templateData={},e.isUndefined(t.tooltips)||(this.tooltips=t.tooltips),t.showCounter&&(this.showCounter=!0,this.templateData.showCounter=!0,e.isUndefined(this.parentModel.get("numLikes"))?e.isUndefined(this.parentModel.get("numVotes"))?this.templateData.numLikes=0:this.templateData.numLikes=this.parentModel.get("numVotes"):this.templateData.numLikes=this.parentModel.get("numLikes")),t.modelData){var i={voteable_id:t.modelData.voteable_id,voteable_type:t.modelData.voteable_type};0!==t.modelData.voteId&&e.extend(i,{id:t.modelData.voteId}),this.model=new s.a(i)}t.initialState?this.initialState=t.initialState:this.initialState=e.isUndefined(this.model.get("id"))?n.a.states.INACTIVE:n.a.states.ACTIVE,"label"===t.type?(t.labels||(this.labels=["Like","Unlike"]),this.templateData.styles=""):"circle"===t.type?this.templateData.styles="circle-btn circle-like-btn ss-icon-heart":"oval"===t.type&&this.initialState===n.a.states.INACTIVE?this.templateData.styles="oval-btn oval-like-btn ss-icon-empty-heart":this.templateData.styles="oval-btn oval-like-btn ss-icon-heart",e.isUndefined(t.styles)||(this.templateData.styles+=" "+t.styles);var a=this;this.model.on("change",(function(){"oval"===a.type&&(a.model.get("state")===n.a.states.INACTIVE?(a.$el.removeClass("ss-icon-heart"),a.$el.addClass("ss-icon-empty-heart")):(a.$el.removeClass("ss-icon-empty-heart"),a.$el.addClass("ss-icon-heart")))})),n.a.prototype.initialize.apply(this,arguments)},onClick:function(t){if(t.stopPropagation(),!e.isUndefined(this.parentModel)){var i=0,s=0;e.isUndefined(this.parentModel.get("numLikes"))?e.isUndefined(this.parentModel.get("numVotes"))||(i=this.parentModel.get("numVotes")):i=this.parentModel.get("numLikes"),i=a.a.stripCommas(i),s=this.determineNewState()===n.a.states.ACTIVE?i+1:i-1,this.showCounter&&this.$(".counter-wrapper").text(s),this.parentModel.set({numLikes:s,userVote:{value:this.determineNewState()===n.a.states.ACTIVE?1:0}})}n.a.prototype.onClick.apply(this,arguments)}});t.a=l}).call(this,i(51))},function(e,t,i){"use strict";i(657),i(96),i(187);t.a={formatPossessive:function(e){return"s"===e.slice(-1)?e+"'":e+"'s"},addHTMLLineBreaks:function(e){return e.replace(/(\r\n?|\n)/g,"<br />")},toTitleCase:function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}},function(e,t,i){"use strict";(function(e,n){i(24),i(71);var s=i(132),a=e.View.extend({events:{submit:"formDidSubmit","input .js-email-invite-input-el":"checkInputValidity"},initialize:function(e){n.bindAll(this,"onSuccess","onError"),this.trackingParams=n.isUndefined(e.trackingParams)?{}:e.trackingParams,this.$submit=this.$(".invite-via-email"),this.$input=this.$(".emails"),this.$input.length&&this.checkInputValidity()},formDidSubmit:function(e){e.preventDefault(),this.emailReferrals()},checkInputValidity:function(){var e=this.$input.get(0).validity.valid&&this.$input.val().length>0;this.$submit.add(this.$input).toggleClass("disabled",!e),this.trigger("inputValidityDidChange",{validity:e})},emailReferrals:function(){return new Promise(function(t,i){var a,o,r,l,c,d;if(a=this.$submit,o=this.$input,a.hasClass("disabled"))return t();l=(r=this.$el).serializeArray(),a.add(o).addClass("disabled"),o.removeClass("error");var h=function(){try{return d=n.extend({},this.trackingParams,SS.EventTracker.classDetails({type:"Email"})),SS.EventTracker.track("Clicked Share Button",{},d),e.trigger("shared"),t()}catch(e){return i(e)}}.bind(this),u=function(e){try{return this.onError(),h()}catch(e){return i(e)}}.bind(this);try{return Promise.resolve(s.a.ajax(r.attr("action"),{type:"POST",data:l,dataType:"json"})).then(function(e){try{return(c=e).success?(this.onSuccess(c),this.trigger("success")):this.trigger("inlineReferralError",{message:c.error}),h()}catch(e){return u(e)}}.bind(this),u)}catch(e){u(e)}}.bind(this))},onError:function(){var e=this.$input;e.addClass("error"),e.add(this.$submit).removeClass("disabled"),SS.events.trigger("alerts:create",{type:"error",title:"Oops, something went wrong."})},onSuccess:function(e){if(!e.success)return this.onError();this.$input.val("").add(this.$submit).removeClass("disabled"),SS.events.trigger("alerts:create",{type:"success",title:"Sent!"})}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1005),a=i(1006),o=i(1008),r=i(1011),l=i.n(r),c=n.a.extend({events:{"click .retry-btn":"onRetry"},autoRender:!1,template:l.a,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,["trackingParams","referralData"])),n.a.prototype.initialize.apply(this,arguments)},authorize:function(){var e=this;s.a.loaded.done((function(){s.a.authorize().done((function(){e.trigger("user:authorized"),e.render()}))}))},afterRender:function(){var e=this;this.$contactsList=this.$(".contacts-list"),this.$errorMessage=this.$(".error-message");var t=s.a.loadContacts();t.done((function(t){e.trigger("contacts:loaded"),e.$contactsList.removeClass("loading-overlay");var i=new a.a(t,{referralData:e.referralData});i.length<=0?e.showError("You have no contacts."):new o.a({collection:i,el:e.$contactsList})})),t.fail((function(){e.showError("There was an error fetching your contacts.",!0)})),n.a.prototype.afterRender.apply(this,arguments)},onRetry:function(){this.$el.removeClass("error retry"),this.authorize()},showError:function(e,t){this.$contactsList.empty(),this.$errorMessage.html(e),this.$el.addClass("error"),t&&this.$el.addClass("retry")}});t.a=c}).call(this,i(51))},function(e,t){e.exports='<div class="flex-grid-item ss-card ss-class ss-project row">\n    {{^hasDefaultImage}}\n        <a href="{{url}}" class="ss-card__thumbnail js-class-preview ss-card__no-image">\n            <div class="project-modal-container"></div>\n            <span class="ss-card__thumbnail-img-holder project-title">{{shortenedTitle}}</span>\n        </a>\n    {{/hasDefaultImage}}\n    {{#hasDefaultImage}}\n        <a href="{{url}}" class="ss-card__thumbnail js-class-preview">\n            <div class="project-modal-container"></div>\n            <img\n                width="799"\n                height="540"\n                alt="{{shortenedTitle}}"\n                class="ss-card__thumbnail-img-holder"\n                srcset="{{cover_246}} 246w,\n                        {{cover_450}} 450w,\n                        {{cover_800}} 800w"\n                sizes="(max-width: 541px) 100vw, 541px"\n                src="{{cover_800}}"\n                loading="lazy"\n            />\n        </a>\n    {{/hasDefaultImage}}\n    <div class="ss-card__content">\n        {{> partials/_user-information-small}}\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e){var n=i(171),s=i(963),a=i(358),o=i(1031),r=i.n(o),l=n.a.extend({template:r.a,tooltips:["Like this","Unlike this"],initialize:function(t){var i=t||{};if(e.extend(this,e.pick(i,["model","parentModel","remountProjectModal"])),this.templateData={},this.labels=['<svg class="ss-svg-icon empty-heart"><use xlink:href="#heart--empty" /></svg>','<svg class="ss-svg-icon heart-icon-filled"><use xlink:href="#heart--filled" /></svg>'],i.modelData){var a={voteable_id:i.modelData.voteable_id,voteable_type:i.modelData.voteable_type};0!==i.modelData.voteId&&e.extend(a,{id:i.modelData.voteId}),this.model=new s.a(a)}i.initialState?this.initialState=i.initialState:this.initialState=this.model.get("id")?n.a.states.ACTIVE:n.a.states.INACTIVE,i.styles&&(this.templateData.styles=i.styles),n.a.prototype.initialize.apply(this,arguments)},onClick:function(e){if(e&&e.stopPropagation(),this.parentModel){var t=0,i=0;this.parentModel.get("numLikes")&&(t=this.parentModel.get("numLikes")),t=a.a.stripCommas(t),this.determineNewState()===n.a.states.ACTIVE?(i=t+1,this.$(".empty-heart").hide(),this.$(".filled-heart").show()):(i=t-1,this.$(".empty-heart").show(),this.$(".filled-heart").hide()),this.parentModel.set({hasVoted:this.determineNewState(),numLikes:i,userVote:{value:this.determineNewState()===n.a.states.ACTIVE?1:0}}),e&&this.remountProjectModal&&this.remountProjectModal()}n.a.prototype.onClick.apply(this,arguments)}});t.a=l}).call(this,i(51))},,,,function(e,t,i){"use strict";(function(e,i){var n=e.Model.extend({urlRoot:"/projects",initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.isUndefined(t.classModel)||(this.classModel=t.classModel)},parse:function(e){return this.content=e.content,delete e.content,e},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.data=i.extend({},t.data,{id:this.id||null,sku:this.classModel.get("sku"),classId:this.classModel.id}),e.Model.prototype.fetch.apply(this,arguments)},fetchCreatePage:function(e){var t=i.extend({},e,{url:"/projects/create"});return this.fetch(t)},fetchUpdatePage:function(e){var t=i.extend({},e,{url:"/projects/update"});return this.fetch(t)},fetchViewPage:function(e){var t=i.extend({},e,{url:"/projects/view"});return this.fetch(t)}});t.a=n}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e){var n=i(950),s=i(132),a={init:function(e){this.gapi=e,a.loaded.resolve(this)},authorize:function(){var t=this,i=e.Deferred();return this.gapi.auth.authorize({client_id:"281295984696-b1i9mp3r2qnpgd80rplqig1so711j1an.apps.googleusercontent.com",scope:"https://www.google.com/m8/feeds",immediate:!1},(function(e){e&&!e.error?(t.authResult=e,i.resolve(e)):i.reject()})),i},makeRequest:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=e.Deferred();return i.access_token=this.authResult.access_token,s.a.ajaxRequest(t,{data:i,type:n,success:function(e){e.error?a.reject(e.error):a.resolve(e)}}),a},loadContacts:function(e){return this.makeRequest("/contacts",e,"POST")}};a.loaded=new e.Deferred,window.onGoogleLoad=function(){a.init(window.gapi)};try{n.a.google((function(){}),(function(){a.loaded.reject()}))}catch(e){}t.a=a}).call(this,i(48))},function(e,t,i){"use strict";(function(e,n){var s=i(1007),a=e.Collection.extend({initialize:function(e,t){n.extend(this,n.pick(t,["referralData"]))},model:s.a});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";var n=i(448),s=i(1009),a=n.a.extend({itemView:s.a,animateOnRemove:!0});t.a=a},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(132),a=i(1010),o=i.n(a),r=i(945),l=n.a.extend({tagName:"li",className:"contact-row",template:o.a,templateData:function(){return this.model.attributes},events:{"click .invite-btn":"sendInvite"},initialize:function(){n.a.prototype.initialize.apply(this,arguments),e.bindAll(this,"remove")},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.$inviteStatus=this.$(".invite-status"),this.$inviteBtn=this.$(".invite-btn")},sendInvite:function(){var t=this;this.showLoader();var i=this.model.collection.referralData,n=i?i.endpoint:"/listings/emailReferrals",a=Object(r.a)(),o=e.extend({},i,{emails:this.model.get("email"),utm_campaign:a.utm_campaign,utm_source:a.utm_source,utm_medium:a.utm_medium});s.a.ajaxRequest(n,{type:"POST",data:o,success:function(e){e.success?(t.showCheck(),setTimeout(t.remove,1e3)):t.showButton()}})},showButton:function(){this.clearStatus(),this.$inviteStatus.addClass("initial")},showLoader:function(){this.clearStatus(),this.$inviteStatus.addClass("loading icon-loading")},showCheck:function(){this.clearStatus(),this.$inviteStatus.addClass("checked ss-icon-check")},clearStatus:function(){this.$inviteStatus.removeClass("initial checked loading ss-icon-check icon-loading")},remove:function(){this.model.collection.remove(this.model)}});t.a=l}).call(this,i(51))},function(e,t){e.exports='<div class="contact-wrapper clear {{^name}}no-name{{/name}} {{^isMember}}{{^name}}vertical-center{{/name}}{{/isMember}}">\n    {{^isMember}}\n        <div class="right">\n            <div class="invite-status initial">\n                <a href="javascript:;" class="invite-btn btn small bordered">Send</a>\n            </div>\n        </div>\n    {{/isMember}}\n    <div class="contact-info">\n        {{#isMember}}\n            {{#name}}<p class="ellipsis"><strong>{{name}}</strong></p>{{/name}}\n            {{^name}}<p class="contact-email ellipsis"><strong>{{email}}</strong></p>{{/name}}\n            <p class="contact-note">Already a Skillshare Member.</p>\n        {{/isMember}}\n        {{^isMember}}\n            {{#name}}<p class="ellipsis"><strong>{{name}}</strong></p>{{/name}}\n            <p class="contact-email ellipsis">{{email}}</p>\n        {{/isMember}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="placeholder-area error-wrapper">\n    <div class="error-message"></div>\n    <a href="javascript:;" class="secondary retry-btn">Retry</a>\n</div>\n<ul class="scrollable-list contacts-list loading-overlay"></ul>\n'},function(e,t,i){"use strict";(function(e){i(359),i(360);var n=i(57),s=i(982),a=i(463),o=i(951),r=i(1014),l=i.n(r),c=i(1015),d=i.n(c),h=i(1022),u=i.n(h),p=i(1033),v=i.n(p),m=i(1034),f=i.n(m),g=i(1035),y=i.n(g),b=i(960),w=i.n(b),C=i(967),k=i.n(C),S=i(1016),P=i.n(S),T=i(1036),x=i.n(T),E=i(1037),_=i.n(E),j=i(941),D=i(300),O=i(1038),I=n.a.extend({setElementToTemplate:!0,template:function(){return this.model&&this.model.collection&&this.model.collection.useCssGrid?x.a:l.a},templatePartials:{"partials/_class-preview":d.a,"partials/_class-preview-video":u.a,"partials/_class-preview-wishlist":v.a,"partials/_teacher-information-small":f.a,"partials/_teacher-information-small-minimal":y.a,"partials/_review-stat":k.a,"partials/_class-stats":w.a,"partials/_class-card-content":x.a,"partials/_class-card-content-minimal":_.a},templateData:function(){return e.extend({},this.model.attributes,{clientRendered:!0,showClassReviewCount:SS.serverBootstrap.showClassReviewCount})},events:{"click .js-class-preview":"onClick","click .num-following-enrolled":"followingEnrolledPopup"},afterRender:function(){this.setup(),j.a.initPopovers(this),D.a.initNewTooltips(),n.a.prototype.afterRender.apply(this,arguments)},setup:function(){var e={container:this.$(".wishlist-button-container"),isLabelButton:!0,labels:[],styles:"sk-icon",modelData:{parent_class_id:this.model.get("id"),parent_sku:this.model.get("sku"),wishlistId:this.model.get("wishlistId"),trackingParams:this._wishlistTrackingParams(),pupilRequestId:this.model.get("pupilRequestId")},template:P.a,activeClass:"ss-icon-nsk-bookmark-saved",inactiveClass:"ss-icon-nsk-bookmark-save-default"};this.wishlistButton=new s.a(e),SS.events.on("wishlistAdded",this.wishlistChanged.bind(this)),SS.events.on("wishlistRemoved",this.wishlistChanged.bind(this)),this.wishlistButton.on("createListPopover",this.lockOptionsVisible.bind(this)),this.wishlistButton.on("destroyListPopover",this.unlockOptionsVisible.bind(this))},onClick:function(e){this.options.collectionView.trigger("class:click",this.model,e.target)},followingEnrolledPopup:function(){var e="/home/"+this.model.get("sku")+"/followingEnrolled";new a.a({url:e,title:"Friends enrolled",emptyMessage:"None of your friends are enrolled in this class."})},lockOptionsVisible:function(){this.$(".js-preview-options").css("visibility","visible")},unlockOptionsVisible:function(){this.$(".js-preview-options").css("visibility","")},wishlistChanged:function(e){var t=parseInt(e.get("parent_sku"),10);this.model&&t===this.model.get("sku")&&(e.has("id")?(this._wishlistTrackingParams()&&this._wishlistTrackingParams().via.includes("".concat(o.a.VIA_LOGGED_IN_HOME,"-row"))&&O.a.publishParentClass(this.model.get("sku"),O.a.EVENT_SAVE,this.model.get("pupilRequestId")),this.model.set("wishlistId",e.get("id"))):this.model.unset("wishlistId"),this.wishlistButton.model=e,this.wishlistButton.update(),this.wishlistButton.onStateChange(e))},_wishlistTrackingParams:function(){return this.options.collectionView?this.options.collectionView.options.wishlistTrackingParams:{}}});t.a=I}).call(this,i(51))},function(e,t){e.exports='<a href="javascript:;" class="wishlist-button{{#styles}} {{styles}} {{/styles}}{{^isLabelButton}} circle-btn circle-wishlist-btn ss-icon-bookmark{{/isLabelButton}}">{{initialContent}}</a>\n'},function(e,t){e.exports='<div class="{{#columnSize}}col-{{columnSize}}{{/columnSize}} {{^columnSize}}col-6{{/columnSize}} class-column {{#clientRendered}}rendered{{/clientRendered}}">\n    {{> partials/_class-card-content}}\n</div>\n'},function(e,t){e.exports='<div class="wishlist-{{#wishlistPrimary}}save{{/wishlistPrimary}}{{^wishlistPrimary}}button{{/wishlistPrimary}}-container">\n    {{#wishlistPrimary}}\n        <div class="btn large bordered transparent">\n            <span class="saved-text">Saved</span>\n            <span class="save-class-text">Save Class</span>\n        </div>\n    {{/wishlistPrimary}}\n</div>\n<div class="class-preview-stats {{#showAllClassStats}}class-preview-stats-all{{/showAllClassStats}} js-class-preview-stats">\n    {{#showAllClassStats}}\n        <div class="class-students class-preview-stats-data">\n            <span class="ss-icon-user">{{numStudents}}</span>\n        </div>\n        <span class="middot">&middot;</span>\n        <div class="class-positive-review class-preview-stats-data">\n            <span class="ss-icon-thumbs-up">{{percentPositiveReviews}}</span>\n        </div>\n        <span class="middot">&middot;</span>\n    {{/showAllClassStats}}\n    {{#totalSessionsDuration}}\n        <div class="class-videos-duration class-preview-stats-data">\n            <span class="count">{{totalSessionsDuration}}</span>\n        </div>\n    {{/totalSessionsDuration}}\n</div>\n{{#isDraft}}\n    <div class="class-draft-tag tag grey right">\n        <span class="iconed-input ss-icon-lock icon-left">Draft</span>\n    </div>\n{{/isDraft}}\n<div class="background-image-holder" style="background-image: url({{image}});"></div>\n{{#wishlistPrimary}}\n    <div class="video-overlay"></div>\n{{/wishlistPrimary}}\n'},function(e,t){e.exports='<a href="javascript:;" class="{{#styles}}{{styles}} {{/styles}} {{activeClass}}"></a>\n'},function(e,t,i){e.exports=i(209)(5)},function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));i(27),i(45),i(46),i(119),i(31),i(188),i(456),i(24),i(96),i(118),i(33),i(172),i(35);var n,s,a,o,r=i(0),l=i.n(r),c=i(10),d=i(18),h=i(97),u=i(190),p=i(454),v=i(23),m=i(986),f=i(994),g=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},y=Object(d.c)(n||(n=g(["\n    .skillshare-staff-pick-badge svg {\n        width: 92px;\n        height: 14px;\n    }\n\n    .skillshare-original-badge svg {\n        width: 71px;\n        height: 17px;\n    }\n\n    .skillshare-original-badge,\n    .skillshare-staff-pick-badge {\n        svg {\n            margin-top: 12px;\n            margin-left: 12px;\n        }\n\n        .gradient {\n            border-radius: 8px 8px 0 0;\n            height: 60px;\n            left: 0;\n            position: absolute;\n            right: 0;\n            z-index: 3;\n\n            @media screen and (max-width: $screenSmallMax) {\n                bottom: auto;\n                left: 0;\n                right: 0;\n                top: auto;\n            }\n        }\n    }\n"],["\n    .skillshare-staff-pick-badge svg {\n        width: 92px;\n        height: 14px;\n    }\n\n    .skillshare-original-badge svg {\n        width: 71px;\n        height: 17px;\n    }\n\n    .skillshare-original-badge,\n    .skillshare-staff-pick-badge {\n        svg {\n            margin-top: 12px;\n            margin-left: 12px;\n        }\n\n        .gradient {\n            border-radius: 8px 8px 0 0;\n            height: 60px;\n            left: 0;\n            position: absolute;\n            right: 0;\n            z-index: 3;\n\n            @media screen and (max-width: $screenSmallMax) {\n                bottom: auto;\n                left: 0;\n                right: 0;\n                top: auto;\n            }\n        }\n    }\n"]))),b=i(4),w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},C=Object(d.c)(s||(s=w(["\n    ",";\n    box-sizing: border-box;\n    padding: 12px 8px;\n\n    .class-card-inner-wrapper {\n        background-color: ",";\n        border-radius: 8px;\n        box-shadow: 0 2px 4px 0 rgba(184, 184, 184, 0.5);\n        color: ",";\n        cursor: pointer;\n        position: relative;\n\n        .class-link {\n            font-size: 0;\n            height: 100%;\n            left: 0;\n            position: absolute;\n            text-decoration: none;\n            top: 0;\n            width: 100%;\n            z-index: 2;\n        }\n\n        &::after {\n            border-radius: 5px;\n            bottom: 0;\n            box-shadow: 0 4px 8px 0 ",";\n            content: '';\n            left: 0;\n            opacity: 0;\n            pointer-events: none;\n            position: absolute;\n            right: 0;\n            top: 0;\n            transition: opacity 0.2s ease-in-out;\n\n            &:hover {\n                opacity: 1;\n                z-index: 0;\n            }\n        }\n\n        &.class-card-hover .play-button {\n            opacity: 1;\n            visibility: visible;\n        }\n\n        & > a,\n        .btn {\n            position: relative;\n            z-index: 2;\n        }\n\n        .thumbnail {\n            display: block;\n            margin-bottom: 0;\n            overflow: hidden;\n            padding-top: 56.25%;\n            position: relative;\n\n            &-img-holder {\n                align-items: center;\n                background-repeat: no-repeat;\n                background-size: cover;\n                border-radius: 8px 8px 0 0;\n                bottom: 0;\n                display: flex;\n                justify-content: center;\n                left: 0;\n                position: absolute;\n                right: 0;\n                top: 0;\n                z-index: 1;\n            }\n        }\n\n        .play-button {\n            align-items: center;\n            border-radius: 50%;\n            display: flex;\n            height: 40px;\n            justify-content: center;\n            visibility: hidden;\n            width: 40px;\n            z-index: 3;\n\n            &::before {\n                bottom: auto;\n                left: 2px;\n                right: auto;\n                top: 2px;\n            }\n\n            & > div {\n                margin-left: 2px;\n                margin-top: 16px;\n            }\n        }\n    }\n"],["\n    ",";\n    box-sizing: border-box;\n    padding: 12px 8px;\n\n    .class-card-inner-wrapper {\n        background-color: ",";\n        border-radius: 8px;\n        box-shadow: 0 2px 4px 0 rgba(184, 184, 184, 0.5);\n        color: ",";\n        cursor: pointer;\n        position: relative;\n\n        .class-link {\n            font-size: 0;\n            height: 100%;\n            left: 0;\n            position: absolute;\n            text-decoration: none;\n            top: 0;\n            width: 100%;\n            z-index: 2;\n        }\n\n        &::after {\n            border-radius: 5px;\n            bottom: 0;\n            box-shadow: 0 4px 8px 0 ",";\n            content: '';\n            left: 0;\n            opacity: 0;\n            pointer-events: none;\n            position: absolute;\n            right: 0;\n            top: 0;\n            transition: opacity 0.2s ease-in-out;\n\n            &:hover {\n                opacity: 1;\n                z-index: 0;\n            }\n        }\n\n        &.class-card-hover .play-button {\n            opacity: 1;\n            visibility: visible;\n        }\n\n        & > a,\n        .btn {\n            position: relative;\n            z-index: 2;\n        }\n\n        .thumbnail {\n            display: block;\n            margin-bottom: 0;\n            overflow: hidden;\n            padding-top: 56.25%;\n            position: relative;\n\n            &-img-holder {\n                align-items: center;\n                background-repeat: no-repeat;\n                background-size: cover;\n                border-radius: 8px 8px 0 0;\n                bottom: 0;\n                display: flex;\n                justify-content: center;\n                left: 0;\n                position: absolute;\n                right: 0;\n                top: 0;\n                z-index: 1;\n            }\n        }\n\n        .play-button {\n            align-items: center;\n            border-radius: 50%;\n            display: flex;\n            height: 40px;\n            justify-content: center;\n            visibility: hidden;\n            width: 40px;\n            z-index: 3;\n\n            &::before {\n                bottom: auto;\n                left: 2px;\n                right: auto;\n                top: 2px;\n            }\n\n            & > div {\n                margin-left: 2px;\n                margin-top: 16px;\n            }\n        }\n    }\n"])),Object(b.e)((function(e){return e.normal})),Object(b.b)((function(e){return e.white})),Object(b.b)((function(e){return e.charcoal})),Object(b.b)((function(e){return e.concrete}))),k=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=Object(d.c)(a||(a=k(["\n    .content {\n        padding: 8px;\n        position: relative;\n    }\n\n    .teacher-save-container {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    .wishlist-button-container,\n    .teacher-placeholder {\n        z-index: 2;\n    }\n\n    .teacher-placeholder {\n        line-height: 24px;\n\n        .user-information,\n        .user-information p {\n            font-size: 13px;\n            margin: 0;\n        }\n    }\n\n    .teacher-placeholder .link-main,\n    a.sk-icon {\n        color: ",";\n        text-decoration: none;\n\n        &:hover {\n            color: ",";\n        }\n    }\n\n    .title {\n        box-sizing: border-box;\n        color: ",";\n        font-weight: 600;\n        line-height: 1.33;\n        margin: 8px 0 0;\n        height: 60px;\n        text-align: left;\n        text-decoration: none;\n\n        /*Truncates the title after 3 lines */\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n    }\n\n    .stats {\n        align-items: center;\n        display: flex;\n        justify-content: flex-end;\n        flex-direction: row-reverse;\n        flex-wrap: wrap-reverse;\n        font-size: 13px;\n        line-height: 24px;\n        text-align: initial; // override styles in the monolith\n\n        .duration {\n            flex-grow: 1;\n            min-width: 55px;\n            position: relative;\n            text-align: right;\n\n            &::before {\n                margin-right: 2px;\n            }\n\n            .icon {\n                display: inline-block;\n                vertical-align: middle;\n            }\n        }\n\n        .student-count {\n            flex-grow: 1;\n            min-width: 84px;\n            padding-left: 2px;\n        }\n\n        .student-list {\n            &::after {\n                content: '+';\n                padding-left: 5px;\n            }\n            & > div {\n                display: inline-block;\n                margin-right: -3.5px;\n                margin-top: -1.5px;\n                vertical-align: top;\n\n                img {\n                    border: 1px solid ",";\n                }\n            }\n        }\n    }\n\n    .hide-students .stats .student-list {\n        display: none;\n    }\n"],["\n    .content {\n        padding: 8px;\n        position: relative;\n    }\n\n    .teacher-save-container {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    .wishlist-button-container,\n    .teacher-placeholder {\n        z-index: 2;\n    }\n\n    .teacher-placeholder {\n        line-height: 24px;\n\n        .user-information,\n        .user-information p {\n            font-size: 13px;\n            margin: 0;\n        }\n    }\n\n    .teacher-placeholder .link-main,\n    a.sk-icon {\n        color: ",";\n        text-decoration: none;\n\n        &:hover {\n            color: ",";\n        }\n    }\n\n    .title {\n        box-sizing: border-box;\n        color: ",";\n        font-weight: 600;\n        line-height: 1.33;\n        margin: 8px 0 0;\n        height: 60px;\n        text-align: left;\n        text-decoration: none;\n\n        /*Truncates the title after 3 lines */\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n    }\n\n    .stats {\n        align-items: center;\n        display: flex;\n        justify-content: flex-end;\n        flex-direction: row-reverse;\n        flex-wrap: wrap-reverse;\n        font-size: 13px;\n        line-height: 24px;\n        text-align: initial; // override styles in the monolith\n\n        .duration {\n            flex-grow: 1;\n            min-width: 55px;\n            position: relative;\n            text-align: right;\n\n            &::before {\n                margin-right: 2px;\n            }\n\n            .icon {\n                display: inline-block;\n                vertical-align: middle;\n            }\n        }\n\n        .student-count {\n            flex-grow: 1;\n            min-width: 84px;\n            padding-left: 2px;\n        }\n\n        .student-list {\n            &::after {\n                content: '+';\n                padding-left: 5px;\n            }\n            & > div {\n                display: inline-block;\n                margin-right: -3.5px;\n                margin-top: -1.5px;\n                vertical-align: top;\n\n                img {\n                    border: 1px solid ",";\n                }\n            }\n        }\n    }\n\n    .hide-students .stats .student-list {\n        display: none;\n    }\n"])),Object(b.b)((function(e){return e.charcoal})),Object(b.b)((function(e){return e.violet})),Object(b.b)((function(e){return e.navy})),Object(b.b)((function(e){return e.white}))),P=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},T=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,a=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}return o};!function(e){e.Original="ORIGINAL",e.StaffPick="STAFF_PICK"}(o||(o={}));var x,E=d.d.div(x||(x=P(["\n    ","\n    ","\n    ","\n"],["\n    ","\n    ","\n    ","\n"])),C,y,S),_=function(e){var t={backgroundImage:"url("+e.largeCoverUrl+")"},i=T(Object(r.useState)(!1),2),n=i[0],s=i[1],a=T(Object(r.useState)(!1),2),d=a[0],g=a[1],y=T(Object(v.m)(),1)[0],b=e.badges[0],w=b&&b.type===o.Original,C=b&&b.type===o.StaffPick,k=Object(p.d)(e.teacher,e.via),S=Object(p.e)(e.url,e.via),P=Object(c.a)("class-card-inner-wrapper",{"class-card-active":n,"class-card-hover":d}),x=function(){s(!1),g(!1)},_=function(t){t.stopPropagation(),y({action:e.trackEventCard||u.TrackableEvents["Clicked-SearchResult-Class"],other:{rank:(Number(e.cursor)+1).toString(),sku:e.sku}}),document.location.href=S};return l.a.createElement(E,{className:"class-card",onClick:_,onMouseDown:function(e){if(-1===["a","path","svg"].indexOf(e.target.tagName.toLowerCase()))return e.stopPropagation(),void s(!0);s(!1)},onMouseEnter:function(e){(function e(t,i){return!!(t.className&&t.className.toString().split(" ").indexOf(i)>=0)||(t.parentNode&&e(t.parentNode,i)||!1)})(e.target,"pop")||g(!0)},onMouseUp:x,onMouseLeave:x},l.a.createElement("div",{className:P,role:"button"},l.a.createElement("a",{className:"class-link",href:S,onClick:_},e.title),w&&l.a.createElement(m.b,{gradient:!0}),C&&l.a.createElement(m.c,{gradient:!0}),l.a.createElement("div",{className:"hover-target"},l.a.createElement("div",{className:"thumbnail js-class-preview"},l.a.createElement("span",{className:"thumbnail-img-holder",style:t},l.a.createElement("span",{className:"play-button"},l.a.createElement(h.x,{width:40})))),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"stats"},l.a.createElement("div",{className:"duration"},l.a.createElement("span",null,Object(p.b)(e.durationInSeconds))),l.a.createElement("span",{className:"student-count"},e.studentCount," students")),l.a.createElement("p",{className:"title"},e.title))),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"teacher-save-container"},l.a.createElement("div",{className:"teacher-placeholder"},l.a.createElement("div",{className:"user-information small"},l.a.createElement("a",{href:k,className:"link-main no-bold title-link initialized","data-ss-username":e.teacher.username,onClick:function(t){t.stopPropagation(),y({action:e.trackEventTeacher||u.TrackableEvents["Clicked-SearchResult-Teacher"],other:{teacherUrl:""+window.location.origin+k}})}},e.teacher.name))),!e.hideSave&&l.a.createElement("div",{className:"wishlist-button-container"},l.a.createElement("a",{onClick:function(e){e.stopPropagation()},className:"sk-icon"},l.a.createElement(f.a,{sku:e.sku,classId:e.id,fetchListItems:e.fetchListItems,onClickListItem:e.onClickListItem,onCreateNewList:e.onCreateNewList,saved:e.viewer&&e.viewer.hasSavedClass&&!e.renderSignupView,renderSignupView:e.renderSignupView,portalContainer:document.querySelector("body")})))))))}},,function(e,t,i){"use strict";(function(e,n){i(133);var s=i(973),a=e.View.extend({currentCount:0,showCounter:!1,countUrl:null,shareOptions:{},modelTrackingParams:null,trackingParams:null,initialize:function(e){var t=this;n.bindAll(this,"setCount"),n.extend(this,n.pick(e,["modelTrackingParams","trackingParams","shareOptions","countUrl","showCounter"])),this.showCounter&&(this.$countWrapper=this.$el.find(".count-wrapper"),this.$count=this.$countWrapper.find(".count")),s.a.loaded.done((function(){t.showCounter&&t.countUrl&&s.a.getShareCount(t.countUrl,t.setCount),t.$el.click((function(){return SS.EventTracker.track("Clicked Share Button",t.modelTrackingParams,n.extend({},t.trackingParams,SS.EventTracker.classDetails({type:"Facebook"}))),s.a.shareObject(t.shareOptions,(function(){t.showCounter&&t.setCount(t.currentCount+1)})),t.trigger("element:click"),!1}))}))},setCount:function(e){var t=parseInt(e,10);n.isNaN(t)||(this.$count.text(t),this.$countWrapper.toggleClass("hidden",t<=0),this.currentCount=t)}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,i){var n=e.View.extend({events:{click:"onClick"},initialize:function(e){i.extend(this,i.pick(e,["modelTrackingParams","trackingParams"]))},onClick:function(){this.trigger("element:click"),SS.EventTracker.track("Clicked Share Button",this.modelTrackingParams,i.extend({},this.trackingParams,SS.EventTracker.classDetails({type:"Twitter"})))}});t.a=n}).call(this,i(76),i(51))},function(e,t){e.exports='<a class="class-preview preview-overlay video-preview maintain-image-ratio" href="{{url}}">\n  {{> partials/_class-preview }}\n</a>\n'},,,,,,function(e,t,i){"use strict";var n=i(208),s=i(1079),a=i(1083),o=i.n(a),r=n.a.extend({initialize:function(e){n.a.prototype.initialize.apply(this,arguments),this.options=e||{}},template:o.a,afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),new s.a({el:this.$(".video-embed-wrapper"),templateOptions:this.options}),this.centerPopup()}});t.a=r},function(e,t,i){"use strict";(function(e){i(133);var n=i(145),s=i(1116),a=i.n(s),o=n.a.extend({className:"popover confirmation-popover",addShadow:!0,placement:"top",template:a.a,templateData:function(){return e.pick(this.options,["message","confirmButtonText"])},onPopoverCreated:function(){n.a.prototype.onPopoverCreated.apply(this,arguments);var e=this;this.visibleEl.find(".confirmation-button").on("click",(function(){e.onConfirm()})),this.visibleEl.find(".cancel-button").on("click",(function(){e.onCancel()}))},onConfirm:function(){this.trigger("confirm"),this.close()},onCancel:function(){this.trigger("cancel"),this.close()}});t.a=o}).call(this,i(51))},function(e,t,i){"use strict";(function(e){var n=i(300),s=i(57),a=s.a.extend({autoRender:!1,legacyRender:!1,id:"content-region",className:"content-wrapper icon-loading",initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t&&!!t.el;i&&e.isFunction(this.afterPreRender)&&this.afterPreRender(),e.extend(this,e.pick(t,"model","classModel","autoRender")),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.removeLoadingClass),s.a.prototype.initialize.apply(this,arguments)},render:function(){this.legacyRender&&(this.$el.html(this.model.get("content")),this.removeLoadingClass()),s.a.prototype.render.apply(this,arguments)},afterRender:function(){n.a.runPageRoutine(),s.a.prototype.afterRender.apply(this,arguments)},removeLoadingClass:function(){this.$el.removeClass("icon-loading")},_bubbleChanges:function(t){this.listenTo(t,"change",e.bind((function(){this.trigger("change")}),this))}});t.a=a}).call(this,i(51))},function(e,t){e.exports='<a href="javascript:;"></a>\n'},function(e,t,i){"use strict";var n=i(448),s=i(1053),a=n.a.extend({itemView:s.a});t.a=a},function(e,t){e.exports='<a class="class-preview preview-overlay wishlist-preview maintain-image-ratio{{#wishlistId}} saved{{/wishlistId}}{{#saved}} saved{{/saved}}" href="javascript:;">\n    {{> partials/_class-preview }}\n</a>\n'},function(e,t){e.exports='<div class="user-information small">\n\t<p class="title ellipsis">\n\t\t<a href="{{url}}" class="link-main no-bold title-link" data-ss-via="card" data-ss-username="{{username}}"{{#cardPlacement}} data-ss-placement="{{cardPlacement}}"{{/cardPlacement}} {{#teacherHoverCard}}data-ss-teacher-card="{{teacherHoverCard}}"{{/teacherHoverCard}}>{{fullName}}</a>\n\t</p>\n</div>'},function(e,t){e.exports='<div class="user-information small">\n\t<p class="title ellipsis">\n\t\t<a href="{{url}}" class="link-main no-bold title-link">{{fullName}}</a>\n\t</p>\n</div>\n'},function(e,t){e.exports='<div class="ss-card ss-class" data-class-id="{{id}}">\n    {{#is_audio_only}}\n        <div class="ss-card--top-el skillshare-original-gradient"></div>\n        <div role="img" aria-label="skillshare audio" class="ss-card--top-el">\n            <span class="skillshare-audio-badge">\n        </div>\n    {{/is_audio_only}}\n\n    {{^is_audio_only}}\n        {{#isStaffPick}}\n            <div class="ss-card--top-el skillshare-original-gradient"></div>\n            <div role="img" aria-label="skillshare staff pick" class="ss-card--top-el skillshare-staff-pick"></div>\n        {{/isStaffPick}}\n\n\n        {{#isSkillshareOriginal}}\n            <div class="ss-card--top-el skillshare-original-gradient"></div>\n            <div role="img" aria-label="skillshare original" class="ss-card--top-el skillshare-original"></div>\n        {{/isSkillshareOriginal}}\n     {{/is_audio_only}}\n\n    {{#wishlistPrimary}}\n        <a class="ss-card__thumbnail js-class-preview" aria-label="Skillshare class">\n            <div class="ss-card__thumbnail-img-holder" style="background-image: url({{image}});">\n                <div class="wishlist-preview">\n                    <div class="btn large bordered">\n                        <span class="saved-text">Saved</span>\n                        <span class="save-class-text">Save Class</span>\n                    </div>\n                </div>\n            </div>\n        </a>\n    {{/wishlistPrimary}}\n\n    {{^wishlistPrimary}}\n        <a class="ss-card__thumbnail js-class-preview" href="{{url}}" aria-label="Skillshare class">\n            <div class="ss-card__thumbnail-img-holder">\n                <img width="458" height="252" class="thumbnail-img" src="{{image}}" alt="class image" loading="lazy" />\n                <div style="position:absolute" class="play-button ss-icon-nsk-play-arrow-rounded ss-card--top-el"></div>\n            </div>\n        </a>\n    {{/wishlistPrimary}}\n\n    <div class="ss-card__content-wrapper">\n    <div class="ss-card__content">\n        <div class="ss-class__stats">\n            {{#totalSessionsDuration}}\n                <div class="ss-class__stats__duration">\n                    {{totalSessionsDuration}}\n                </div>\n            {{/totalSessionsDuration}}\n            <span class="ss-class__stats__stud-count">{{numStudents}} students</span>\n        </div>\n\n        <div class="ss-card__title-wrapper">\n        <p class="ss-card__title">\n            {{#isClassNew}}\n                <span class="tag teal new-badge">New</span>\n            {{/isClassNew}}\n            {{#showStaticClass}}\n                {{title}}\n            {{/showStaticClass}}\n            {{^showStaticClass}}\n                <a href="{{url}}">{{title}}</a>\n            {{/showStaticClass}}\n        </p>\n        </div>\n\n        <div class="ss-card__placeholder-container">\n        <div class="ss-card__teacher-placeholder">\n            {{^hideTeacher}}\n                {{#teacher}}\n                    {{#showStaticTeacher}}\n                        {{> partials/_user-information-small-static}}\n                    {{/showStaticTeacher}}\n                    {{^showStaticTeacher}}\n                        {{> partials/_teacher-information-small}}\n                    {{/showStaticTeacher}}\n                {{/teacher}}\n            {{/hideTeacher}}\n        </div>\n\n        <div class="wishlist-{{#wishlistPrimary}}save{{/wishlistPrimary}}{{^wishlistPrimary}}button{{/wishlistPrimary}}-container"></div>\n        </div>\n    </div>\n    </div>\n\n</div>\n'},function(e,t){e.exports='<div class="ss-card ss-class" data-class-id="{{id}}">\n\n    {{#isSkillshareOriginal}}\n        <div class="ss-card--top-el skillshare-original-gradient"></div>\n        <div role="img" aria-label="skillshare original" class="ss-card--top-el skillshare-original"></div>\n    {{/isSkillshareOriginal}}\n    {{^isSkillshareOriginal}}\n        {{#isStaffPick}}\n            <div class="ss-card--top-el skillshare-original-gradient"></div>\n            <div role="img" aria-label="skillshare staff pick" class="ss-card--top-el skillshare-staff-pick"></div>\n        {{/isStaffPick}}\n    {{/isSkillshareOriginal}}\n\n    {{#wishlistPrimary}}\n        <a class="ss-card__thumbnail js-class-preview" aria-label="Skillshare class">\n            <div class="ss-card__thumbnail-img-holder" style="background-image: url({{image}});">\n                <div class="wishlist-preview">\n                    <div class="btn large bordered">\n                        <span class="saved-text">Saved</span>\n                        <span class="save-class-text">Save Class</span>\n                    </div>\n                </div>\n            </div>\n        </a>\n    {{/wishlistPrimary}}\n\n    {{^wishlistPrimary}}\n        <a class="ss-card__thumbnail js-class-preview" href="{{url}}" aria-label="Skillshare class">\n            <div class="ss-card__thumbnail-img-holder">\n                <img width="458" height="252" class="thumbnail-img" src="{{image}}" alt="class image" role="presentation" loading="lazy" />\n                <div style="position:absolute" class="play-button ss-icon-nsk-play-arrow-rounded ss-card--top-el"></div>\n            </div>\n        </a>\n    {{/wishlistPrimary}}\n\n    <div class="ss-card__content">\n        <h3 class="ss-card__title">\n            <a href="{{url}}">{{title}}</a>\n        </h3>\n\n        <div class="ss-card__teacher-placeholder">\n            {{^hideTeacher}}\n                {{#teacher}}\n                    {{> partials/_teacher-information-small-minimal}}\n                {{/teacher}}\n            {{/hideTeacher}}\n        </div>\n\n    </div>\n\n</div>\n'},function(e,t,i){"use strict";var n=i(132),s={PUBLISH_URL:"/redis/publish",EVENT_VIEW:"view",EVENT_PREVIEW:"preview",EVENT_SAVE:"save",publishParentClass:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(i){var s={channel:"critic:feedback",publishData:{parentClassSku:e,pupilRequestId:i,eventType:t}};n.a.ajaxRequest(this.PUBLISH_URL,{data:s,type:"POST"})}}};t.a=s},function(e,t,i){"use strict";(function(e){i(31),i(264),i(24),i(35);var n=i(449),s={handleValidationErrors:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=s.showErrors||!0,o=s.bindings||s.alternateBindings||t.bindings||{};t.errorBindings&&(o=e.extend(o,t.errorBindings));var r={},l={};e.each(o,(function(t,i){e.isString(t)?r[i]=t:(r[i]=t.observe,t.errorMessageEl&&(l[i]=t.errorMessageEl))})),o=r;var c=e.intersection(e.keys(i),e.values(o)),d=e.pick(i,c);e.each(d,(function(i,r){if(t.hasErrors=!0,a){var c=e.invert(o)[r],d=t.$(c);if(!d.length)return;var h=t.$(l[c]);n.a.showFieldMessage(d,i.join("\n"),e.extend(s,{errorMessageEl:h,overrideMessage:!0}))}})),t.hasErrors&&t.trigger("view:invalid")}};t.a=s}).call(this,i(51))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({urlRoot:"/userDialogViews"});t.a=i}).call(this,i(76))},,,,,,,,,function(e,t,i){"use strict";(function(e){var n=i(1076),s=e.Collection.extend({model:n.a,initialize:function(){this.on("add",this.setupModelListener,this),this.on("remove",this.removeModelListener,this)},setupModelListener:function(e){this.listenTo(e,"change:active",this.changeActive),this.active?e.deactivate():e.get("active")&&(this.active=e)},removeModelListener:function(e){this.stopListening(e)},changeActive:function(e,t){t&&(this.active&&this.active!=e&&this.active.deactivate(),this.active=e,this.trigger("activate",e,this))},activate:function(e){var t=this.detect((function(t){return t.get("label")==e}));t&&t.activate()}});t.a=s}).call(this,i(76))},function(e,t){e.exports='<a href="javascript:;" class="{{styles}}">{{#showCounter}}<span class="counter-wrapper left">{{numLikes}}</span>{{/showCounter}}</a>\n'},function(e,t,i){"use strict";(function(e,n){i(133),i(188);var s=i(57),a=i(1020),o=i(1021),r=i(1084),l=i(1028),c=i(964),d=i(1085),h=i.n(d),u=i(300),p=s.a.extend({darkVersion:!1,template:h.a,templateData:function(){return e.extend({showCompact:this.showCompact,showEmail:this.showEmail,showLinkBtn:this.showLinkBtn,linkOnly:this.linkOnly,hideShortUrl:this.hideShortUrl},this.model.attributes)},events:{"click .link-input":"onLinkSelect","click .share-link":"onLinkButtonClick","click .share-button":"onButtonClick","click .video-embed-button":"onClickVideoEmbed"},initialize:function(t){e.extend(this,e.pick(t,["trackingParams","modelTrackingParams","darkVersion","shareModel","showCompact","showEmail","showLinkBtn","linkOnly","hideShortUrl"])),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.darkVersion&&this.$(".social-share-buttons").addClass("dark"),this.linkOnly||(this.initializeFacebookButton(),this.initializeTwitterButton(),this.initializePinterestButton()),u.a.initRestrictedAccessHandlers(this.$el),s.a.prototype.afterRender.apply(this,arguments)},getShortUrl:function(e,t){n.ajax({url:"/shortener",type:"GET",async:!1,datatype:"JSON",data:{url:e},success:t})},initializeFacebookButton:function(){this.facebookShareButton=new a.a({el:this.$(".share-button.fb"),shareOptions:this.model.get("facebookShare"),trackingParams:this.trackingParams,modelTrackingParams:this.modelTrackingParams}),this.listenTo(this.facebookShareButton,"element:click",this.onButtonClick),this.listenTo(this.facebookShareButton,"element:click",this.onFacebookButtonClick)},initializeTwitterButton:function(){this.twitterShareButton=new o.a({el:this.$(".share-button.twitter"),trackingParams:this.trackingParams,modelTrackingParams:this.modelTrackingParams}),this.listenTo(this.twitterShareButton,"element:click",this.onTwitterButtonClick)},initializePinterestButton:function(){this.pinterestShareButton=new r.a({el:this.$(".share-pinterest"),trackingParams:this.trackingParams,modelTrackingParams:this.modelTrackingParams}),this.listenTo(this.pinterestShareButton,"element:click",this.onPinterestButtonClick)},onClickVideoEmbed:function(){var e=this.model.get("id"),t=this.model.get("authToken");new l.a({sessionId:e,authToken:t,linkTitle:this.shareModel.get("embedTitle"),linkUrl:this.shareModel.get("embedUrl"),tagLine:this.shareModel.get("embedTagline"),basicPopup:!0})},onLinkSelect:function(e){n(e.currentTarget).find("input").trigger("select")},onButtonClick:function(){"video-roll-overlay"===this.$el.context.className&&SS.EventTracker.track("Clicked-Premium-Share-End-Card"),this.trigger("button:click")},onLinkButtonClick:function(){var e=this.$(".link-input"),t=e.find("input"),i=this.$(".share-link");t.val().length||this.getShortUrl(i.attr("longurl"),(function(e){t.val(e.shortURL)})),e.removeClass("hidden"),e.animate({width:"100%"},250),this.trigger("link:button:click")},onFacebookButtonClick:function(){this.trigger("facebook:click"),this.trackShare(c.a.METHODS.FACEBOOK)},onTwitterButtonClick:function(){var e=this.twitterShareButton;void 0===e.$el.attr("shorturl")||e.$el.attr("shorturl").length||this.getShortUrl(e.$el.attr("longurl"),(function(t){e.$el.attr("shorturl",t.shortURL).attr("href",e.$el.attr("href")+t.shortURL)})),this.trigger("twitter:click"),this.trackShare(c.a.METHODS.TWITTER)},onPinterestButtonClick:function(){this.trigger("pinterest:click"),this.trackShare(c.a.METHODS.PINTEREST)},trackShare:function(t){this.trackingParams&&this.trackingParams.trackShares&&new c.a(e.extend({},this.trackingParams,this.modelTrackingParams,{method:t,type:c.a.TYPES.LINK,via:this.trackingParams.source,object_type:this.modelTrackingParams.name,object_id:this.modelTrackingParams.id})).save()}});t.a=p}).call(this,i(51),i(48))},function(e,t,i){"use strict";(function(e){i(24),i(118);var n=i(0),s=i.n(n),a=i(28),o=i.n(a),r=i(296),l=i(120),c=i(49),d=i(231),h=i(1072),u=i(57),p=i(999),v=i.n(p),m=i(969),f=i.n(m),g=i(1e3),y=i(941),b=i(301),w=i(132),C=u.a.extend({setElementToTemplate:!0,template:v.a,events:{"click .ss-card__thumbnail":"onClickProjectCard"},templateData:function(){return e.extend({},this.model.attributes,{clientRendered:!0})},templatePartials:{"partials/_user-information-small":f.a},initialize:function(){e.bindAll(this,"onChangeNumLikes","onProjectClose"),this.canViewProjectModal=!w.a.isTouchDevice(),this.projectId=this.model.get("entityId")?this.model.get("entityId"):this.model.get("id"),u.a.prototype.initialize.apply(this,arguments)},afterRender:function(){if(y.a.initUserPopovers(this),!SS.currentUser.isGuest()){var t={voteable_id:this.model.get("entityId")?this.model.get("entityId"):this.model.get("id"),voteable_type:"Project",trackingParams:{via:"project-item"}};0!==this.model.get("voteId")&&e.extend(t,{voteId:this.model.get("voteId")}),this.likeButton=new g.a({container:this.$(".like-btn-wrapper"),modelData:t,parentModel:this.model,initialState:this.model.get("hasVoted"),remountProjectModal:this.canViewProjectModal?this.remountProjectModal.bind(this):null}),this.likeCounter=this.$(".num-likes"),this.model.on("change:numLikes",this.onChangeNumLikes)}this.canViewProjectModal&&this.renderProjectModal(),u.a.prototype.afterRender.apply(this,arguments)},onClickProjectCard:function(e){e.ctrlKey||e.metaKey?e.stopPropagation():(e.preventDefault(),this.canViewProjectModal?(this.model.set("activeProjectModal",this.projectId),this.mixpanelTrack(),this.renderProjectModal()):window.location.href="".concat(this.model.get("url"),"?via=project-details"))},onProjectClose:function(){this.model.set("activeProjectModal",null),this.renderProjectModal()},remountProjectModal:function(){o.a.unmountComponentAtNode(this.$(".project-modal-container").get(0)),this.renderProjectModal()},renderProjectModal:function(){var e=document.location.origin,t=!SS.currentUser.isGuest(),i=this.model.get("activeProjectModal")===this.projectId,n=Object(b.a)(SS,"serverBootstrap","apiData","host"),a=d.ApolloClientManager.getClient({uri:"".concat(n,"/api/graphql")});o.a.render(s.a.createElement(c.a,{client:a},s.a.createElement(l.a,null,s.a.createElement(c.f,{isAuthenticated:t},s.a.createElement(r.a,{locale:"en"},s.a.createElement(c.j,{variables:{appHost:e}},s.a.createElement(h.a,{isModalOpen:i,onCloseModal:this.onProjectClose,projectKey:this.projectId.toString()})))))),this.$(".project-modal-container").get(0))},onProjectLike:function(){this.likeButton.onClick()},onChangeNumLikes:function(){var e="";1===this.model.get("numLikes")?e=this.model.get("numLikes")+" like":this.model.get("numLikes")>1&&(e=this.model.get("numLikes")+" likes"),this.likeCounter.text(e)},mixpanelTrack:function(){this.model.get("trackingParams")&&SS.EventTracker.track("Viewed.Project",{},this.model.get("trackingParams"))}});t.a=C}).call(this,i(51))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1054),a=i.n(s),o=i(960),r=i.n(o),l=i(967),c=i.n(l),d=n.a.extend({tagName:"li",className:"class-row clear",template:a.a,templatePartials:{"partials/_class-stats":r.a,"partials/_review-stat":c.a},templateData:function(){return SS.serverBootstrap.classesData?e.extend(this.model.attributes,{membershipUrl:SS.serverBootstrap.classesData.membershipUrl,userIsSubscriber:SS.serverBootstrap.classesData.userIsSubscriber}):this.model.attributes}});t.a=d}).call(this,i(51))},function(e,t){e.exports='<div class="user-img-75 round-all left" data-ss-teacher-card="true" data-ss-username="{{teacher.username}}">\n    <img src="{{teacher.image}}" alt="{{teacher.fullName}}" />\n</div>\n<div class="class-tag right">\n    {{^isSubscription}}{{#isNew}}<a href="javascript:;"><span class="new-tag tag green">New</span></a>{{/isNew}}{{/isSubscription}}\n</div>\n{{#action}}\n    <a href="{{url}}" class="btn small orange right class-action">{{action}}</a>\n{{/action}}\n<div class="class-info">\n    <h2 class="class-title"><a href="{{url}}">{{title}}</a></h2>\n    <h3 class="teacher-info"><span class="name" data-ss-teacher-card="true" data-ss-username="{{teacher.username}}">{{teacher.fullName}}</span>{{#teacher.headline}}, {{/teacher.headline}}<span class="headline">{{teacher.headline}}</span></h3>\n    {{> partials/_class-stats }}\n</div>\n'},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({url:function(){if(this.isNew()){var e=SS.serverBootstrap.newDiscussionSectionId,t="/discussions/create";return e?"".concat(t,"?sectionId=").concat(e):t}return"/discussions/"+this.get("id")},defaults:{notify_all_students:!1},parse:function(e){return e.discussion?e.discussion:e}});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e,n){i(96),i(187);var s=e.Model.extend({urlRoot:"/comments",sanitize:function(e){return e.replace(/((?!<((\/)?a|br))<[^>]*>)/gi,"")},toJSON:function(){var e=n.clone(this.attributes),t=this.get("comment")||"";return e.comment=this.sanitize(t),e}});t.a=s}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n){i(96),i(187);var s=i(57),a=i(947),o=i(965),r=i(996),l=i(449),c=i(941),d=i(1129),h=i(1058),u=i(995),p=i(1132),v=i.n(p),m=i(1133),f=i.n(m);i(1017);var g=s.a.extend({tagName:"li",className:"reply-item clear",template:v.a,templateData:function(){var t=this.model.get("user"),i=SS.currentUser.get("id")===t.id||1===SS.currentUser.get("isAdmin"),n=i;return e.extend({},this.model.attributes,{timeago:o.a.getTimeAgo(this.model.get("timestamp")),shouldShowLike:!SS.currentUser.isGuest(),shouldShowEdit:i,shouldShowDelete:n,comment:this.toHTML(this.model.get("comment"))})},initialize:function(){if(this.model.get("greatestAncestor")&&this.model.get("greatestAncestor").user_uid===this.model.get("user").id){var e=this.model.get("user");e.isCreator=!0,this.model.set("user",e)}s.a.prototype.initialize.apply(this,arguments)},toHTML:function(e){return r.a.addHTMLLineBreaks(e)},templatePartials:{userSnippet:f.a},events:{"click .js-action-delete":"onClickDelete","click .js-action-edit":"onClickEdit"},render:function(){s.a.prototype.render.apply(this,arguments),c.a.initPopovers(this)},afterRender:function(){this.$replyStatLikes=this.$(".reply-stat-likes"),new h.a({el:this.$(".body-content"),model:new n.Model({text:this.model.get("comment")})}),this.initializeLikeButton(),s.a.prototype.afterRender.apply(this,arguments)},initializeLikeButton:function(){var t={voteable_id:this.model.get("id"),voteable_type:"Comment"},i=this.model.get("userVote");i&&1===i.value&&e.extend(t,{voteId:i.id}),new u.a({container:this.$(".js-action-like"),parentModel:this.model,modelData:t,type:"label",styles:"secondary"}),this.listenTo(this.model,"change:numLikes",this.onLikeUpdate)},onLikeUpdate:function(e,t){var i=this.model.get("userVote");i&&1===i.value?this.$replyStatLikes.addClass("liked"):this.$replyStatLikes.removeClass("liked"),t<1?this.$replyStatLikes.hide():this.$replyStatLikes.html(t).show()},onClickEdit:function(e){e.preventDefault();var t=this.model.get("comment");this.model.set("comment",t.replace(/<br\s*\/?>/gm,"\n").replace(/<[^>]+>/g,""));var i=new d.a({el:this.$(".meta:first"),parentModel:this.model,parentView:this,editable:{comment:{selector:".body-content:first",type:"textarea",class:"single-line"}}});this.$("textarea.single-line").autosize(),i.on("done",(function(){var e=this;""===this.model.get("comment")?(l.a.showFieldMessage(this.$("textarea.single-line")),i.stickit()):this.model.save(null,{wait:!0,success:function(){e.render()}})}),this),i.on("cancel",(function(){this.model.set("comment",t),this.render()}),this)},onClickDelete:function(e){var t=this;e.preventDefault();var i=new a.a({title:"Delete Post",content:"<p>Are you sure you'd like to delete this post?</p>",submitBtnVal:"Delete"});i.openPopup(),i.bind("onConfirmationDidConfirmEvent",(function(){t.model.destroy()}))}});t.a=g}).call(this,i(51),i(76))},function(e,t,i){"use strict";(function(e,n){var s=i(57),a=i(1131),o=i.n(a),r=(i(1068),s.a.extend({truncateLength:350,template:o.a,templateData:function(){if(!e.has(this.model.attributes,"truncatedText")){var t=this.model.get("text"),i=null;t.length>this.truncateLength&&(i=n.truncate(t,{length:this.truncateLength,ellipsis:'... <a href="javascript:;" class="text-more">Read More</a>'})),this.model.set("truncatedText",i)}return this.model.attributes},events:{"click .text-more":"onClickTextMore"},onClickTextMore:function(){this.$(".more-text-container").html(this.model.get("text"))}}));t.a=r}).call(this,i(51),i(48))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(132),a=n.a.extend({el:".admin-area",actionOnClick:function(e,t,i,n,s,a){if(e&&!window.confirm(e))return void(s&&s());this.callApi(t,i,n,a)},callApi:function(e,t,i,n){var a=this;s.a.ajaxRequest(e,{data:t,type:"POST",success:function(e){return a.onResponse(e,i,n)},error:function(e){return a.onError(i,e)}})},onResponse:function(t,i,n){var s=t;e.isObject(t)||(s=JSON.parse(t)),s.success?s.redirectTo?window.location=s.redirectTo:n?n():window.location.reload():this.onError(i)},onError:function(e){alert(e)}});t.a=a}).call(this,i(51))},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i(1041),i(1023),i(16);var n=i(0),s=i.n(n),a=i(58),o=i(113),r=i(936),l=function(){return(l=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},c=Object(o.a)((function(e){var t=e.palette,i=e.spacing;return{root:l(l({backgroundColor:t.tertiary.main,borderRadius:i(2),display:"flex",maxHeight:30,height:"100%",justifyContent:"center"},Object(a.d)(7,0)),{width:114})}}));function d(){var e=c().root;return s.a.createElement(r.a,{className:e},s.a.createElement("svg",{width:"92",height:"17",viewBox:"0 0 92 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M1.61429 12.383C0.7232 12.383 0 11.6681 0 10.7873V5.6809C0 4.80005 0.7232 4.08516 1.61429 4.08516C2.50537 4.08516 3.22857 4.80005 3.22857 5.6809V10.7873C3.22857 11.6681 2.50537 12.383 1.61429 12.383Z",fill:"#68FF7D"}),s.a.createElement("path",{d:"M8.07143 16.2128C7.18035 16.2128 6.45715 15.4979 6.45715 14.6171V1.85112C6.45715 0.970265 7.18035 0.255371 8.07143 0.255371C8.96252 0.255371 9.68572 0.970265 9.68572 1.85112V14.6171C9.68572 15.4979 8.96252 16.2128 8.07143 16.2128Z",fill:"#68FF7D"}),s.a.createElement("path",{d:"M14.5286 12.383C13.6375 12.383 12.9143 11.6681 12.9143 10.7873V5.6809C12.9143 4.80005 13.6375 4.08516 14.5286 4.08516C15.4197 4.08516 16.1429 4.80005 16.1429 5.6809V10.7873C16.1429 11.6681 15.4197 12.383 14.5286 12.383Z",fill:"#68FF7D"}),s.a.createElement("path",{d:"M20.9857 16.2128C20.0946 16.2128 19.3714 15.4979 19.3714 14.6171V1.85112C19.3714 0.970265 20.0946 0.255371 20.9857 0.255371C21.8768 0.255371 22.6 0.970265 22.6 1.85112V14.6171C22.6 15.4979 21.8768 16.2128 20.9857 16.2128Z",fill:"#68FF7D"}),s.a.createElement("path",{d:"M27.4429 12.383C26.5518 12.383 25.8286 11.6681 25.8286 10.7873V5.6809C25.8286 4.80005 26.5518 4.08516 27.4429 4.08516C28.334 4.08516 29.0572 4.80005 29.0572 5.6809V10.7873C29.0572 11.6681 28.334 12.383 27.4429 12.383Z",fill:"#68FF7D"}),s.a.createElement("path",{d:"M43.1214 13.2511H38.3237L37.8588 14.8787H34.5527L39.1373 1.49362H42.2884L46.8923 14.8787H43.5863L43.1214 13.2511ZM42.424 10.8192L40.7193 4.87022L39.0146 10.8192H42.424Z",fill:"white"}),s.a.createElement("path",{d:"M47.8738 11.3553V5.65532H50.87V10.7043C50.87 11.9681 51.2961 12.6511 52.4197 12.6511C53.6788 12.6511 54.2212 11.8468 54.2212 10.6021V5.64894H57.1592V14.8723H54.2212V13.5511C53.6982 14.5277 52.7296 15.1213 51.322 15.1213C49.0749 15.1213 47.8738 13.7426 47.8738 11.3553Z",fill:"white"}),s.a.createElement("path",{d:"M69.2276 1.48723V14.8723H66.2896V13.5702C65.7859 14.4894 64.6236 15.1213 63.3322 15.1213C60.5492 15.1213 58.9413 13.034 58.9413 10.2638C58.9413 7.51276 60.6654 5.40638 63.3709 5.40638C64.7269 5.40638 65.7859 6.03829 66.2896 6.97659V1.48723H69.2276V1.48723ZM66.4058 10.2638C66.4058 8.94255 65.6503 7.85744 64.1845 7.85744C62.8092 7.85744 61.9568 8.87234 61.9568 10.2638C61.9568 11.6553 62.8092 12.6894 64.1845 12.6894C65.6503 12.6957 66.4058 11.6043 66.4058 10.2638Z",fill:"white"}),s.a.createElement("path",{d:"M71.3326 1.8C71.3326 0.804255 72.0881 0 73.1535 0C74.219 0 74.9874 0.804255 74.9874 1.8C74.9874 2.7766 74.2125 3.58085 73.1535 3.58085C72.0946 3.58085 71.3326 2.7766 71.3326 1.8Z",fill:"#00FF84"}),s.a.createElement("path",{d:"M74.6193 5.65532H71.6813V14.8723H74.6193V5.65532Z",fill:"white"}),s.a.createElement("path",{d:"M76.3434 10.2638C76.3434 7.45532 78.3192 5.40638 81.5284 5.40638C84.7183 5.40638 86.6942 7.45532 86.6942 10.2638C86.6942 13.0723 84.7183 15.1213 81.5284 15.1213C78.3128 15.1213 76.3434 13.0787 76.3434 10.2638ZM83.7497 10.2638C83.7497 8.86596 82.9167 7.8766 81.5284 7.8766C80.1143 7.8766 79.3072 8.87234 79.3072 10.2638C79.3072 11.6553 80.1208 12.6511 81.5284 12.6511C82.9167 12.6574 83.7497 11.6617 83.7497 10.2638Z",fill:"white"}),s.a.createElement("path",{d:"M88.0243 13.1936C88.0243 12.1596 88.8573 11.317 89.9421 11.317C91.0269 11.317 91.8599 12.1596 91.8599 13.1936C91.8599 14.2085 91.0269 15.0702 89.9421 15.0702C88.8573 15.0638 88.0243 14.2021 88.0243 13.1936Z",fill:"#00FF84"})))}},function(e,t,i){"use strict";(function(e,i){var n=e.Model.extend({urlRoot:"/notes",defaults:{privacy_status:1},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.session&&this.setSession(t.session)},setSession:function(e){this.session=e,this.set({session_id:this.session.id})},isValid:function(){for(var e=["body","session_id","video_time","privacy_status"],t=0;t<e.length;t++){var n=this.get(e[t]);if(i.isUndefined(n)||i.isNull(n))return!1}return!0},isCurrentUsers:function(){return SS.currentUser.get("username")===this.get("author").username}});t.a=n}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n,s){i(944);var a=i(305),o=i(1004),r=a.a.extend({model:o.a,url:function(){var t=this.path,i=e.param(this.params);return""!==i&&(t+="?"+i),t},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.bindAll(this,"fetchMore"),this.page=t.page||0,this.loadMore=t.loadMore||!1,this.sortMethod=t.sortMethod||void 0,this.lastViewTime=t.lastViewTime||null,SS.serverBootstrap.projectsData&&(this.loadMore=!!SS.serverBootstrap.projectsData.loadMore,this.page=SS.serverBootstrap.projectsData.page?parseInt(SS.serverBootstrap.projectsData.page,10):0),this.params=t.params||{},this.path=t.path||"/projects"},parse:function(e){return this.content=e.content,this.sortMethod=e.sort,this.loadMore=e.loadMore,e.projects},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data=n.extend({},e.data,{sort:this.sortMethod}),s.Collection.prototype.fetch.call(this,e)},fetchSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data=n.extend({},e.data,{sort:this.sortMethod}),a.a.prototype.fetchSet.call(this,e)},fetchMore:function(e){var t=this,i=n.extend({},e,{update:!0,remove:!1,success:function(e,i){t.trigger("projects:update",i),t.trigger("update",i)},error:function(){t.trigger("update:error")}});return this.page+=1,i.data=n.extend({},i.data,{offset:this.length,page:this.page,slim:1}),this.lastViewTime&&(i.data.lastViewTime=this.lastViewTime),this.fetch(i)}});t.a=r}).call(this,i(48),i(51),i(76))},function(e,t){e.exports='<a href="{{link}}"{{#className}} class="{{className}}"{{/className}} data-text="{{label}}" data-type="{{name}}">{{#locked}}<span class="ss-icon-lock"></span>{{/locked}}{{label}}{{#count}} <span class="count">{{count}}</span>{{/count}}</a>\n'},function(e,t){e.exports='<ul class="list clear">\n    {{#tabs}}\n        <li class="tab left{{#active}} active{{/active}}">{{> shared/_tab }}</li>\n    {{/tabs}}\n</ul>\n<div class="underline"></div>\n'},function(e,t,i){e.exports=i(209)(9)},function(e,t,i){"use strict";(function(e){var n=i(1096),s=i(945),a=i(1115),o=i.n(a),r=n.a.extend({via:"email-share-popup",className:"base-share-popup email-share-popup",template:o.a,templateData:function(){var t=Object(s.a)();return e.extend({via:this.via,popupTitle:this.popupTitle,showCompact:!0,utm_campaign:t.utm_campaign,utm_source:t.utm_source,utm_medium:t.utm_medium},this.model.attributes)},initialize:function(t){e.extend(this,e.pick(t,["via","popupTitle"])),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments)}});t.a=r}).call(this,i(51))},function(e,t,i){"use strict";(function(e,n){i(299),i(657);var s=i(57),a=i(1126),o=i(1127),r=i(995),l=i(1134),c=i(1058),d=i(947),h=i(1102),u=i(300),p=i(941),v=i(965),m=i(1135),f=i.n(m),g=i(1136),y=i.n(g),b=(i(1017),s.a.extend({className:"inline-discussion",templateData:function(){var t=this.model.get("comments");return e.extend({},this.model.attributes,{isPremiumMember:SS.currentUser.isPremiumMember(),isAdmin:SS.currentUser.isAdmin(),timeAgo:this.getTimeAgo(),currentUser:SS.currentUser.attributes,userIsGuest:SS.currentUser.isGuest(),numReplies:t.length,truncateReplies:this.shouldTruncateReplies(t,this.model.get("expanded")),discussableCreator:function(){return this.discussableCreatorId&&this.discussableCreatorId===this.author.uid}})},templatePartials:{"discussions/default":f.a},events:{"click .js-discussion-reply":"onClickReply","click .js-discussion-edit":"onClickEdit","click .js-discussion-delete":"onClickDelete","click .js-discussion-pin":"onClickPin","click .js-show-all":"onClickShowAll","click .navigation.back":"onClickBack"},initialize:function(t){var i=this;this.template=this.model.get("discussionsUrl")?y.a:f.a;var n=this.model.get("comments");e.extend(this,e.pick(t,["collectionView"])),this.model.set("expanded",!1),this.model.set("additionalReplyCount",n.length-2),this.model.set("hiddenCreatorReplyCount",this.countHiddenCreatorReplies(n)),this.on("addedToParent",(function(){u.a.initRestrictedAccessHandlers(i)})),n.length>2&&(n=e.last(n,2)),this.replies=new a.a(n,{activityModel:this.model,parse:!0}),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.$discussionStatFollowers=this.$(".js-discussion-stat-followers"),this.$discussionStatLikes=this.$(".js-discussion-stat-likes"),this.$discussionStatReplies=this.$(".js-discussion-stat-replies"),this.initializeLikeButton(),this.initializeFollowButton(),this.initializePinButton(),this.repliesView=new o.a({el:this.$(".js-replies"),activityModel:this.model,collection:this.replies}),this.listenTo(this.replies,"add remove",this.onRepliesUpdate),p.a.initUserPopovers(this),u.a.initAllImages(this.$el),new c.a({el:this.$(".js-discussion-body"),model:new n.Model({text:this.model.get("description")})}),this.$(".js-comment").autosize(),s.a.prototype.afterRender.apply(this,arguments)},initializeLikeButton:function(){var t={voteable_id:this.model.get("id"),voteable_type:"Discussion"},i=this.model.get("userVote");i&&1===parseInt(i.value,10)&&e.extend(t,{voteId:this.model.get("userVote").id}),new r.a({container:this.$(".js-discussion-like"),parentModel:this.model,modelData:t,type:"label",styles:"secondary"}),this.listenTo(this.model,"change:numLikes",this.onLikeUpdate)},initializeFollowButton:function(){var e=new n.Model({discussion:this.model.get("id"),id:this.model.get("userFollow")});new l.a({el:this.$(".js-discussion-follow"),model:e,parentModel:this.model}),this.listenTo(this.model,"change:numFollowers",this.onFollowerUpdate)},initializePinButton:function(){if(this.$(".js-discussion-pin").length){var e=this.model.get("isPinned");this.$(".js-discussion-pin").text(e?"Unpin":"Pin to Top")}},getTimeAgo:function(){var t=this.model.get("comments"),i=this.model.get("updateTimeTimestamp");t&&t.length&&(i=e.last(t).timestamp);return"Last active ".concat(v.a.getTimeAgo(i))},onFollowerUpdate:function(e,t){t<1?this.$discussionStatFollowers.hide():this.$discussionStatFollowers.html(t).show()},onLikeUpdate:function(e,t){var i=this.model.get("userVote");i&&1===i.value?this.$discussionStatLikes.addClass("liked"):this.$discussionStatLikes.removeClass("liked"),t<1?this.$discussionStatLikes.hide():this.$discussionStatLikes.html(t).show()},onRepliesUpdate:function(){var e=this.model.get("comments");if(this.replies.length<1)this.$discussionStatReplies.hide();else{var t=this.replies.length;this.shouldTruncateReplies(e,this.model.get("expanded"))&&(t=e.length-2+t),this.$discussionStatReplies.html(t).show()}},onClickReply:function(){this.$(".reply-form textarea").focus()},onClickEdit:function(e){e.preventDefault(),new h.a({endpoint:"/discussions/renderForm",endpointData:{discussionId:this.model.get("id"),showRichDescription:"true"}})},onClickDelete:function(e){var t=this;e.preventDefault();var i=new d.a({title:"Delete Discussion",content:"<p>Are you sure you'd like to delete this discussion?</p>",submitBtnVal:"Delete"});i.openPopup(),this.listenTo(i,"onConfirmationDidConfirmEvent",(function(){t.model.destroy(),SS.serverBootstrap.pageData&&SS.serverBootstrap.pageData.baseUrl&&(window.location=SS.serverBootstrap.pageData.baseUrl)}))},onClickPin:function(e){e.preventDefault(),n.trigger("change:discussions:pinDiscussion",this.model)},onClickShowAll:function(){this.replies=new a.a(this.model.get("comments"),{activityModel:this.model,parse:!0}),this.model.set("expanded",!0),this.render()},shouldTruncateReplies:function(e,t){return e.length>2&&!t},onClickBack:function(e){e.preventDefault();var t=this.model.get("discussionsUrl");n.history.navigate(t,!0)},countHiddenCreatorReplies:function(t){if(t.length<=2)return 0;var i=t.slice(0,t.length-2);return e.filter(i,(function(e){return e.greatestAncestor&&e.greatestAncestor.user_uid===e.user.id})).length}}));t.a=b}).call(this,i(51),i(76))},,function(e,t,i){"use strict";i.d(t,"a",(function(){return xe}));i(16);var n,s,a,o,r,l,c,d,h,u,p=i(0),v=i.n(p),m=i(18),f=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=m.d.div(n||(n=f(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 2;\n\n    .project-modal-wrapper {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: 2;\n    }\n"],["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 2;\n\n    .project-modal-wrapper {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: 2;\n    }\n"]))),y=i(874),b=i(921),w=i(341),C=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},k=Object(w.a)(s||(s=C(["\n    fragment ProjectComment on Comment {\n        id\n        key\n        contentHTML\n        createdAt\n        viewerCanEdit\n        likes\n        isEditing @client\n        isReplying @client\n        isShowingReplies @client\n        editedContentHTML @client\n        viewerHasLiked\n\n        author {\n            name\n            profileUrl\n            img\n            isTeacher\n            isTopTeacher\n            headline\n        }\n    }\n\n    query GetProject($projectKey: String!) {\n        projectByKey(key: $projectKey) {\n            id\n            key\n            title\n            contentHTML\n            coverImage {\n                sources {\n                    url\n                    width\n                    height\n                }\n            }\n            author {\n                id\n                username\n                firstName\n                lastName\n                mediumPictureUrl\n                headline\n                isTeacher\n                isTopTeacher\n                vanityUsername\n                viewer {\n                    isFollowing\n                }\n            }\n            viewer {\n                hasLiked\n                canEdit\n            }\n            likeCount\n            viewCount\n            class {\n                id\n                title\n                sku\n                url\n                smallCoverUrl\n                teacher {\n                    firstName\n                    lastName\n                    name\n                    vanityUsername\n                    username\n                }\n            }\n            comments {\n                ...ProjectComment\n\n                replies {\n                    ...ProjectComment\n\n                    isReply\n                    parent {\n                        key\n                    }\n                }\n            }\n        }\n    }\n"],["\n    fragment ProjectComment on Comment {\n        id\n        key\n        contentHTML\n        createdAt\n        viewerCanEdit\n        likes\n        isEditing @client\n        isReplying @client\n        isShowingReplies @client\n        editedContentHTML @client\n        viewerHasLiked\n\n        author {\n            name\n            profileUrl\n            img\n            isTeacher\n            isTopTeacher\n            headline\n        }\n    }\n\n    query GetProject($projectKey: String!) {\n        projectByKey(key: $projectKey) {\n            id\n            key\n            title\n            contentHTML\n            coverImage {\n                sources {\n                    url\n                    width\n                    height\n                }\n            }\n            author {\n                id\n                username\n                firstName\n                lastName\n                mediumPictureUrl\n                headline\n                isTeacher\n                isTopTeacher\n                vanityUsername\n                viewer {\n                    isFollowing\n                }\n            }\n            viewer {\n                hasLiked\n                canEdit\n            }\n            likeCount\n            viewCount\n            class {\n                id\n                title\n                sku\n                url\n                smallCoverUrl\n                teacher {\n                    firstName\n                    lastName\n                    name\n                    vanityUsername\n                    username\n                }\n            }\n            comments {\n                ...ProjectComment\n\n                replies {\n                    ...ProjectComment\n\n                    isReply\n                    parent {\n                        key\n                    }\n                }\n            }\n        }\n    }\n"]))),S=(i(27),i(45),i(46),i(31),i(264),i(186),i(660),i(188),i(24),i(33),i(35),i(458)),P=i.n(S),T=i(1086),x=i(936),E=i(60),_=i(4),j=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},D=m.d.div(a||(a=j(["\n    .rich-content-wrapper {\n        ","\n\n        color: ",";\n        line-height: 150%;\n        word-wrap: break-word;\n\n        ul,\n        ol {\n            margin: 0 0 0 35px;\n            margin-bottom: 15px !important;\n\n            &:last-child {\n                margin-bottom: 0 !important;\n            }\n\n            li {\n                list-style-type: disc;\n                line-height: 150%;\n                margin-bottom: 10px;\n\n                &:last-child {\n                    margin-bottom: 0;\n                }\n\n                p {\n                    display: inline-block;\n                    margin-top: 5px;\n                    margin-bottom: 5px !important;\n                    word-break: break-word;\n                    line-height: 1.5em;\n                }\n\n                span {\n                    line-height: 1.5em !important;\n                }\n            }\n        }\n\n        ol {\n            li {\n                list-style-type: decimal;\n            }\n        }\n\n        p {\n            overflow: auto;\n            margin: 0 0 15px 0;\n            ","\n            color: ",";\n\n            &:last-child {\n                margin-bottom: 0;\n            }\n        }\n\n        img {\n            display: block;\n            max-width: 100%;\n            height: auto;\n            padding-top: 8px;\n            padding-bottom: 8px;\n        }\n\n        .full-rich-content {\n            display: none;\n        }\n\n        h4 {\n            margin-bottom: 18px;\n        }\n\n        hr {\n            border: none;\n            border-bottom: "," 1px solid;\n            margin: 22px 0;\n        }\n\n        iframe {\n            border: 0;\n            display: block;\n            margin: 0 auto;\n            max-width: 100%;\n            max-height: 600px;\n        }\n    }\n"],["\n    .rich-content-wrapper {\n        ","\n\n        color: ",";\n        line-height: 150%;\n        word-wrap: break-word;\n\n        ul,\n        ol {\n            margin: 0 0 0 35px;\n            margin-bottom: 15px !important;\n\n            &:last-child {\n                margin-bottom: 0 !important;\n            }\n\n            li {\n                list-style-type: disc;\n                line-height: 150%;\n                margin-bottom: 10px;\n\n                &:last-child {\n                    margin-bottom: 0;\n                }\n\n                p {\n                    display: inline-block;\n                    margin-top: 5px;\n                    margin-bottom: 5px !important;\n                    word-break: break-word;\n                    line-height: 1.5em;\n                }\n\n                span {\n                    line-height: 1.5em !important;\n                }\n            }\n        }\n\n        ol {\n            li {\n                list-style-type: decimal;\n            }\n        }\n\n        p {\n            overflow: auto;\n            margin: 0 0 15px 0;\n            ","\n            color: ",";\n\n            &:last-child {\n                margin-bottom: 0;\n            }\n        }\n\n        img {\n            display: block;\n            max-width: 100%;\n            height: auto;\n            padding-top: 8px;\n            padding-bottom: 8px;\n        }\n\n        .full-rich-content {\n            display: none;\n        }\n\n        h4 {\n            margin-bottom: 18px;\n        }\n\n        hr {\n            border: none;\n            border-bottom: "," 1px solid;\n            margin: 22px 0;\n        }\n\n        iframe {\n            border: 0;\n            display: block;\n            margin: 0 auto;\n            max-width: 100%;\n            max-height: 600px;\n        }\n    }\n"])),Object(_.e)((function(e){return e.normal})),Object(_.b)((function(e){return e.navy})),Object(_.e)((function(e){return e.body1})),Object(_.b)((function(e){return e.navy})),Object(_.b)((function(e){return e.concrete}))),O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},I=m.d.div(o||(o=O(["\n    background-color: ",";\n    position: relative;\n\n    .project-sidebar-wrapper {\n        padding-bottom: 128px;\n    }\n\n    .project-sidebar {\n        -webkit-overflow-scrolling: touch;\n        min-width: 375px;\n        background-color: ",";\n        padding-top: 24px;\n        padding-left: 16px;\n        padding-right: 16px;\n        overflow-y: scroll;\n        height: 90vh;\n\n        .like-button {\n            cursor: pointer;\n            display: inline-block;\n            border: 1px solid ",";\n            border-radius: 24px;\n            padding: 8px;\n\n            &.heart-icon-filled {\n                border-color: ",";\n            }\n\n            .heart-icon {\n                border-color: ",";\n\n                path {\n                    stroke: ",";\n                    fill: ",";\n                    stroke-width: 0.3;\n                }\n\n                &-filled {\n                    path {\n                        stroke: ",";\n                        fill: ",";\n                        stroke-width: 0.3;\n                    }\n                }\n\n                &.mini {\n                    border-color: ",";\n\n                    path {\n                        stroke: ",";\n                        fill: ",";\n                        stroke-width: 0.3;\n                    }\n                }\n            }\n        }\n\n        .project-user-identity {\n            margin-bottom: 24px;\n        }\n\n        &-handle {\n            display: none;\n        }\n\n        &-info {\n            display: block;\n        }\n\n        &-responsive-info {\n            display: none;\n        }\n    }\n"],["\n    background-color: ",";\n    position: relative;\n\n    .project-sidebar-wrapper {\n        padding-bottom: 128px;\n    }\n\n    .project-sidebar {\n        -webkit-overflow-scrolling: touch;\n        min-width: 375px;\n        background-color: ",";\n        padding-top: 24px;\n        padding-left: 16px;\n        padding-right: 16px;\n        overflow-y: scroll;\n        height: 90vh;\n\n        .like-button {\n            cursor: pointer;\n            display: inline-block;\n            border: 1px solid ",";\n            border-radius: 24px;\n            padding: 8px;\n\n            &.heart-icon-filled {\n                border-color: ",";\n            }\n\n            .heart-icon {\n                border-color: ",";\n\n                path {\n                    stroke: ",";\n                    fill: ",";\n                    stroke-width: 0.3;\n                }\n\n                &-filled {\n                    path {\n                        stroke: ",";\n                        fill: ",";\n                        stroke-width: 0.3;\n                    }\n                }\n\n                &.mini {\n                    border-color: ",";\n\n                    path {\n                        stroke: ",";\n                        fill: ",";\n                        stroke-width: 0.3;\n                    }\n                }\n            }\n        }\n\n        .project-user-identity {\n            margin-bottom: 24px;\n        }\n\n        &-handle {\n            display: none;\n        }\n\n        &-info {\n            display: block;\n        }\n\n        &-responsive-info {\n            display: none;\n        }\n    }\n"])),Object(_.b)((function(e){return e.canvas})),Object(_.b)((function(e){return e.canvas})),Object(_.b)((function(e){return e.violet})),Object(_.b)((function(e){return e.red})),Object(_.b)((function(e){return e.violet})),Object(_.b)((function(e){return e.violet})),Object(_.b)((function(e){return e.violet})),Object(_.b)((function(e){return e.red})),Object(_.b)((function(e){return e.red})),Object(_.b)((function(e){return e.charcoal})),Object(_.b)((function(e){return e.charcoal})),Object(_.b)((function(e){return e.charcoal}))),L=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},N=m.d.div(r||(r=L(["\n    .project-metadata-wrapper {\n        display: flex;\n        align-items: center;\n    }\n\n    .project-carousel {\n        display: flex;\n    }\n\n    .project-wrapper {\n        display: flex;\n        flex-direction: column;\n        padding-left: 24px;\n        padding-right: 24px;\n        overflow-y: scroll;\n        -webkit-overflow-scrolling: touch;\n        background-color: ",";\n    }\n\n    .project-container {\n        margin: 0 auto;\n        width: 100%;\n        width: -moz-available;\n        width: -webkit-fill-available;\n        width: fill-available;\n        max-width: 1000px;\n        max-height: 90vh;\n    }\n\n    .project-content-wrapper {\n        padding-bottom: 88px;\n    }\n\n    .project-modal-content-wrapper {\n        display: grid;\n        grid-template-columns: 3fr 1fr;\n        min-height: 90vh;\n\n        .MuiSkeleton-rect {\n            border-radius: 8px;\n        }\n\n        .MuiSkeleton-root {\n            background-color: ",";\n        }\n    }\n\n    .modal-section-header {\n        ","\n\n        font-size: 12px;\n        letter-spacing: 1px;\n        color: ",";\n        text-transform: uppercase;\n        margin-top: 16px;\n        padding-bottom: 16px;\n    }\n\n    .comment-text-wrapper {\n        font-size: 15px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: normal;\n        letter-spacing: normal;\n        color: ",";\n        padding-left: 40px;\n\n        .comment-text a {\n            font-size: 13px;\n            font-weight: normal;\n            font-style: normal;\n            font-stretch: normal;\n            line-height: normal;\n            letter-spacing: normal;\n            color: ",";\n            text-decoration: underline;\n            cursor: pointer;\n        }\n    }\n\n    .comments-list {\n        margin-top: 16px;\n        padding-bottom: 64px;\n    }\n\n    .comment-field {\n        padding-bottom: 8px;\n    }\n\n    .comment-post-button {\n        text-align: right;\n    }\n\n    .project-buttons {\n        display: flex;\n        justify-content: end;\n        margin-top: 24px;\n    }\n\n    .copy-button,\n    .edit-project-button {\n        margin-left: 15px;\n\n        &.active .button {\n            color: ",";\n            background-color: ",";\n            border-color: ",";\n\n            svg,\n            path {\n                fill: ",";\n                stroke: ",";\n            }\n        }\n\n        .icon {\n            margin-right: 2px;\n        }\n\n        a {\n            text-decoration: none;\n        }\n\n        path {\n            transition: stroke 200ms ease-in-out;\n        }\n    }\n\n    .comment-text {\n        margin-top: 8px;\n        margin-bottom: 8px;\n\n        p {\n            margin-top: 8px;\n            margin-bottom: 8px;\n        }\n\n        img {\n            width: 100%;\n        }\n    }\n\n    .comment-reply {\n        padding-left: 40px;\n\n        .comment-text-wrapper {\n            padding-left: 32px;\n        }\n    }\n\n    @media screen and (max-width: ",") {\n        .project-modal-content-wrapper {\n            grid-template-columns: none;\n        }\n\n        .project-container {\n            max-height: none;\n        }\n\n        .project-modal {\n            overflow: auto;\n        }\n\n        .project-sidebar {\n            overflow-y: auto;\n            max-height: none;\n            min-width: auto;\n\n            &-wrapper {\n                padding-top: 16px;\n                padding-left: 16px;\n                padding-right: 16px;\n            }\n        }\n    }\n\n    .project {\n        position: relative;\n        margin-top: 24px;\n\n        h1,\n        h2 {\n            font-weight: bold;\n        }\n\n        h2 {\n            margin-top: 0;\n            margin-bottom: 16px;\n        }\n\n        .body {\n            line-height: 24px;\n        }\n\n        &-banner {\n            width: 100%;\n        }\n\n        img#cover-image {\n            margin-bottom: 50px;\n        }\n\n        img {\n            max-width: 100%;\n            height: auto;\n        }\n    }\n"],["\n    .project-metadata-wrapper {\n        display: flex;\n        align-items: center;\n    }\n\n    .project-carousel {\n        display: flex;\n    }\n\n    .project-wrapper {\n        display: flex;\n        flex-direction: column;\n        padding-left: 24px;\n        padding-right: 24px;\n        overflow-y: scroll;\n        -webkit-overflow-scrolling: touch;\n        background-color: ",";\n    }\n\n    .project-container {\n        margin: 0 auto;\n        width: 100%;\n        width: -moz-available;\n        width: -webkit-fill-available;\n        width: fill-available;\n        max-width: 1000px;\n        max-height: 90vh;\n    }\n\n    .project-content-wrapper {\n        padding-bottom: 88px;\n    }\n\n    .project-modal-content-wrapper {\n        display: grid;\n        grid-template-columns: 3fr 1fr;\n        min-height: 90vh;\n\n        .MuiSkeleton-rect {\n            border-radius: 8px;\n        }\n\n        .MuiSkeleton-root {\n            background-color: ",";\n        }\n    }\n\n    .modal-section-header {\n        ","\n\n        font-size: 12px;\n        letter-spacing: 1px;\n        color: ",";\n        text-transform: uppercase;\n        margin-top: 16px;\n        padding-bottom: 16px;\n    }\n\n    .comment-text-wrapper {\n        font-size: 15px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: normal;\n        letter-spacing: normal;\n        color: ",";\n        padding-left: 40px;\n\n        .comment-text a {\n            font-size: 13px;\n            font-weight: normal;\n            font-style: normal;\n            font-stretch: normal;\n            line-height: normal;\n            letter-spacing: normal;\n            color: ",";\n            text-decoration: underline;\n            cursor: pointer;\n        }\n    }\n\n    .comments-list {\n        margin-top: 16px;\n        padding-bottom: 64px;\n    }\n\n    .comment-field {\n        padding-bottom: 8px;\n    }\n\n    .comment-post-button {\n        text-align: right;\n    }\n\n    .project-buttons {\n        display: flex;\n        justify-content: end;\n        margin-top: 24px;\n    }\n\n    .copy-button,\n    .edit-project-button {\n        margin-left: 15px;\n\n        &.active .button {\n            color: ",";\n            background-color: ",";\n            border-color: ",";\n\n            svg,\n            path {\n                fill: ",";\n                stroke: ",";\n            }\n        }\n\n        .icon {\n            margin-right: 2px;\n        }\n\n        a {\n            text-decoration: none;\n        }\n\n        path {\n            transition: stroke 200ms ease-in-out;\n        }\n    }\n\n    .comment-text {\n        margin-top: 8px;\n        margin-bottom: 8px;\n\n        p {\n            margin-top: 8px;\n            margin-bottom: 8px;\n        }\n\n        img {\n            width: 100%;\n        }\n    }\n\n    .comment-reply {\n        padding-left: 40px;\n\n        .comment-text-wrapper {\n            padding-left: 32px;\n        }\n    }\n\n    @media screen and (max-width: ",") {\n        .project-modal-content-wrapper {\n            grid-template-columns: none;\n        }\n\n        .project-container {\n            max-height: none;\n        }\n\n        .project-modal {\n            overflow: auto;\n        }\n\n        .project-sidebar {\n            overflow-y: auto;\n            max-height: none;\n            min-width: auto;\n\n            &-wrapper {\n                padding-top: 16px;\n                padding-left: 16px;\n                padding-right: 16px;\n            }\n        }\n    }\n\n    .project {\n        position: relative;\n        margin-top: 24px;\n\n        h1,\n        h2 {\n            font-weight: bold;\n        }\n\n        h2 {\n            margin-top: 0;\n            margin-bottom: 16px;\n        }\n\n        .body {\n            line-height: 24px;\n        }\n\n        &-banner {\n            width: 100%;\n        }\n\n        img#cover-image {\n            margin-bottom: 50px;\n        }\n\n        img {\n            max-width: 100%;\n            height: auto;\n        }\n    }\n"])),Object(_.b)((function(e){return e.white})),Object(_.b)((function(e){return e.concrete})),Object(_.e)((function(e){return e.label})),Object(_.b)((function(e){return e.navy})),Object(_.b)((function(e){return e.navy})),Object(_.b)((function(e){return e.violet})),Object(_.b)((function(e){return e.white})),Object(_.b)((function(e){return e.navy})),Object(_.b)((function(e){return e.navy})),Object(_.b)((function(e){return e.white})),Object(_.b)((function(e){return e.white})),Object(_.c)("ipad")),$=i(97),R=i(454),M=i(3),V=i(9),A=i(10),B=(i(6),i(68)),U=i(14),z=p.forwardRef((function(e,t){var i=e.animation,n=void 0===i?"pulse":i,s=e.classes,a=e.className,o=e.component,r=void 0===o?"span":o,l=e.height,c=e.variant,d=void 0===c?"text":c,h=e.width,u=Object(V.a)(e,["animation","classes","className","component","height","variant","width"]),v=Boolean(u.children);return p.createElement(r,Object(M.a)({ref:t,className:Object(A.a)(s.root,s[d],a,v&&[s.withChildren,!h&&s.fitContent,!l&&s.heightAuto],!1!==n&&s[n])},u,{style:Object(M.a)({width:h,height:l},u.style)}))})),F=Object(U.a)((function(e){return{root:{display:"block",backgroundColor:Object(B.c)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(z),H=(i(657),i(173)),G=i(968),W=i(1045),Y=(i(118),i(363)),q=i(107),K=i(1094),J=function(e){var t=e.viewer,i=e.data,n=e.onRefresh,s=e.onCreate,a=e.onDelete;return v.a.createElement(G.a,{data:i,viewer:t,onRefresh:n,onCreate:s,onDelete:a})},Z=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Q=function(){return(Q=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},X=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,a=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}return o},ee=m.d.div(l||(l=Z(["\n    &:after,\n    &:before {\n        content: '';\n        border-bottom: "," 1px solid;\n        display: block;\n        padding-top: 32px;\n    }\n\n    .loading {\n        position: relative;\n        opacity: 0.5;\n        min-height: 160px;\n    }\n\n    .spinner-container {\n        position: absolute;\n        left: 40%;\n        top: 336px;\n    }\n\n    .load-more-comments-btn {\n        margin-left: 40px;\n    }\n"],["\n    &:after,\n    &:before {\n        content: '';\n        border-bottom: "," 1px solid;\n        display: block;\n        padding-top: 32px;\n    }\n\n    .loading {\n        position: relative;\n        opacity: 0.5;\n        min-height: 160px;\n    }\n\n    .spinner-container {\n        position: absolute;\n        left: 40%;\n        top: 336px;\n    }\n\n    .load-more-comments-btn {\n        margin-left: 40px;\n    }\n"])),Object(_.b)((function(e){return e.concrete}))),te=function(e){var t=X(Object(p.useState)(!1),2),i=t[0],n=t[1],s=function(e){var t=Object(b.a)(Y.e,{variables:{projectKey:e.toString()},notifyOnNetworkStatusChange:!0}),i=t.data,n=t.refetch,s=t.loading;return{comments:i&&i.projectByKey&&i.projectByKey.comments||[],isDataPending:s,onRefresh:function(){n()}}}(e.projectKey),a=s.onRefresh,o=s.comments,r=s.isDataPending,l=X(Object(p.useState)([]),2),c=l[0],d=l[1];Object(p.useEffect)((function(){!r&&o&&d(o)}),[r,o]);var h={key:e.projectKey},u=Object(W.b)(h,{onRefresh:e.onRefresh||a,onCreate:e.onCreate}).createComment,m=c.slice(0,3),f=c.slice(3),g={onRefresh:e.onRefresh||a,viewer:e.viewer,onCreate:e.onCreate,onDelete:e.onDelete};return v.a.createElement(v.a.Fragment,null,v.a.createElement(ee,null,v.a.createElement("div",{className:"modal-section-header"},"Comments"),e.viewer&&e.viewer.uid&&v.a.createElement(G.b,{id:e.projectKey,avatar:e.viewer.img,avatarSize:H.b.Small,placeholder:"Share your feedback",commentableType:K.CommentableTypes.Project,onPostClick:u}),r&&v.a.createElement(q.a,{size:80}),v.a.createElement("div",{className:r?"loading":""},c.length<=3&&v.a.createElement(J,Q({data:c},g)),c.length>3&&v.a.createElement(v.a.Fragment,null,v.a.createElement(J,Q({data:m},g)),!i&&v.a.createElement("div",{className:"load-more-comments-btn"},v.a.createElement(E.b,{text:"Load more comments",type:E.d.AltNavyGhost,fullWidth:!0,size:E.c.Medium,onClick:function(){n(!0)}})),i&&v.a.createElement(J,Q({data:f},g))))))},ie=function(){return v.a.createElement(x.a,{display:"flex"},v.a.createElement(F,{variant:"circle",width:32,height:32}),v.a.createElement(x.a,{paddingLeft:1},v.a.createElement(F,{variant:"rect",width:136,height:16}),v.a.createElement(x.a,{paddingTop:2,paddingBottom:1},v.a.createElement(F,{variant:"rect",height:16})),v.a.createElement(x.a,{paddingBottom:2},v.a.createElement(F,{variant:"rect",width:236,height:16})),v.a.createElement(F,{variant:"rect",width:111,height:16})))},ne=i(23),se=i(1103),ae=(i(229),function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}),oe=m.d.div(c||(c=ae(["\n    .project-class {\n        display: flex;\n\n        &-header {\n            ","\n\n            font-size: 12px;\n            letter-spacing: 1px;\n            color: ",";\n            text-transform: uppercase;\n            margin-top: 16px;\n            padding-bottom: 16px;\n        }\n\n        &-image {\n            min-width: 80px;\n            align-self: center;\n            height: 45px;\n            border-radius: 4px;\n        }\n\n        &-info {\n            ","\n\n            margin-left: 8px;\n\n            .class-title {\n                color: ",";\n                font-weight: bold;\n                text-decoration: none;\n\n                &-wrapper {\n                    margin-bottom: 4px;\n                }\n\n                &:hover {\n                    text-decoration: underline;\n                }\n            }\n\n            .class-author-name {\n                color: ",";\n\n                text-decoration: none;\n            }\n        }\n    }\n"],["\n    .project-class {\n        display: flex;\n\n        &-header {\n            ","\n\n            font-size: 12px;\n            letter-spacing: 1px;\n            color: ",";\n            text-transform: uppercase;\n            margin-top: 16px;\n            padding-bottom: 16px;\n        }\n\n        &-image {\n            min-width: 80px;\n            align-self: center;\n            height: 45px;\n            border-radius: 4px;\n        }\n\n        &-info {\n            ","\n\n            margin-left: 8px;\n\n            .class-title {\n                color: ",";\n                font-weight: bold;\n                text-decoration: none;\n\n                &-wrapper {\n                    margin-bottom: 4px;\n                }\n\n                &:hover {\n                    text-decoration: underline;\n                }\n            }\n\n            .class-author-name {\n                color: ",";\n\n                text-decoration: none;\n            }\n        }\n    }\n"])),Object(_.e)((function(e){return e.label})),Object(_.b)((function(e){return e.navy})),Object(_.e)((function(e){return e.links.nav.small})),Object(_.b)((function(e){return e.violet})),Object(_.b)((function(e){return e.charcoal}))),re=function(e){return v.a.createElement(oe,null,v.a.createElement("div",{className:"project-class-header"},"Class"),v.a.createElement("div",{className:"project-class"},v.a.createElement("a",{target:"_blank",rel:"noreferrer",href:e.url+"?via=project-details"},v.a.createElement("img",{className:"project-class-image",alt:"Project Class",src:e.image})),v.a.createElement("div",{className:"project-class-info"},v.a.createElement("div",{className:"class-title-wrapper"},v.a.createElement("a",{className:"class-title",target:"_blank",rel:"noreferrer",href:e.url+"?via=project-details"},e.title)),v.a.createElement("div",{className:"class-author-name-wrapper"},v.a.createElement("a",{target:"_blank",rel:"noreferrer",href:e.classAuthorProfile,className:"class-author-name"},e.classAuthorName)))))},le=(i(71),i(935)),ce=i(1104),de=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},he=Object(w.a)(d||(d=de(["\n    mutation FollowUser($id: ID!) {\n        followUser(input: { userId: $id }) {\n            clientMutationId\n        }\n    }\n"],["\n    mutation FollowUser($id: ID!) {\n        followUser(input: { userId: $id }) {\n            clientMutationId\n        }\n    }\n"]))),ue=Object(w.a)(h||(h=de(["\n    mutation UnfollowUser($id: ID!) {\n        unfollowUser(input: { userId: $id }) {\n            clientMutationId\n        }\n    }\n"],["\n    mutation UnfollowUser($id: ID!) {\n        unfollowUser(input: { userId: $id }) {\n            clientMutationId\n        }\n    }\n"]))),pe=function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}l((n=n.apply(e,t||[])).next())}))},ve=function(e,t){var i,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}},me=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,a=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}return o},fe=function(e){var t=me(Object(p.useState)(e.likeCount),2),i=t[0],n=t[1],s=me(Object(p.useState)(e.viewerIsFollowing),2),a=s[0],o=s[1],r=me(Object(p.useState)(e.hasLiked),2),l=r[0],c=r[1],d=function(e){var t=me(Object(p.useState)(e),2),i=t[0],n=t[1];Object(p.useEffect)((function(){e&&n(e)}),[e]);return{numComments:i,incrementNumComments:function(){n(i+1)},decrementNumComments:function(e){var t=e.replies?e.replies.length+1:1;n(i-t)}}}(e.commentCount),h=d.numComments,u=d.incrementNumComments,v=d.decrementNumComments;Object(p.useEffect)((function(){e&&n(e.likeCount)}),[e.likeCount]),Object(p.useEffect)((function(){e&&o(e.viewerIsFollowing)}),[e.viewerIsFollowing]),Object(p.useEffect)((function(){e&&c(e.hasLiked)}),[e.hasLiked]);var m=me(Object(le.a)(he),1)[0],f=me(Object(le.a)(ue),1)[0],g=me(Object(le.a)(ce.a),1)[0],y=me(Object(le.a)(ce.b),1)[0];return{numLikes:i,isFollowing:a,showFilledHeart:l,numComments:h,onFollowClick:function(){return pe(void 0,void 0,void 0,(function(){return ve(this,(function(t){switch(t.label){case 0:return a?[4,f({variables:{id:e.authorId}})]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,m({variables:{id:e.authorId}})];case 3:t.sent(),t.label=4;case 4:return o(!a),[2]}}))}))},onProjectLikeClick:function(){return pe(void 0,void 0,void 0,(function(){return ve(this,(function(t){switch(t.label){case 0:return l?(c(!1),n(i-1),[4,y({variables:{input:{likeableId:e.projectId}}})]):[3,2];case 1:return t.sent(),[3,4];case 2:return c(!0),n(i+1),[4,g({variables:{input:{likeableId:e.projectId}}})];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},incrementNumComments:u,decrementNumComments:v}},ge=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ye=m.d.div(u||(u=ge(["\n    color: ",";\n    ","\n\n    margin-left: 16px;\n\n    .likes-counter,\n    .comments-counter,\n    .views-counter {\n        display: inline-block;\n    }\n\n    .likes-counter,\n    .comments-counter {\n        &:after {\n            color: ",";\n            content: '\\00B7';\n            padding-left: 4px;\n            padding-right: 4px;\n            font-weight: 600;\n        }\n    }\n"],["\n    color: ",";\n    ","\n\n    margin-left: 16px;\n\n    .likes-counter,\n    .comments-counter,\n    .views-counter {\n        display: inline-block;\n    }\n\n    .likes-counter,\n    .comments-counter {\n        &:after {\n            color: ",";\n            content: '\\\\00B7';\n            padding-left: 4px;\n            padding-right: 4px;\n            font-weight: 600;\n        }\n    }\n"])),Object(_.b)((function(e){return e.navy})),Object(_.e)((function(e){return e.links.nav.small})),Object(_.b)((function(e){return e.navy}))),be=function(e){return v.a.createElement(ye,null,v.a.createElement("div",{className:"likes-counter"},e.numLikes," likes"),v.a.createElement("div",{className:"comments-counter"},e.numComments||0," comments"),v.a.createElement("div",{className:"views-counter"},e.numViews," views"))},we=function(){return(we=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},Ce=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,a=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}return o},ke=function(e){var t,i,n,s,a,o,r,l=e.data,c=Object(ne.n)().user,d=Object(ne.c)().appHost,h=Object(T.useClipboard)().copy,u=Ce(Object(p.useState)(!1),2),m=u[0],f=u[1],g=d+"/signup?redirectTo="+e.redirectTo,y=(null===(t=null==l?void 0:l.coverImage)||void 0===t?void 0:t.sources)||[],b=m?"copy-button active":"copy-button",w=m?"Project Link Copied":"Copy Project Link",C={canEdit:null===(i=null==l?void 0:l.viewer)||void 0===i?void 0:i.canEdit,hasLiked:null===(n=null==l?void 0:l.viewer)||void 0===n?void 0:n.hasLiked,viewerIsFollowing:null===(a=null===(s=null==l?void 0:l.author)||void 0===s?void 0:s.viewer)||void 0===a?void 0:a.isFollowing,likeCount:null==l?void 0:l.likeCount,commentCount:function(){var e,t=null!==(e=null==l?void 0:l.comments)&&void 0!==e?e:[],i=t.reduce((function(e,t){var i,n;return null!==(n=e+(null===(i=null==t?void 0:t.replies)||void 0===i?void 0:i.length))&&void 0!==n?n:0}),0);return t.length+i}(),authorId:null===(o=null==l?void 0:l.author)||void 0===o?void 0:o.id,projectId:null==l?void 0:l.id},k=fe(C),S=k.numLikes,_=k.isFollowing,j=k.showFilledHeart,O=k.numComments,L=k.onFollowClick,M=k.onProjectLikeClick,V=k.incrementNumComments,A=k.decrementNumComments,B={uid:null==c?void 0:c.id,img:null==c?void 0:c.mediumPictureUrl},U=function(e){return(null==e?void 0:e.vanityUsername)?"/user/"+e.vanityUsername:"/profile/"+e.firstName+"-"+e.lastName+"/"+e.username},z=y.map((function(e){return e.url+" "+e.width+"w"}));return v.a.createElement(N,null,v.a.createElement("div",{className:"project-modal-content-wrapper"},v.a.createElement("div",{className:"project-wrapper"},v.a.createElement("div",{className:"project-container"},e.loading?v.a.createElement(x.a,{paddingTop:4},v.a.createElement(F,{variant:"rect",animation:"wave",width:348,height:32}),v.a.createElement(x.a,{paddingTop:2},v.a.createElement(F,{variant:"rect",animation:"wave",height:336})),v.a.createElement(x.a,{paddingTop:4,paddingBottom:4},v.a.createElement(F,{variant:"rect",animation:"wave",height:16}),v.a.createElement(x.a,{paddingTop:2,paddingBottom:2},v.a.createElement(F,{variant:"rect",animation:"wave",height:16})),v.a.createElement(x.a,{paddingBottom:2},v.a.createElement(F,{variant:"rect",animation:"wave",height:16})),v.a.createElement(F,{variant:"rect",animation:"wave",width:362,height:16})),v.a.createElement(F,{variant:"rect",animation:"wave",height:336})):v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"project-buttons"},v.a.createElement("div",{className:b},v.a.createElement(E.b,{icon:v.a.createElement($.h,{height:18,viewBox:"0 0 19 19",width:18}),onClick:function(){var e=window.location,t=e.protocol+"//"+e.hostname+"/projects/"+l.key;f(!0),h(t)},size:E.c.Medium,text:w,type:E.d.AltNavyGhost})),(null===(r=l.viewer)||void 0===r?void 0:r.canEdit)&&v.a.createElement("div",{className:"edit-project-button"},v.a.createElement("a",{href:"/projects/"+l.key+"/edit"},v.a.createElement(E.b,{text:"Edit Project",type:E.d.AltNavyGhost,size:E.c.Medium})))),v.a.createElement("div",{className:"project"},l.title&&v.a.createElement("h2",null,l.title),!!(null==y?void 0:y.length)&&v.a.createElement("img",{id:"cover-image",width:y[0].width,height:y[0].height,src:y[0].url,srcSet:z.join(","),sizes:"\n                                                (min-width: 1366px) 1242w,\n                                                (min-width: 1280px) 800w,\n                                                (min-width: 800px) 450w,\n                                                (min-width: 450px) 246w,\n                                                100vw,\n                                            ",alt:l.title+" - student project"}),v.a.createElement("div",{className:"project-content-wrapper"},v.a.createElement(D,null,v.a.createElement("div",{className:"body rich-content-wrapper"},v.a.createElement("div",{dangerouslySetInnerHTML:{__html:P.a.sanitize(l.contentHTML,{ADD_TAGS:["iframe"]})}})))))))),v.a.createElement(I,null,v.a.createElement("div",{className:"project-sidebar"},v.a.createElement("div",{className:"project-sidebar-wrapper"},v.a.createElement("div",{className:"project-sidebar-handle"},v.a.createElement($.r,null)),v.a.createElement("div",{className:"project-sidebar-info"},e.loading?v.a.createElement(v.a.Fragment,null,v.a.createElement(x.a,{display:"flex"},v.a.createElement(F,{variant:"circle",width:72,height:72}),v.a.createElement(x.a,{paddingLeft:1},v.a.createElement(F,{variant:"rect",width:175,height:16}),v.a.createElement(x.a,{paddingTop:1,paddingBottom:1},v.a.createElement(F,{variant:"rect",width:209,height:16})),v.a.createElement(F,{variant:"rect",width:85,height:16}))),v.a.createElement(x.a,{display:"flex",alignItems:"center",paddingTop:3},v.a.createElement(F,{variant:"circle",width:40,height:40}),v.a.createElement(x.a,{paddingLeft:2},v.a.createElement(F,{variant:"rect",width:209,height:16})))):v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"project-user-identity"},v.a.createElement(se.a,{user:function(e){if(e)return{uid:e.id,name:e.firstName+" "+e.lastName,profileUrl:""+d+U(e),img:e.mediumPictureUrl,headline:e.headline,isTeacher:e.isTeacher,isTopTeacher:e.isTopTeacher}}(l.author),onFollowClick:L,type:se.b.Main,viewerisFollowing:_,viewer:B,redirectTo:g,via:"project-details"})),v.a.createElement("div",{className:"project-metadata-wrapper"},c&&c.id?v.a.createElement(E.h,{isFilled:j,onClick:M}):v.a.createElement(x.a,{display:"flex"},v.a.createElement("a",{href:g},v.a.createElement(E.h,{width:24,height:24,isFilled:!1}))),v.a.createElement(be,{numLikes:S,numComments:O,numViews:l.viewCount})))),e.loading?v.a.createElement(ee,null,v.a.createElement(x.a,{paddingTop:2},v.a.createElement(F,{variant:"rect",width:97,height:16})),v.a.createElement(x.a,{display:"flex",paddingTop:2,paddingBottom:3},v.a.createElement(F,{variant:"circle",width:32,height:32}),v.a.createElement(x.a,{paddingLeft:1},v.a.createElement(F,{variant:"rect",width:304,height:58}))),ie(),v.a.createElement(x.a,{paddingTop:4,paddingBottom:4},ie()),ie(),v.a.createElement(x.a,{paddingTop:3,paddingLeft:5},v.a.createElement(F,{variant:"rect",height:32}))):v.a.createElement(te,{viewer:B,projectKey:l.key,onCreate:V,onDelete:A,onRefresh:e.onRefresh}),e.loading?v.a.createElement(v.a.Fragment,null,v.a.createElement(x.a,{paddingTop:2},v.a.createElement(F,{variant:"rect",height:16,width:55})),v.a.createElement(x.a,{display:"flex",paddingTop:2},v.a.createElement(F,{variant:"rect",height:45,width:82}),v.a.createElement(x.a,{paddingLeft:1},v.a.createElement(x.a,{paddingBottom:1},v.a.createElement(F,{variant:"rect",width:254,height:16})),v.a.createElement(F,{variant:"rect",height:16,width:154})))):l.class&&v.a.createElement(re,we({},function(e){if(e)return{title:e.title,url:Object(R.e)(e.url,"project-details"),image:e.smallCoverUrl,classAuthorName:e.teacher.name,classAuthorProfile:U(e.teacher)}}(l.class))))))))},Se=function(e){var t=Object(b.a)(k,{variables:{projectKey:e.projectKey}}),i=t.data,n=t.loading,s=t.refetch,a=null==i?void 0:i.projectByKey;return v.a.createElement(ke,{loading:n,data:a,redirectTo:e.redirectTo,isModal:e.isModal,onRefresh:s})},Pe=function(e){var t=window.location.href;return v.a.createElement(y.a,{maxWidth:"lg",keepMounted:!0,fullWidth:!0,open:e.isModalOpen,onClose:e.onCloseModal},e.isModalOpen&&v.a.createElement(Se,{projectKey:e.projectKey,redirectTo:t,isModal:!0}))},Te=function(){return(Te=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},xe=function(e){return v.a.createElement(g,null,v.a.createElement(Pe,Te({},e)))}},function(e,t,i){"use strict";var n=i(448),s=(i(264),i(57)),a=i(1066),o=i.n(a),r=s.a.extend({tagName:"li",template:o.a,events:{click:"onClick"},className:function(){var e=["tab","left"];return this.model.get("active")&&e.push("active"),e.join(" ")},templateData:function(){return this.model.attributes},initialize:function(){this.listenTo(this.model,"change:active",this.updateActiveClass)},onClick:function(e){e.preventDefault(),this.model.activate()},updateActiveClass:function(e,t){this.$el.toggleClass("active",t)}}),l=i(1067),c=i.n(l),d=i(189),h=i.n(d),u=n.a.extend({itemView:r,template:c.a,templateFunc:h.a.compile(c.a),insertView:function(e,t){this.$("ul.list").append(t.$el),t.trigger("addedToParent"),e&&this.updateVisibleItems(e),this.trigger("didInsertView")}});t.a=u},,function(e,t,i){"use strict";(function(e){var i=e.Model.extend({urlRoot:"/rosters"},{STATUS_ENROLLED:1,STATUS_COMPLETED:2});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({activate:function(){this.get("active")?this.trigger("change:active",this,!0,{}):this.set("active",!0)},deactivate:function(){this.set("active",!1)}});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var n=i(1146),s=e.Collection.extend({model:n.a,comparator:function(e){return e.get("rank")},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.unit=t.unit}});t.a=s}).call(this,i(76))},function(e,t,i){"use strict";(function(e,n){i(299),i(133),i(186),i(96),i(172);var s=e.Model.extend({defaults:{selectedLanguage:{id:void 0,source:void 0},isSelectingLanguage:!1,languageOptions:[]},initialize:function(){var e=this,t=this.getCookieValue();this.once("change:languageOptions",this.migrateOldCookieIfNecessary),this.on("change:selectedLanguage",this.syncCookieValue),void 0===t?this.once("change:languageOptions",this.setRecommendedLanguage):this.once("change:languageOptions",(function(){e.setLanguageFromCookieValue(t)}))},setLanguageFromCookieValue:function(e){var t=this;if(e===s.COOKIE_SUBTITLES_SELECTED_OFF_VALUE){var i={id:e,source:s.LANGUAGE_SOURCE_COOKIE};this.set("selectedLanguage",i)}else{if(this.get("languageOptions").find((function(i){var n=i.id;return t.isLanguageMatch(n,e)}))){var n={id:e,source:s.LANGUAGE_SOURCE_COOKIE};this.set("selectedLanguage",n)}else this.setRecommendedLanguage()}},setRecommendedLanguage:function(){var e,t,i=this.get("languageOptions").map((function(e){return e.id})).filter(this.isNotEnglish.bind(this)),n=window.navigator.languages,a=this.findFirstLanguageMatch(i,n);if(a&&a.length>0){var o={id:a,source:s.LANGUAGE_SOURCE_DEVICE};this.set("selectedLanguage",o)}else{var r=null===(e=SS.serverBootstrap)||void 0===e||null===(t=e.clientContext)||void 0===t?void 0:t.suggestedLanguageCode,l=r?[r]:[],c=this.findFirstLanguageMatch(i,l);if(c&&c.length>0){var d={id:c,source:s.LANGUAGE_SOURCE_SERVER};this.set("selectedLanguage",d)}else{var h={id:void 0,source:s.LANGUAGE_SOURCE_NONE};this.set("selectedLanguage",h)}}},setSelectedLanguageAndTrack:function(e,t){var i=this.get("selectedLanguage").id;i!==e&&(this.set("selectedLanguage",{id:e,source:t}),this.trigger("trackSelectedLanguageChange",{oldId:i,id:e}))},toggleOrSelect:function(){this.isLanguageOptionsEmpty()||this.isSingleLanguageOption()?this.toggleOnOffState():this.set("isSelectingLanguage",!this.get("isSelectingLanguage"))},toggleOnOffState:function(){var e=this.get("languageOptions"),t=s.LANGUAGE_SOURCE_COOKIE;if(this.languageIsSelected())this.setSelectedLanguageAndTrack(s.COOKIE_SUBTITLES_SELECTED_OFF_VALUE,t);else{var i=this.getDefaultLanguageOption();i?this.setSelectedLanguageAndTrack(i,t):e&&this.setSelectedLanguageAndTrack(e[0].id,t)}},isLanguageMatch:function(e,t){if(!e||!t)return!1;function i(e){return e.split("-")[0]}return i(e)===i(t)},getDefaultLanguageOption:function(){var e=this.get("languageOptions").find((function(e){return e.isDefault}));return e?e.id:void 0},isEnglish:function(e){return this.isLanguageMatch(e,s.LANGUAGES.ENGLISH)},isNotEnglish:function(e){return!this.isEnglish(e)},languageIsSelected:function(){var e=this,t=this.get("selectedLanguage").id,i=this.get("languageOptions");return!(!t||!i.length)&&(t!==s.COOKIE_SUBTITLES_SELECTED_OFF_VALUE&&void 0!==i.find((function(i){return e.isLanguageMatch(t,i.id)})))},isSingleLanguageOption:function(){return 1===this.get("languageOptions").length},isLanguageOptionsEmpty:function(){return 0===this.get("languageOptions").length},syncCookieValue:function(){var e=this.get("selectedLanguage").id;this.get("selectedLanguage").source===s.LANGUAGE_SOURCE_COOKIE&&(e?e===s.COOKIE_SUBTITLES_SELECTED_OFF_VALUE?this.setCookieValue(s.COOKIE_SUBTITLES_SELECTED_OFF_VALUE):this.setCookieValue(e):this.removeCookie())},getCookieValue:function(){return n.cookie(s.COOKIE_SUBTITLES_SELECTED_LANGUAGE_ID)},setCookieValue:function(e){n.cookie(s.COOKIE_SUBTITLES_SELECTED_LANGUAGE_ID,e,{path:"/"})},removeCookie:function(){n.removeCookie(s.COOKIE_SUBTITLES_SELECTED_LANGUAGE_ID,{path:"/"})},migrateOldCookieIfNecessary:function(){var e=n.cookie(s.COOKIE_LEGACY_CAPTIONS_STATE_NAME);if(void 0!==e){if(e!==s.COOKIE_LEGACY_CAPTIONS_STATE_OFF){var t={id:this.getDefaultLanguageOption(),source:s.LANGUAGE_SOURCE_COOKIE};this.set("selectedLanguage",t)}n.removeCookie(s.COOKIE_LEGACY_CAPTIONS_STATE_NAME,{path:"/"})}},findFirstLanguageMatch:function(e,t){var i=this;return e.find((function(e){return t.find((function(t){return i.isLanguageMatch(t,e)}))}))}},{COOKIE_LEGACY_CAPTIONS_STATE_NAME:"CAPTIONS",COOKIE_LEGACY_CAPTIONS_STATE_OFF:"off",COOKIE_SUBTITLES_SELECTED_LANGUAGE_ID:"subtitles_selected_language_id",COOKIE_SUBTITLES_SELECTED_OFF_VALUE:"off",LANGUAGES:{ENGLISH:"en"},LANGUAGE_SOURCE_COOKIE:"cookie",LANGUAGE_SOURCE_DEVICE:"device",LANGUAGE_SOURCE_SERVER:"server",LANGUAGE_SOURCE_NONE:"none"});t.a=s}).call(this,i(76),i(48))},function(e,t,i){"use strict";(function(e,n){i(133);var s=i(300),a=i(57),o=i(449),r=i(1080),l=i(1081),c=i.n(l),d=i(1082),h=i.n(d),u=i(189),p=i.n(u),v=a.a.extend({events:{"change .video-size-selector":"onDropdownChange","keyup .custom-height":"onHeightInput","keyup .custom-width":"onWidthInput"},template:c.a,templateData:function(){return e.extend({sizes:this.sizes,width:this.model.get("width"),height:this.model.get("height"),hostName:"https://"+window.location.hostname},this.options.templateOptions)},templatePartials:function(){return{"_video-embed":this.getEmbedCode()}},sizes:[{value:"small",width:480,height:270},{value:"medium",width:640,height:360},{value:"large",width:800,height:450}],maxWidth:1920,maxHeight:1080,minWidth:0,minHeight:0,initialize:function(e){this.options=e,this.model=new r.a,this.model.on("change",this.onChange,this),this.render(),this.customDimensionsEl=this.$(".custom-dimensions"),this.textareaEl=this.$("textarea"),this.previewImageEl=this.$(".preview-image"),this.customWidthEl=this.$(".custom-width"),this.customHeightEl=this.$(".custom-height")},render:function(){a.a.prototype.render.apply(this,arguments),s.a.addShortUrlFocusEvents(),o.a.initInputsAndSelectMenus(this.$el),o.a.initPlaceholders(this.$el)},getEmbedCode:function(){return p.a.render(h.a,this.templateData())},onDropdownChange:function(e){var t=n(e.currentTarget),i=t.find(":selected");if("custom"===t.val())this.customDimensionsEl.css("display","inline-block");else{this.customDimensionsEl.css("display","");var s=i.data("ss-width"),a=i.data("ss-height");this.model.set({width:s,height:a})}},onHeightInput:function(t){var i=n(t.currentTarget),s=parseInt(i.val(),10);if(!e.isNaN(s))if(s>this.maxHeight)this.setMaximum();else if(s<this.minHeight)this.setMinimum();else{var a=Math.round(16/9*s);this.model.set({width:a,height:s})}},onWidthInput:function(t){var i=n(t.currentTarget),s=parseInt(i.val(),10);if(!e.isNaN(s))if(s>this.maxWidth)this.setMaximum();else if(s<this.minWidth)this.setMinimum();else{var a=Math.round(s/16*9);this.model.set({width:s,height:a})}},setMaximum:function(){this.model.set({width:this.maxWidth,height:this.maxHeight})},setMinimum:function(){this.model.set({width:this.minWidth,height:this.minHeight})},onChange:function(){this.customWidthEl.removeClass("placeholder"),this.customHeightEl.removeClass("placeholder"),this.customWidthEl.val(this.model.get("width")),this.customHeightEl.val(this.model.get("height"));var e=this.getEmbedCode();this.textareaEl.text(e)}});t.a=v}).call(this,i(51),i(48))},function(e,t,i){"use strict";var n=i(946).a.extend({defaults:{width:480,height:270}});t.a=n},function(e,t){e.exports='<h4 class="popup-title">Embed Video</h4>\n{{#sessionId}}\n    <div class="section">\n        <div class="title"><strong>Paste this in your HTML</strong></div>\n        <div class="textarea-wrapper">\n            <textarea class="select-on-click">{{> _video-embed }}</textarea>\n        </div>\n\n        <div class="video-size">\n            <div class="column">\n                <strong>Video Size:</strong>\n            </div>\n            <select class="video-size-selector">\n                {{#sizes}}\n                <option value="{{value}}" data-ss-width="{{width}}" data-ss-height="{{height}}">{{width}} x {{height}}</option>\n                {{/sizes}}\n\n                <option value="custom">Custom</option>\n            </select>\n\n            <div class="custom-dimensions column">\n                <input class="placeholder custom-width" name="custom-width" type="text" data-ss-placeholder-copy="Width" maxlength="4" /><span class="x">x</span><input class="placeholder custom-height" name="custom-height" type="text" data-ss-placeholder-copy="Height" maxlength="4"/> \n            </div>\n        </div>\n    </div>\n{{/sessionId}}\n{{^sessionId}}\n    <div class="section">\n        <div class="title"><strong>Sorry, this video cannot be embedded at this time.</strong></div>\n    </div>\n{{/sessionId}}\n'},function(e,t){e.exports='<iframe src="{{{hostName}}}/embed/video?sessionId={{sessionId}}&width={{width}}&height={{height}}{{#authToken}}&authToken={{authToken}}{{/authToken}}" width="{{width}}" height="{{height}}" frameborder="0" allowfullscreen></iframe>\n<div style="margin: 15px 0 5px; width: {{width}};"><a href="{{linkUrl}}" style="color: #41444b; text-decoration: none; font-weight: 600; font-family: \'Arial\', sans-serif; font-size: 14px; margin-top: 15px;" >{{linkTitle}}</a></div>\n{{#tagLine}}<div style="width: {{width}}; color: #999999; font-family: \'Arial\', san-serif; font-size: 12px; padding-bottom: 15px; border-bottom: solid 1px #ddd; margin-bottom: 20px;">{{tagLine}}</div>{{/tagLine}}\n'},function(e,t){e.exports='<div class="video-embed-popup-wrapper">\n    <a href="javascript:;" class="btn-close ss-icon-close"></a>\n    <div class="video-embed-wrapper"></div>\n</div>\n'},function(e,t,i){"use strict";(function(e,i){var n=e.View.extend({events:{click:"onClick"},initialize:function(e){i.extend(this,i.pick(e,["modelTrackingParams","trackingParams"]))},onClick:function(){this.trigger("element:click"),SS.EventTracker.track("Clicked Share Button",this.modelTrackingParams,i.extend({},this.trackingParams,SS.EventTracker.classDetails("Pinterest")))}});t.a=n}).call(this,i(76),i(51))},function(e,t){e.exports='<div class="social-share-buttons">\n    {{#showLinkBtn}}\n        <div class="link-input btn small hidden">\n            <input type="text" class="small select-on-click" value="{{shortUrl}}" readonly="readonly" />\n        </div>\n        <div class="share-link btn large-icon ss-icon-link share-button" longurl="{{directUrl}}"></div>\n    {{/showLinkBtn}}\n        <div class="share-facebook btn fb large-icon ss-icon-facebook share-button"></div>\n    <a class="share-twitter btn twitter large-icon ss-icon-twitter share-button"\n        href="https://twitter.com/intent/tweet?text={{urlEncodedTweetText}}" longurl="{{twitterUrl}}" shorturl=""></a>\n    {{#pinterestShare}}\n        <a class="share-pinterest btn red large-icon ss-icon-pinterest share-button"\n            href="http://pinterest.com/pin/create/button/?url={{url}}&media={{media}}&description={{description}}" target="_blank" rel="noreferrer"></a>\n    {{/pinterestShare}}\n    \x3c!-- for now you have to add email-share-popup separately from social-share-buttons.js --\x3e\n    {{#showEmail}}\n        <div class="btn email large-icon ss-icon-envelope share-button" data-ss-restrict="login"></div>\n    {{/showEmail}}\n    {{^hideShortUrl}}\n        {{#shortUrl}}\n            <a href="javascript:;" class="btn small link-btn share-button ss-icon-link">\n                <input type="text" class="small select-on-click" value="{{shortUrl}}" readonly="readonly" />\n            </a>\n        {{/shortUrl}}\n    {{/hideShortUrl}}\n    {{#showEmbedButton}}\n        <a href="javascript:;" class="btn small transparent video-embed-button">Embed</a>\n    {{/showEmbedButton}}\n</div>\n'},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useClipboard=void 0;var s=n(i(1087)),a=i(0),o=i(1088);function r(e){return e&&("TEXTAREA"===e.nodeName||"INPUT"===e.nodeName)}t.useClipboard=function(e){void 0===e&&(e={});var t=o.useTimedToggle(!1),i=t[0],n=t[1],l=a.useRef(null),c=a.useRef(e);return c.current=e,{copied:i,copy:a.useCallback((function(e){var t=c.current,i=l.current;function a(){t.onSuccess&&t.onSuccess(),t.copiedTimeout&&n(t.copiedTimeout),t.selectOnCopy&&r(i)&&i.select()}function o(){t.onError&&t.onError(),!1!==t.selectOnError&&r(i)&&i.select()}function d(e){s.default(e).then(a).catch(o)}"string"==typeof e?d(e):i&&d(i.value)}),[]),isSupported:function(){return!!navigator.clipboard||"function"==typeof document.execCommand&&"function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")},target:l}}},function(e,t){e.exports=function(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch((function(e){throw void 0!==e?e:new DOMException("The request is not allowed","NotAllowedError")}));var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);var i=window.getSelection(),n=window.document.createRange();i.removeAllRanges(),n.selectNode(t),i.addRange(n);var s=!1;try{s=window.document.execCommand("copy")}catch(e){console.log("error",e)}return i.removeAllRanges(),window.document.body.removeChild(t),s?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTimedToggle=void 0;var n=i(0);t.useTimedToggle=function(e){var t=n.useState(!1),i=t[0],s=t[1],a=n.useRef(),o=n.useRef(e);return n.useEffect((function(){return function(){return clearTimeout(a.current)}}),[]),[i,function(e){clearTimeout(a.current),s(!o.current),a.current=window.setTimeout((function(){return s(o.current)}),e)}]}},function(e,t,i){"use strict";(function(e,n){i(264),i(96),i(172);var s=i(57),a=i(1040),o=i(961),r=s.a.extend({dialogId:null,parentClassId:null,events:{"click .close-button":"onClose","click .dismiss-banner":"onClose"},initialize:function(t){if(e.extend(this,e.pick(t,["dialogId","cookieName","parentClassId"])),!this.dialogId)throw new Error("A dialogId is required.");s.a.prototype.initialize.apply(this,arguments)},close:function(){var e=this;this.$el.slideUp(500,(function(){e.$el.remove()}))},onClose:function(){SS.currentUser.isGuest()||(new a.a({dialog_id:this.dialogId,user_uid:SS.currentUser.id,parent_class_id:this.parentClassId}).save(),o.a.addViewedDialogId(this.dialogId));var e=this.parentClassId,t=this.cookieName,i=1;e&&((i=(i=n.cookie(t))?i.split("-"):[]).push(e),i=i.join("-")),t&&n.cookie(t,i,{path:"/",expires:365}),this.close()}});t.a=r}).call(this,i(51),i(48))},,,,,,function(e,t,i){"use strict";var n=i(305),s=i(1064),a=n.a.extend({url:"/notes",model:s.a,comparator:"update_time",parse:function(e){return n.a.prototype.parse.apply(this,arguments),this.total=e.total,e.notes}});t.a=a},function(e,t,i){"use strict";(function(e){i(133);var n=i(208),s=i(964),a=i(1051),o=i(997),r=i(998),l=i(1114),c=i.n(l),d=i(1097),h=i.n(d),u=i(1098),p=i.n(u),v=n.a.extend({className:"base-share-popup base-share",template:p.a,templatePartials:{"shared/_email-invite":h.a},events:function(){return e.extend(n.a.prototype.events.call(this),{"click .invite-contacts":"onInviteContactsClick","click .manual-toggle":"onManualToggleClick"})},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.trackingParams=e.extend({via:this.via},e.pick(this.model.get("formData"),["parentClassId","workshopId"]))},afterRender:function(){var e=this;n.a.prototype.afterRender.apply(this,arguments),this.$email=this.$(".email-invite"),this.$emailForm=this.$email.find("form"),this.$manualToggle=this.$(".manual-toggle"),this.$manualSection=this.$(".manual-section"),this.$contactsSection=this.$(".contacts-section"),this.$inlineErrorMessage=this.$el.find(".js-inline-error-message");var t=new a.a({template:c.a,el:this.$(".social-share-buttons-wrapper"),model:this.model,trackingParams:this.trackingParams,showCompact:this.showCompact,showEmail:this.showEmail,hideShortUrl:!0});this.listenTo(t,"facebook:click",(function(){this.trackSocialShare(s.a.METHODS.FACEBOOK)})),this.listenTo(t,"twitter:click",(function(){this.trackSocialShare(s.a.METHODS.TWITTER)})),this.listenTo(t,"link:button:click",(function(){this.trigger("link:button:click")}));var i=new o.a({el:this.$emailForm,trackingParams:this.trackingParams});this.listenTo(i,"inlineReferralError",(function(t){var i=t.message;e.$inlineErrorMessage.html(i),e.$email.toggleClass("has-inline-error",!0)})),this.centerPopup()},trackSocialShare:function(t){var i=e.extend(this.model.get("formData"),this.trackingParams,{method:t,type:s.a.TYPES.REFERRAL_LINK});new s.a(i).save()},onInviteContactsClick:function(){var t=e.extend({endpoint:this.model.get("formData").action,method:s.a.METHODS.GMAIL_CONTACTS},this.trackingParams);this.googleContactsView=new r.a({el:this.$contactsSection,trackingParams:this.trackingParams,referralData:t}),this.showCompact?(this.$(".compact-gmail-contacts-show").show(),this.$(".compact-gmail-contacts-hide").hide()):this.googleContactsView.on("user:authorized",this.hideForm,this),this.googleContactsView.on("user:authorized",this.onUserAuthorized,this),this.googleContactsView.authorize(),SS.EventTracker.track("Clicked Invite Gmail Contacts",{},this.trackingParams)},onManualToggleClick:function(){this.showForm(),this.centerPopup()},hideForm:function(){this.$manualSection.hide(),this.$manualToggle.css("display","inline-block")},showForm:function(){this.$manualSection.show(),this.$manualToggle.hide()},onUserAuthorized:function(){this.trigger("google:user:authorized")}});t.a=v}).call(this,i(51))},function(e,t){e.exports='<div class="email-invite js-email-invite">\n    <div class="header-section">\n        {{#showCompact}}\n            <p class="section-title">Share via Email</p>\n            <div class="contacts-section">\n                <a class="invite-contacts {{inviteContactsBtnClasses}}{{^inviteContactsBtnClasses}}btn red small full-width{{/inviteContactsBtnClasses}}">Import Your Gmail Contacts</a>\n            </div>\n        {{/showCompact}}\n    </div>\n    <div class="manual-section">\n        {{#showCompact}}\n            <div class="form-separator"><p>or</p></div>\n        {{/showCompact}}\n        {{#formData}}\n            <form action="{{action}}" method="post">\n                {{> forms/_csrf}}\n                {{#parentClassId}}\n                    <input type="hidden" name="parentClassId" value="{{parentClassId}}">\n                {{/parentClassId}}\n                {{#workshopId}}\n                    <input type="hidden" name="workshopId" value="{{workshopId}}">\n                {{/workshopId}}\n                {{#method}}\n                    <input type="hidden" name="method" value="{{method}}">\n                {{/method}}\n                {{#via}}\n                    <input type="hidden" name="via" value="{{via}}">\n                {{/via}}\n                {{#utm_campaign}}\n                    <input type="hidden" name="utm_campaign" value="{{utm_campaign}}">\n                {{/utm_campaign}}\n                {{#utm_medium}}\n                    <input type="hidden" name="utm_medium" value="{{utm_medium}}">\n                {{/utm_medium}}\n                {{#utm_source}}\n                    <input type="hidden" name="utm_source" value="{{utm_source}}">\n                {{/utm_source}}\n                <fieldset class="no-margin-top">\n                    <div class="fields input-wrapper">\n                        <input class="emails js-email-invite-input-el" type="email" name="emails" multiple placeholder="Email Addresses (Separate by Commas)" />\n                    </div>\n                </fieldset>\n                \n                {{^showCompact}}\n                    <a class="invite-contacts alternate small left compact-gmail-contacts-hide">Import Gmail Contacts</a>\n                {{/showCompact}}\n                {{#showCompact}}\n                    <fieldset class="email-invite__optional-message">\n                        <div class="fields input-wrapper">\n                            <textarea class="message" name="message" placeholder="Optional Message">{{message}}</textarea>\n                        </div>\n                    </fieldset>\n                {{/showCompact}}\n                <fieldset class="send-button-wrapper">\n                    <div class="email-invite__inline-error js-inline-error">\n                        <p class="email-invite__inline-error-text js-inline-error-message">{{ inline_referral_error }}</p>\n                    </div>\n                    {{^showCompact}}\n                        <button type="submit" class="send-button button large right invite-via-email email-invite__send-button">Send</button>\n                    {{/showCompact}}\n                    {{#showCompact}}\n                        <button type="submit" class="send-button button alt-charcoal-ghost left invite-via-email">Send</button>\n                    {{/showCompact}}\n                    <div class="left status-lbl"></div>\n                </fieldset>\n            </form>\n        {{/formData}}\n    </div>\n    {{^showCompact}}\n        <div class="form-separator hidden compact-gmail-contacts-show"><p>or</p></div>\n        <div class="contacts-section"></div>\n    {{/showCompact}}\n    {{#showCompact}}\n        <a href="javascript:;" class="small secondary manual-toggle">Or Manually Enter Emails</a>\n    {{/showCompact}}\n</div>\n'},function(e,t){e.exports='<div class="compact">\n    <h4 class="title">{{{viewTitle}}}</h4>\n    <p class="description">{{{viewDescription}}}</p>\n    {{^showCompact}}\n       \t<div class="social-share-buttons-wrapper"></div>\n    \t<div class="form-separator"><p>or</p></div>\n    \t{{> shared/_email-invite }}\n    {{/showCompact}}\n</div>\n'},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(300),a=i(1069),o=n.a.extend({events:{"click .email.share-button":"onClickEmailShare"},initialize:function(t){e.extend(this,e.pick(t,["currentSession","nextSession","parentClass","baseUrl"])),n.a.prototype.initialize.apply(this,arguments)},close:function(){this.trigger("close"),this.$el.remove()},nextVideo:function(){this.trigger("nextVideo")},viewAssignment:function(){this.trigger("scrollToHeaders")},replay:function(){this.trigger("replay")},afterRender:function(){s.a.initRestrictedAccessHandlers(this),n.a.prototype.afterRender.apply(this,arguments)},onClickEmailShare:function(){SS.currentUser.isGuest()||new a.a({model:this.parentClass})}});t.a=o}).call(this,i(51))},function(e,t,i){"use strict";(function(e){var n=i(448),s=i(1052),a=i(189),o=i.n(a),r=n.a.extend({itemView:s.a,initialize:function(t){e.extend(this,e.pick(t,["data","prependTemplate","appendTemplate"])),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){if(this.prependTemplate){var e=o.a.render(this.prependTemplate,this.data);this.$el.prepend(e)}if(this.appendTemplate){var t=o.a.render(this.appendTemplate,this.data);this.$el.append(t)}n.a.prototype.afterRender.apply(this,arguments)}});t.a=r}).call(this,i(51))},function(e,t){e.exports='<div class="user-snippet">\n    <h5>\n        <a href="{{url}}" class="link-main" data-ss-username="{{username}}">{{fullName}}</a>\n        {{#isTeacher}}\n            {{#isTopTeacher}}\n                <span class="teacher-tag teacher-tag-top-teacher-badge">\n                    <span class="ss-icon-premium-badge"></span>Top Teacher\n                </span>\n            {{/isTopTeacher}}\n            {{^isTopTeacher}}\n                <span class="teacher-tag">Teacher</span>\n            {{/isTopTeacher}}\n        {{/isTeacher}}\n        {{#isCreator}}\n            <span class="teacher-tag">Creator</span>\n        {{/isCreator}}\n    </h5>\n    {{#headline}}\n        <p class="secondary">{{headline}}</p>\n    {{/headline}}\n</div>\n'},function(e,t,i){"use strict";(function(e,n,s){var a=i(208),o=i(449),r=a.a.extend({centerVertically:!1,className:"form-popup-view",preventClose:!0,templateData:function(){return this.options},templateFunc:function(){},events:function(){return e.extend(a.a.prototype.events.call(this),{"click .submit-btn":"submit","click #notify_all_students":"toggleEmailSubjectField"})},initialize:function(t){e.bindAll(this,"onSuccess","onFormRendered"),this.postUrl=t.postUrl||null,a.a.prototype.initialize.apply(this,arguments)},afterRender:function(){a.a.prototype.afterRender.apply(this,arguments),n(o.a).off("form:render").on("form:render",this.onFormRendered),o.a.renderForm(this.$("form")),this.model=new s.Model,this.model.url=this.$("form").attr("action")||this.postUrl,this.model.sync=function(e,t,i){return i.beforeSend=function(e){e.setRequestHeader("X-CSRFToken",n.cookie("YII_CSRF_TOKEN"))},s.sync.apply(this,arguments)},this.$notifyAll=this.$("#notify_all_students"),this.$emailSubjectField=this.$(".email-subject-field")},onFormRendered:function(){this.centerPopup()},submit:function(e){e.preventDefault();var t=n(e.currentTarget);if(!t.hasClass("disabled")){o.a.clearFormErrors(this.$("form")),o.a.clean(this.$("form"));var i=o.a.formDataToJSON(this.$("form"));this.model.save(i,{success:this.onSuccess}),t.addClass("disabled").attr("disabled","disabled")}},onSuccess:function(t,i){if(i.success&&i.redirectUrl)window.location=i.redirectUrl;else{var n=this;void 0!==i.formErrors&&e.each(i.formErrors,(function(e,t){var i=e[0],s=n.$("#"+t);o.a.showFieldMessage(s,i,{})})),void 0!==i.errors&&e.each(i.errors,(function(e,t){var i=e[0],s=n.$("[name="+t+"]");o.a.showFieldMessage(s,i,{})})),o.a.restorePlaceholders(this.$("form")),this.$(".submit-btn").removeClass("disabled").removeAttr("disabled")}},toggleEmailSubjectField:function(){var e=this.$notifyAll.prop("checked");this.$emailSubjectField.toggle(e)}});t.a=r}).call(this,i(51),i(48),i(76))},,,,,,function(e,t,i){"use strict";var n=i(3),s=i(9),a=i(59),o=i(0),r=(i(6),i(10)),l=i(14),c=i(21),d=o.forwardRef((function(e,t){var i=e.classes,a=e.className,l=e.component,d=void 0===l?"div":l,h=e.disableGutters,u=void 0!==h&&h,p=e.fixed,v=void 0!==p&&p,m=e.maxWidth,f=void 0===m?"lg":m,g=Object(s.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return o.createElement(d,Object(n.a)({className:Object(r.a)(i.root,a,v&&i.fixed,u&&i.disableGutters,!1!==f&&i["maxWidth".concat(Object(c.a)(String(f)))]),ref:t},g))}));t.a=Object(l.a)((function(e){return{root:Object(a.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,i){var n=e.breakpoints.values[i];return 0!==n&&(t[e.breakpoints.up(i)]={maxWidth:n}),t}),{}),maxWidthXs:Object(a.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(a.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(a.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(a.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(a.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(d)},function(e,t,i){"use strict";(function(e,n){i.d(t,"a",(function(){return s}));var s="muted",a=e.Model.extend({currentVolume:null,muted:!1,constants:{FULL:1},initialize:function(){e.Model.prototype.initialize.apply(this,arguments),SS.currentUser.isGuest()&&this.setCurrentVolume(this.constants.FULL)},getCurrentVolume:function(){return this.currentVolume=localStorage.getItem("volume_level"),this.currentVolume||(this.currentVolume=this.constants.FULL,this.setCurrentVolume(this.currentVolume)),this.currentVolume},getMuted:function(){return JSON.parse(localStorage.getItem(s))},setMuted:function(e){var t=JSON.stringify(e);n.cookie(s,t),localStorage.setItem(s,t)},setCurrentVolume:function(e){localStorage.setItem("volume_level",e)}});t.b=a}).call(this,i(76),i(48))},function(e,t,i){"use strict";(function(e,n){i(96),i(172);var s=i(208),a=i(945),o=i(132),r=i(1111),l=i.n(r),c=s.a.extend({className:"resume-membership-popup",template:l.a,events:function(){return e.extend(s.a.prototype.events.call(this),{"click #resume-membership-id":"clickAndDisable"})},resumeUrl:SS.serverBootstrap.pageData.resumeUrl,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,s.a.prototype.initialize.apply(this,arguments)},clickAndDisable:function(e){e.preventDefault(),n(e.target).addClass("disabled");var t=n(e.target).closest(".content");t.addClass("loading-overlay");var i=this.resumeUrl.split("?")[0],s=Object(a.a)(this.resumeUrl);o.a.ajaxRequest(i,{type:"POST",data:s,success:function(e){window.location.href=e.data.redirect},error:function(e){window.location.href=e.responseJSON.data.redirect},done:function(){t.removeClass("loading-overlay")}})}});t.a=c}).call(this,i(51),i(48))},function(e,t){e.exports='<a href="javascript:;" class="btn-close ss-icon-close"></a>\n<div class="content">\n    <div class="resume-membership-prompt">\n        <h3 class="font-size-3 popup-header">Resume Your Membership</h3>\n        <p class="font-size-4 desc">You must resume your membership to access classes.</p>\n        <a class="btn small primary resume-membership" id="resume-membership-id">Resume Membership</a>\n    </div>\n    <a href="javascript:;" class="btn-close ss-icon-close"></a>\n</div>\n\n'},function(e,t,i){"use strict";(function(e){var n=i(1095),s=i(959),a=n.a.extend({session:null,initialize:function(t,i){e.extend(this,e.pick(i,["session"])),this.initializeSession(),n.a.prototype.initialize.apply(this,arguments)},initializeSession:function(){e.isNull(this.session)&&(this.session=s.a),this.listenTo(this,"set",this.onSet),this.listenTo(this,"update",this.onUpdate)},url:function(){return"/sessions/"+this.session.get("id")+"/notesData"},setSessionOnModels:function(){e.each(this.models,(function(e){e.setSession(this.session)}),this)},onSet:function(){this.setSessionOnModels()},onUpdate:function(){this.setSessionOnModels()}});t.a=a}).call(this,i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(358),a=e.Model.extend({urlRoot:"/discussions",initialize:function(){},parse:function(e){return e.discussion?(this.content=e.content,delete e.content,e.discussion.commentSort=e.commentSort,e.discussion.lastFetchTime=(new Date).getTime(),e.discussion):e},sync:function(t,i,s){return s.data=s.data||{},n.extend(s.data,{commentSort:this.get("commentSort"),type:this.get("sectionType")}),e.sync.apply(this,arguments)},numVotesAsInt:function(){return s.a.stripCommas(this.get("numVotes"))},formatVotesWithCommas:function(){return s.a.formatWithCommas(this.get("numVotes"))},numVotesWithString:function(){var e=1===this.numVotesAsInt()?"Like":"Likes";return this.formatVotesWithCommas()+" "+e}},{DISCUSSABLE_TYPES:{WORKSHOP:"Workshop",USER:"Users",PARENT_CLASS:"ParentClasses"}});t.a=a}).call(this,i(76),i(51))},function(e,t){e.exports='<div class="social-share-buttons">\n    <a href="javascript:;" class="link-input btn small{{#hideShortUrl}} hidden{{/hideShortUrl}}">\n        <input type="text" class="small select-on-click" value="{{shortUrl}}" readonly="readonly" style="display: block;" />\n    </a>\n    {{#hideShortUrl}}\n        <div class="share-link btn grey share-button large-wide" style="display: block; color: white; width: 100%" longurl="{{directUrl}}">Get Shareable Link</div>\n    {{/hideShortUrl}}\n    {{^hideShortUrl}}\n    <div class="share-link btn grey share-button large-wide" style="color: white; width: 100%" longurl="{{directUrl}}">Get Shareable Link</div>\n    {{/hideShortUrl}}\n</div>\n'},function(e,t){e.exports='<a href="javascript:;" class="btn-close ss-icon-close"></a>\n<h4 class="popup-title">\n    {{#popupTitle}}{{popupTitle}}{{/popupTitle}}\n    {{^popupTitle}}Email This Class{{/popupTitle}}\n</h4>\n{{> shared/_email-invite }}\n'},function(e,t){e.exports='<div class="inner-popover">\n    <div class="arrow"></div>\n    <div class="content">\n        <div class="text">\n            {{#message}}\n                <div class="message"><strong>{{message}}</strong></div>\n            {{/message}}\n        </div>\n        <div>\n            <div class="btn red small confirmation-button action-button">{{confirmButtonText}}</div>\n            <div class="btn bordered small cancel-button action-button">Cancel</div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e){var n=i(1118),s=e.Collection.extend({model:n.a});t.a=s}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var n=i(949),s=i(132),a=e.Model.extend({initialize:function(){var e=this.get("tags")||[];this.tags=new n.a(e)},createRosterFromSku:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;if(this.get("userRosterId"))return!1;var a=this.get("sku"),o="/classes/".concat(a,"/roster"),r={last_video_index:1,via:n};null!==i&&(r.roster_status=i);var l={data:r,type:"POST",success:e};return null!==t&&(l.error=t),s.a.ajaxRequest(o,l)}});t.a=a}).call(this,i(76))},function(e,t,i){"use strict";(function(e,n,s){var a=i(976),o=e.Collection.extend({model:a.a,page:0,loadMore:!0,path:null,initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.Collection.prototype.initialize.apply(this,arguments),this.path=i.path,this.params=i.params||{}},url:function(){var e=this.path,t=n.param(this.params);return""!==t&&(e+="?"+t),e},parse:function(e){return this.loadMoreReviews=e.loadMoreReviews,e.reviews},fetch:function(t){var i=this,n=t||{},a=s.extend({},n,{success:function(e,t){i.trigger("update",t)}});return a.data=s.extend({},a.data,{}),e.Collection.prototype.fetch.call(this,a)}});t.a=o}).call(this,i(76),i(48),i(51))},function(e,t,i){"use strict";(function(e,n,s){var a=i(976),o=e.Collection.extend({model:a.a,page:0,loadMore:!0,path:null,initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.Collection.prototype.initialize.apply(this,arguments),this.path=i.path,this.params=i.params||{}},url:function(){var e=this.path,t=n.param(this.params);return""!==t&&(e+="?"+t),e},parse:function(e){return this.loadMoreArchiveReviews=e.loadMoreArchiveReviews,e.archiveReviews},fetch:function(t){var i=this,n=t||{},a=s.extend({},n,{success:function(e,t){i.trigger("update",t)}});return a.data=s.extend({},a.data,{}),e.Collection.prototype.fetch.call(this,a)}});t.a=o}).call(this,i(76),i(48),i(51))},function(e,t,i){"use strict";(function(e){i(133);var n=i(57),s=i(976),a=i(449),o=i(1122),r=i.n(o),l=n.a.extend({isFormDisabled:!1,className:"review-edit-form",template:r.a,templateData:function(){return e.extend({},this.model.attributes,{likeStyle:this.model.attributes.recommended?"positive":"negative",dislikeStyle:this.model.attributes.recommended?"negative":"negative-admin"})},events:{"click .save-button":"onSave","click .cancel-button":"onCancel","click .like-button":"onLike","click .dislike-button":"onDislike"},bindings:{".body-content":"testimonial"},initialize:function(t){e.extend(this,e.pick(t,["initialModel"])),e.bindAll(this,"onSaveSuccess","onSaveFail"),this.model=new s.a(this.initialModel.attributes),n.a.prototype.initialize.apply(this,arguments),this.model.on("change:recommended",this.render,this)},afterRender:function(){var e=this.$el.find(".body-content"),t=e.val();this.$saveButton=this.$el.find(".save-button"),e.focus().val("").val(t),this.stickit(),a.a.initInputsAndSelectMenus(this.$el),n.a.prototype.afterRender.apply(this,arguments)},onSave:function(){if(this.isFormDisabled)return!1;this.disableSaveButton(),this.model.save().success(this.onSaveSuccess).fail(this.onSaveFail)},onSaveSuccess:function(e){this.initialModel.set(e)},onSaveFail:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error editing your review. Please try again.",type:"error"}),this.enableSaveButton()},onCancel:function(){this.trigger("cancel")},disableSaveButton:function(){this.toggleDisabledClass(),this.updateIsFormDisabled()},enableSaveButton:function(){this.toggleDisabledClass(),this.updateIsFormDisabled()},toggleDisabledClass:function(){this.$saveButton.toggleClass("disabled")},updateIsFormDisabled:function(){this.isFormDisabled=this.$saveButton.hasClass("disabled")},onLike:function(){this.model.set({recommended:1})},onDislike:function(){this.model.set({recommended:0})}});t.a=l}).call(this,i(51))},function(e,t){e.exports='<div class="col-left left">\n    <div class="like-button {{likeStyle}} icon-like round-all"></div>\n    <div class="dislike-button {{dislikeStyle}} icon-dislike round-all"></div>\n</div>\n<div class="col-right">\n  <textarea class="body-content">{{testimonial}}</textarea>\n\n  {{#reviewer}}\n      {{> partials/_user-snippet}}\n  {{/reviewer}}\n\n  {{#canModify}}\n        <div class="toolbar">\n            <a href="javascript:;" class="btn small primary save-button">Save</a>\n            <span class="middot">&middot;</span>\n            <a href="javascript:;" class="cancel-button secondary no-underline">Cancel</a>\n        </div>\n  {{/canModify}}\n</div>\n'},function(e,t){e.exports='<div class="review-content">\n    <div class="col-left left">\n        {{#reviewer}}\n            {{> partials/_user-snippet-reviews}}\n        {{/reviewer}}\n    </div>\n    <div class="col-right">\n        <div class="review-feedback">\n          <ul class="expectations">\n            <li data-value="4">This class <span>exceeded</span> my expectations!</li>\n            <li data-value="3"><span>Yes</span>, this class met my expectations.</li>\n            <li data-value="2">This class met my expectations <span>somewhat</span>.</li>\n            <li data-value="1">Did this class meet my expectations? <span>Not really</span>.</li>\n          </ul>\n          <ul class="level">\n            <li class="icon">\n              <div class="level-indicator">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n            </li>\n            <li data-value="1">I recommend it for <span>Beginner Levels.</span></li>\n            <li data-value="2">I recommend it for <span>Intermediate Levels.</span></li>\n            <li data-value="3">I recommend it for <span>Advanced Levels.</span></li>\n            <li data-value="4">I recommend it for <span>All Levels.</span></li>\n          </ul>\n        </div>\n        {{#testimonial}}\n            <div class="body-content">\n                {{testimonial}}\n            </div>\n        {{/testimonial}}\n\n        <div class="toolbar">\n            {{#canModify}}\n                <a href="javascript:;" class="leave-a-review-popup-btn alternate">Edit</a>\n                <span class="middot">&middot;</span>\n                <a href="javascript:;" class="review-delete alternate">Delete</a>\n                {{#canFlag}}\n                    <span class="middot">&middot;</span>\n                    <a href="javascript:;" class="review-flag alternate">Flag</a>\n                {{/canFlag}}\n            {{/canModify}}\n            <span class="secondary-type review-timestamp"></span>\n        </div>\n    </div>\n</div>\n{{#canModify}}\n    <div class="edit-form"></div>\n{{/canModify}}\n'},function(e,t){e.exports='<div class="user-snippet">\n    <div class="avatar user-img-30"><img src="{{avatar}}" alt="{{fullName}}" /></div>\n    <div class="user-info">\n      <h4 class="font-size-5">\n        <a href="{{url}}" class="link-main" data-ss-username="{{username}}">{{fullName}}</a>\n        {{#isTeacher}}\n            {{#isTopTeacher}}\n                <span class="teacher-tag teacher-tag-top-teacher-badge">\n                    <span class="ss-icon-premium-badge"></span>Top Teacher\n                </span>\n            {{/isTopTeacher}}\n            {{^isTopTeacher}}\n                <span class="teacher-tag">Teacher</span>\n            {{/isTopTeacher}}\n        {{/isTeacher}}\n        {{#isCreator}}\n            <span class="teacher-tag">Creator</span>\n        {{/isCreator}}\n      </h4>\n      {{#headline}}\n          <p class="secondary">{{headline}}</p>\n      {{/headline}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="review">\n    <div class="review-content">\n        <div class="col-left">\n            <div class="{{ iconStyle }} round-all"></div>\n            {{#reviewer}}\n                {{> partials/_user-snippet}}\n            {{/reviewer}}\n        </div>\n        <div class="col-right">\n            {{#testimonial}}\n                <blockquote class="body-content">\n                    {{testimonial}}\n                </blockquote>\n                <div class="toolbar">\n                    {{#canModify}}\n                        <a href="javascript:;" class="review-delete alternate">Delete</a>\n                    {{/canModify}}\n\n                    <span class="secondary-type review-timestamp"></span>\n                </div>\n            {{/testimonial}}\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,n){i(186);var s=i(1056),a=e.Collection.extend({model:s.a,url:function(){return"/comments/"+(this.activityModel.get("commentableType")||this.activityModel.get("type"))+"/"+this.activityModel.get("commentableId")},parse:function(e){return e.map((function(e){return this.model.prototype.parse(e)}),this)},initialize:function(e,t){this.activityModel=t.activityModel},create:function(t){return t.commentable_type=this.activityModel.get("commentableType"),t.commentable_id=this.activityModel.get("commentableId"),e.Collection.prototype.create.apply(this,arguments)},fetchMore:function(e){var t=this,i=n.extend({},e,{update:!0,remove:!1,silent:!0,success:function(e,i){t.trigger("update",i)},error:function(){t.trigger("update:error")}});return this.fetch(i)}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n){i(133);var s=i(99),a=i(1128),o=i(1056),r=i(1057),l=i(449),c=i(1039),d=(i(1017),s.a.extend({activityModel:null,bindings:{".comment":{observe:"comment",updateView:!1}},events:function(){return e.extend(s.a.prototype.events.call(this),{"click .btn-submit":"onClickPost","focus textarea":"onFocus"})},initialize:function(t){s.a.prototype.initialize.apply(this,arguments),e.bindAll(this,"fetchAll","onClickPost","onPostError"),e.extend(this,e.pick(t,["replyItemView"])),this.$el.show(),this.repliesListEl=this.$(".replies-list"),this.fetched=this.collection.length>=this.options.activityModel.get("numReplies"),e.isUndefined(this.options.activityModel.get("lastReply"))||(this.lastReply=this.collection.last()),this.repliesCollectionView=new a.a({collection:this.collection,el:this.repliesListEl,autoRender:!0,animateOnRemove:!0,itemView:this.replyItemView?this.replyItemView:r.a}),l.a.renderForm(this.$("form")),this.model=new o.a,this.stickit(),this.options.activityModel.on("showAll",this.fetchAll)},afterRender:function(){var e=this;s.a.prototype.afterRender.apply(this,arguments),window.setTimeout((function(){e.$("form textarea").length>0&&e.$("form textarea").autosize()}),1e3)},fetchAll:function(){var e=this;if(!this.fetched){var t=this.lastReply?this.lastReply.get("timestamp"):void 0;this.options.activityModel.trigger("loading",!0,this.repliesListEl),this.collection.fetchMore({data:{baseTimestamp:t}}),this.collection.on("update",(function(){e.repliesCollectionView.renderAllItems(),e.options.activityModel.trigger("loading",!1,e.repliesListEl),e.fetched=!0}))}},onFocus:function(e){e.stopPropagation(),n(e.currentTarget).parent().addClass("hasButton"),n(e.currentTarget).parent().find(".post-button-wrapper").show()},onClickPost:function(e){var t=this;if(e.preventDefault(),!n(e.currentTarget).hasClass("disabled")){n(e.currentTarget).addClass("disabled");var i=this.$("textarea");l.a.hideFieldMessage(i),this.collection.create(this.model.attributes,{wait:!0,error:this.onPostError,success:function(){t.repliesListEl.show(),t.$(".btn-submit").removeClass("disabled"),i.val("").trigger("blur"),i.css("height","16px"),t.model.set("comment","")}})}},onPostError:function(e,t){if(this.$(".btn-submit").removeClass("disabled"),400===t.status){var i=n.parseJSON(t.responseText);c.a.handleValidationErrors(this,i.errors,{inErrorState:!0,showErrors:!0})}}}));t.a=d}).call(this,i(51),i(48))},function(e,t,i){"use strict";var n=i(448),s=i(1057),a=n.a.extend({itemView:s.a});t.a=a},function(e,t,i){"use strict";(function(e,n,s){i(31),i(24),i(35);var a=i(57),o=i(449),r=i(1130),l=i.n(r),c=a.a.extend({template:l.a,events:{"click.inline-editable .submit-btn":"done","click.inline-editable .cancel-btn":"cancel"},initialize:function(t){e.extend(this,e.pick(t,"parentModel","parentView","editable")),this.model=new n.Model(this.parentModel.attributes),a.a.prototype.initialize.call(this,t)},render:function(){a.a.prototype.render.call(this),this._transformElements(),o.a.renderForm(this.parentView.$el),this.stickit()},_transformElements:function(){e.each(this.editable,(function(t,i){var n="input",s={type:"text"},a=t;e.isString(a)||(s=e.defaults(e.omit(a,"selector"),s),"textarea"===a.type&&(n=a.type,delete s.type),a=a.selector);var o=this._transformElement(a,n,s,this.model.get(i));this._addBinding(o,i)}),this)},_transformElement:function(e,t,i,n){var a=this.parentView.$(e),o=s("<"+t+"/>").attr(i).val(n);return a.replaceWith(o),o},_addBinding:function(t,i){this.bindings||(this.bindings={});var n=e.uniqueId("inline-editable");t.addClass(n),this.bindings["."+n]=i},stickit:function(){var e=this.$el;this.$el=this.parentView.$el,a.a.prototype.stickit.apply(this,arguments),this.$el=e},unstickit:function(){var e=this.$el;this.$el=this.parentView.$el,a.a.prototype.unstickit.apply(this,arguments),this.$el=e},done:function(){var t=e.pick(this.model.attributes,e.keys(this.editable));this.parentModel.set(t),this.cleanup(),this.trigger("done")},cancel:function(){this.cleanup(),this.trigger("cancel")},cleanup:function(){this.unstickit(this.model),this.parentView.$el.off(".inline-editable")}});t.a=c}).call(this,i(51),i(76),i(48))},function(e,t){e.exports='<a href="javascript:;" class="btn small primary submit-btn">Update</a>\n<a href="javascript:;" class="btn small no-background cancel-btn">Cancel</a>\n'},function(e,t){e.exports='<div class="more-text-container">\n    {{#truncatedText}}\n        {{{truncatedText}}}\n    {{/truncatedText}}\n    {{^truncatedText}}\n        {{{text}}}\n    {{/truncatedText}}\n</div>\n'},function(e,t){e.exports='<div class="col-left left">\n    <div class="user-img-30 rounded-image-wrapper">\n        <a href="{{user.url}}" data-ss-username="{{user.username}}">\n            <img src="{{user.img}}" />\n        </a>\n    </div>\n</div>\n<div class="col-right">\n    {{> userSnippet}}\n    <div class="body-content rich-content-wrapper"></div>\n    <div class="meta clear">\n        {{#shouldShowLike}}\n            <a href="javascript:;" class="secondary js-action-like left"></a>\n            <span class="middot left">&middot;</span>\n        {{/shouldShowLike}}\n        {{#shouldShowEdit}}\n            <a href="javascript:;" class="secondary js-action-edit left">Edit</a>\n            <span class="middot left">&middot;</span>\n        {{/shouldShowEdit}}\n        {{#shouldShowDelete}}\n            <a href="javascript:;" class="secondary js-action-delete left">Delete</a>\n            <span class="middot left">&middot;</span>\n        {{/shouldShowDelete}}\n        <span class="left">{{timeago}}</span>\n        <span class="right">\n            <span class="ss-icon-heart reply-stat reply-stat-likes{{#userVote}}{{#value}} liked{{/value}}{{/userVote}}"{{^numLikes}} style="display: none;"{{/numLikes}}>{{numLikes}}</span>\n        </span>\n    </div>\n</div>\n'},function(e,t){e.exports='{{#user}}\n    <div class="user-snippet">\n        <h5>\n            <a href="{{url}}" class="link-main" data-ss-username="{{username}}">{{name}}</a>\n            {{#isTeacher}}\n                {{#isTopTeacher}}\n                    <span class="teacher-tag teacher-tag-top-teacher-badge">\n                        <span class="ss-icon-premium-badge"></span>Top Teacher\n                    </span>\n                {{/isTopTeacher}}\n                {{^isTopTeacher}}\n                    <span class="teacher-tag">Teacher</span>\n                {{/isTopTeacher}}\n            {{/isTeacher}}\n            {{#isCreator}}\n                <span class="teacher-tag">Creator</span>\n            {{/isCreator}}\n        </h5>\n        {{#headline}}\n            <p>{{headline}}</p>\n        {{/headline}}\n    </div>\n{{/user}}\n'},function(e,t,i){"use strict";(function(e){var n=i(171),s=i(455),a=i(132),o=n.a.extend({urlRoot:window.location.protocol+"//"+window.location.host+"/discussions/",followUrl:"follow",unfollowUrl:"unfollow",requiresLogin:!0,tooltips:["Follow this","Unfollow this"],labels:["Follow Thread","Unfollow"],initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,["model","parentModel"])),this.initialState=e.isNull(this.model.get("id"))?n.a.states.INACTIVE:n.a.states.ACTIVE,n.a.prototype.initialize.apply(this,arguments)},onClick:function(e){e.stopPropagation(),this.endpoint=this.constructEndpoint(this.determineNewState()),n.a.prototype.onClick.apply(this,arguments)},sync:function(){var e=this;a.a.ajaxRequest(this.endpoint,{type:"GET",success:function(){var t=parseInt(e.parentModel.get("numFollowers"),10),i=e.model.get("state")===n.a.states.ACTIVE;t+=i?1:-1,i||e.parentModel.set({userFollow:null}),e.parentModel.set({numFollowers:t})}})},constructEndpoint:function(e){var t=e===n.a.states.ACTIVE?this.followUrl:this.unfollowUrl;return s.a.addParams(this.urlRoot+t,{id:this.model.get("discussion")})}});t.a=o}).call(this,i(51))},function(e,t){e.exports='<a href="{{author.url}}{{#via}}?via={{via}}{{/via}}" target="_blank" rel="noreferrer">\n    <img src="{{author.image}}" class="user-img-50 left" data-ss-username="{{author.username}}" {{#via}}data-ss-via="{{via}}"{{/via}} />\n</a>\n<div class="discussion-info">\n    {{#isPinned}}\n        <svg class="ss-svg-icon pin-icon"><use xlink:href="#pin--on" /></svg>\n    {{/isPinned}}\n     <a href="{{author.url}}{{#via}}?via={{via}}{{/via}}" class="author-name link-main" data-ss-username="{{author.username}}" {{#via}}data-ss-via="{{via}}"{{/via}} target="_blank" rel="noreferrer">{{author.fullName}}</a>\n    {{#discussableCreator}}\n        {{^author.isTopTeacher}}\n            <span class="teacher-tag">{{discussableCreatorText}}</span>\n        {{/author.isTopTeacher}}\n        {{#author.isTopTeacher}}\n            <span class="teacher-tag teacher-tag-top-teacher-badge">\n                <span class="ss-icon-premium-badge"></span>Top Teacher\n            </span>\n        {{/author.isTopTeacher}}\n    {{/discussableCreator}}\n    {{#author.headline}}<p class="author-headline secondary-type">{{author.headline}}</p>{{/author.headline}}\n    <div class="js-discussion-body discussion-body rich-content-wrapper">\n\n    </div>\n    <div class="toolbar clear">\n        {{^userIsGuest}}\n            <a class="js-discussion-like discussion-like secondary"></a><i class="middot">&middot;</i>\n            <a class="js-discussion-reply discussion-reply secondary">Reply</a><i class="middot">&middot;</i>\n            <a class="js-discussion-follow discussion-follow secondary"></a><i class="middot">&middot;</i>\n            {{#canPin}}\n                <a class="js-discussion-pin discussion-pin secondary"></a><i class="middot">&middot;</i>\n            {{/canPin}}\n            {{#canModify}}\n                <a class="js-discussion-edit discussion-edit secondary" data-ss-discussion-id="{{id}}">Edit</a><i class="middot">&middot;</i>\n                <a class="js-discussion-delete discussion-delete secondary">Delete</a><i class="middot">&middot;</i>\n            {{/canModify}}\n        {{/userIsGuest}}\n        <span class="secondary-row">\n            <span class="secondary-type">{{timeAgo}}</span>\n            <span class="discussion-stats">\n                <span class="ss-icon-heart discussion-stat js-discussion-stat-likes discussion-stat-likes{{#userVote}}{{#value}} liked{{/value}}{{/userVote}}"{{^numLikes}} style="display: none;"{{/numLikes}}>{{numLikes}}</span>\n                <span class="ss-icon-comment discussion-stat js-discussion-stat-replies"{{^numReplies}} style="display:none;"{{/numReplies}}>{{numReplies}}</span>\n                <span class="ss-icon-followers-filled discussion-stat js-discussion-stat-followers discussion-stat-followers"{{^numFollowers}} style="display:none;"{{/numFollowers}}>{{numFollowers}}</span>\n            </span>\n        </span>\n    </div>\n    <div class="js-replies replies">\n        <div class="arrow"></div>\n        {{#truncateReplies}}\n            <div class="js-show-all show-all"><a>Show {{additionalReplyCount}} more{{#hiddenCreatorReplyCount}} including {{hiddenCreatorReplyCount}} by the <span class="teacher-tag">Creator</span>{{/hiddenCreatorReplyCount}}</a></div>\n        {{/truncateReplies}}\n\n        <ul class="replies-list"></ul>\n\n        <form class="reply-form">\n            {{^userIsGuest}}\n                <img src="{{currentUser.images.small}}" class="user-img user-img-30" />\n            {{/userIsGuest}}\n            <div class="textarea-wrapper">\n                {{^userIsGuest}}\n                    <div class="flex-wrapper">\n                        <textarea class="js-comment comment" rows="1" aria-label="Leave a reply" data-ss-placeholder-copy="Leave a reply..."></textarea>\n                        <div class="post-button-wrapper">\n                            <a class="btn-submit button medium">Post</a>\n                        </div>\n                    </div>\n                {{/userIsGuest}}\n                {{#userIsGuest}}\n                    Please <a href="/login" data-ss-restrict="login" data-ss-redirect-return="true">sign in</a> or <a href="/signup" data-ss-restrict="signup" data-ss-redirect-return="true">sign up</a> to reply.\n                {{/userIsGuest}}\n            </div>\n        </form>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="discussions-wrapper">\n    <div class="grid limited-width">\n        <div class="row">\n            <div class="col-9">\n                <div id="question-view" class="classroom-content section-view post-view">\n                    <div class="inline-discussion">\n                        <div class="navigation back">\n                           <span class="ss-icon-arrow-left"></span>\n                           <a href="{{discussionsUrl}}" class="secondary no-underline section-navigation">Back to all Discussions</a>\n                        </div>\n                    </div>\n                    <div class="inline-discussion">\n                        {{> discussions/default }}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},,function(e,t,i){"use strict";var n=i(448),s=(i(133),i(976)),a=i(99),o=i(1121),r=i(1029),l=i(965),c=i(1123),d=i.n(c),h=i(1124),u=i.n(h),p=i(189),v=i.n(p),m=a.a.extend({tagName:"div",className:"review",events:{"click .review-edit":"onEdit"},initialize:function(){this.levelSelectors=["none","beginner","intermediate","advanced","all","beg-int","int-adv"],this.listenTo(this.model,"change",this.render),a.a.prototype.initialize.apply(this,arguments)},render:function(){var e=this.model.attributes,t={"partials/_user-snippet-reviews":u.a},i=v.a.render(d.a,e,t);this.$el.html(i)},afterRender:function(){this.setViewOptions(),this.setTimeAgo();var e=new r.a({message:"Delete this review?",confirmButtonText:"Delete",anchor:this.$(".review-delete")});this.listenTo(e,"confirm",this.destroy);var t=new r.a({message:"Flag this review as low quality? It will no longer show up across the site.",confirmButtonText:"Flag",anchor:this.$(".review-flag")});this.listenTo(t,"confirm",this.flag)},onEdit:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.$el.find(".content").hide();var t=new o.a({initialModel:this.model,container:this.$el.find(".edit-form")});this.listenTo(t,"cancel",this.update)},destroy:function(){this.model.destroy({dataType:"text",success:function(){SS.events.trigger("alerts:create",{title:"Your review has been deleted.",type:"success"})}})},flag:function(){this.model.save({flag_status:s.a.FLAG_STATUS.LOW_QUALITY})},setViewOptions:function(){this.$(".expectations li, .level li").removeClass("active"),this.$(".expectations li[data-value='".concat(this.model.attributes.overallRating,"']")).addClass("active"),this.$(".level li[data-value='".concat(this.model.attributes.levelingRating,"']")).addClass("active"),this.$(".level-indicator").addClass(this.levelSelectors[this.model.attributes.levelingRating])},setTimeAgo:function(){var e=this.model.get("createTime"),t="Posted ".concat(l.a.getTimeAgo(e));this.$(".review-timestamp").text(t)}}),f=n.a.extend({itemView:m});t.a=f},function(e,t,i){"use strict";var n=i(448),s=i(99),a=i(1029),o=i(1125),r=i.n(o),l=i(1101),c=i.n(l),d=i(189),h=i.n(d),u=s.a.extend({tagName:"div",className:"archive-review",initialize:function(){this.listenTo(this.model,"change",this.render),s.a.prototype.initialize.apply(this,arguments)},render:function(){var e=this.model.attributes,t={"partials/_user-snippet":c.a},i=h.a.render(r.a,e,t);this.$el.html(i)},afterRender:function(){var e=new a.a({message:"Delete this review?",confirmButtonText:"Delete",anchor:this.$(".review-delete")});this.listenTo(e,"confirm",this.destroy)},destroy:function(){this.model.destroy()}}),p=n.a.extend({itemView:u});t.a=p},,,,,,,function(e,t,i){"use strict";(function(e,n,s){i(229);var a=i(948),o=i(1112),r=e.Model.extend({playbackStates:{PAUSED:0,PLAYING:1,ENDED:3},constructor:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.unit=i.unit,this.completion=new a.a,this.notes=new o.a([],{session:this}),e.Model.apply(this,arguments)},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.fetchNotes&&this.notes.fetchSet()},parse:function(e){var t=n.clone(e);return this.completion.set({target_type:"Session",target_id:t.id,parent_id:t.parent_id}),t.sessionCompletion&&(this.completion.set(t.sessionCompletion,{parse:!0}),this.completion.set({completed:!0})),t},setVideoId:function(e){if(this.get("videoId"))return e();var t=this;s.ajax({url:"/sessions/"+this.get("id")+"/video",dataType:"json",success:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.video_hashed_id&&t.set("videoId",i.video_hashed_id),e()},error:function(){e()}})},isFirstOverall:function(){return 0===this.get("overallRank")},isFirstInUnit:function(){return 0===this.get("rank")},isCompleted:function(){return this.completion.get("completed")},getThumbnailForVideoPlayer:function(){var e,t=this.get("thumbnails");if(!t)return null;if(n.has(t,"large"))e=t.large;else if(n.has(t,"huge"))e=t.huge;else if(n.has(t,"medium"))e=t.medium;else{if(!n.has(t,"small"))return null;e=t.small}return e},setPaused:function(){this.set("playbackState",this.playbackStates.PAUSED)},setPlaying:function(){this.set("playbackState",this.playbackStates.PLAYING)},setEnded:function(){this.set("playbackState",this.playbackStates.ENDED)},isPaused:function(){return this.get("playbackState")===this.playbackStates.PAUSED},isPlaying:function(){return this.get("playbackState")===this.playbackStates.PLAYING},isEnded:function(){return this.get("playbackState")===this.playbackStates.ENDED}});t.a=r}).call(this,i(76),i(51),i(48))},function(e,t,i){"use strict";(function(e,n){i(299),i(186);var s=i(1240),a=e.Collection.extend({model:s.a,comparator:function(e){return e.get("rank")},getFlattenedSessions:function(){return this.flattenedSessions||(this.flattenedSessions=n.flatten(this.map((function(e){return e.sessions.models})))),this.flattenedSessions},getSessionById:function(e){return n.filter(this.getFlattenedSessions(),(function(t){return t.get("id")===e}))[0]},getSessionAtIndex:function(e){return this.getFlattenedSessions()[e]},nextSession:function(e){var t=e.get("overallRank");return this.getSessionAtIndex(t+1)},previousSession:function(e){var t=e.get("overallRank");return this.getSessionAtIndex(t-1)}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n){i(27),i(299),i(133),i(146),i(119),i(31),i(186),i(461),i(462),i(302),i(24),i(147),i(35);var s=i(57),a=i(132),o=i(1171),r=i(961),l=i(1172),c=i(1173),d=i(1174),h=i(192),u=i(1175),p=i(1177),v=i(1078),m=i(1178),f=i(1109);i(365);function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var w=s.a.extend({className:"video-player-module",video:null,playbackState:null,playbackSpeed:null,volume:null,pictureInPictureState:null,controlBarTransitioning:!1,videojs:null,posterImage:null,controlBar:null,currentTimeDisplay:null,durationDisplay:null,progressControl:null,seekBar:null,loadProgressBar:null,playProgressBar:null,dummyDivider:null,playbackSpeedButton:null,fifteenSecondRewindButton:null,skillshareButton:null,playToggle:null,fullscreenToggle:null,learnModeToggle:null,volumeButton:null,subtitlesState:null,preventControlBarHide:{},$videojs:null,$posterImage:null,$controlBar:null,$currentTimeDisplay:null,$durationDisplay:null,$progressControl:null,$seekBar:null,$loadProgressBar:null,$playProgressBar:null,$dummyDivider:null,$playbackSpeedButton:null,$fifteenSecondRewindButton:null,$skillshareButton:null,$playToggle:null,$fullscreenToggle:null,$learnModeToggle:null,$volumeButton:null,$embedButton:null,$playlistCloseButton:null,$pipCloseButton:null,$bigPlayButton:null,$pauseArea:null,initialize:function(t){var i=t||{};e.extend(this,e.pick(i,["video","playbackState"])),e.bindAll(this,"onUnloadHandler","syncCurrentPlaybackSpeed","syncPlaybackSpeedOnVideoLoad"),this.initializePlaybackState(),this.initializePlaybackSpeed(),this.initializePictureInPictureState(),window.addEventListener("beforeunload",this.onUnloadHandler),this.eventType=a.a.isTouchDevice()?"touchend":"click",s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){var e=this,t=this.$el.children(".vjs-video:first")[0];this.ensureVideoJsLoaded((function(){window.bc(t),window.videojs(t).ready((function(){e.videojs=this,e.initializeVideoPlayer(),SS.serverBootstrap.showDebugger&&e.initializeVideoPlayerDebugger(),SS.serverBootstrap.forceProgressBar&&e.setPreventControlBarHide("progressBarDebugging",!0),e.videojs.pip()}),!0)})),s.a.prototype.afterRender.apply(this,arguments)},ensureVideoJsLoaded:function(e){window.videojs?e():this.trigger("video:player:error","videojs object not found! Video Player could not be initialized!")},initializePlaybackState:function(){e.isNull(this.playbackState)&&(this.playbackState=new o.a),this.listenTo(this.playbackState,"change:state",this.onPlaybackStateChange)},initializePlaybackSpeed:function(){e.isNull(this.playbackSpeed)&&(this.playbackSpeed=new l.a,this.playbackSpeed.fetch()),this.listenTo(this.playbackSpeed,"change:playback_speed",this.syncCurrentPlaybackSpeed)},initializePictureInPictureState:function(){e.isNull(this.pictureInPictureState)&&(this.pictureInPictureState=new c.a)},initializeVolume:function(){e.isNull(this.volume)&&(this.volume=new f.b)},initializeVideoPlayerDebugger:function(){this.videojs.playerDebugger({logClasses:!0,debugAds:!1})},initializeVideoPlayer:function(){this.initializeVideojs(),this.initializePosterImage(),this.initializeControlBar(),this.initializeCurrentTimeDisplay(),this.initializeDurationDisplay(),this.initializeProgressControl(),this.initializeSeekBar(),this.initializeLoadProgressBar(),this.initializePlayProgressBar(),this.initializePlaybackSpeedButton(),this.initializeFifteenSecondRewindButton(),this.initializeVolumeButton(),this.initializePlayToggle(),this.initializeFullscreenToggle(),this.initializeVolume(),this.initializeBigPlayButton(),this.listenTo(this,"video:player:ready",this.onReady),this.listenTo(this,"video:player:videoLoaded",this.onVideoLoaded),this.listenTo(this,"video:player:metadataLoaded",this.onMetadataLoaded),this.listenTo(this,"video:player:play",this.onPlay),this.listenTo(this,"video:player:pause",this.onPause),this.listenTo(this,"video:player:ended",this.onEnded),this.listenTo(this,"video:player:windowClosed",this.onWindowClosed),this.listenTo(this,"video:player:playbackSpeedButtonClick",this.onPlaybackSpeedButtonClick),this.listenTo(this,"video:player:fifteenSecondRewindButtonClick",this.onFifteenSecondRewindButtonClick),this.listenTo(this,"video:player:controlBarItemClick",this.onControlBarItemClick),this.listenTo(this,"video:player:fullscreenChange",this.onFullscreenChange),this.listenTo(this,"video:player:mouseEnter",this.onMouseEnterEvent),this.listenTo(this,"video:player:mouseLeave",this.onMouseLeaveEvent),this.listenTo(this,"video:player:keyDown",this.onKeyDownEvent),this.listenTo(this,"video:player:contextMenu",this.onContextMenuEvent),this.listenTo(this,"video:player:volumeChange",this.onVolumeChange),this.listenTo(this,"video:player:pipactive",this.onPictureInPictureActive),this.listenTo(this,"video:player:pipinactive",this.onPictureInPictureInactive),this.trigger("video:player:ready")},initializeVideojs:function(){var e=this;this.videojs.on("play",(function(){e.trigger("video:player:play")})),this.videojs.on("volumechange",(function(t){e.trigger("video:player:volumeChange",t)})),this.videojs.on("pause",(function(){e.trigger("video:player:pause")})),this.videojs.on("windowClosed",(function(){e.trigger("video:player:windowClosed")})),this.videojs.on("ended",(function(){e.trigger("video:player:ended")})),this.videojs.on("fullscreenchange",(function(){e.trigger("video:player:fullscreenChange")})),this.videojs.on("timeupdate",(function(){e.trigger("video:player:timeUpdate",e.getCurrentTime())})),this.videojs.on("loadedmetadata",(function(){e.trigger("video:player:metadataLoaded")})),this.videojs.on("pipactive",(function(){e.trigger("video:player:pipactive")})),this.videojs.on("pipinactive",(function(){e.trigger("video:player:pipinactive")})),this.$videojs=n(this.videojs.el()),this.$videojs.on("mouseenter",(function(t){e.trigger("video:player:mouseEnter",t)})),this.$videojs.on("mouseleave",(function(t){e.trigger("video:player:mouseLeave",t)})),this.$videojs.on("keydown",(function(t){e.trigger("video:player:keyDown",t)})),this.$videojs.on("contextmenu",(function(t){e.trigger("video:player:contextMenu",t)}))},initializePosterImage:function(){this.posterImage=this.videojs.posterImage,this.$posterImage=n(this.posterImage.el())},initializeControlBar:function(){var e=this;this.controlBar=this.videojs.controlBar,this.$controlBar=n(this.controlBar.el()),this.controlBar.getChild("LiveDisplay").hide(),this.controlBar.getChild("SeekToLive").hide(),this.$controlBar.on(a.a.getTransitionEndEvent(),(function(){e.controlBarTransitioning=!1,e.hideControlBarTooltips()}))},initializeEmbedButton:function(){var e=this;this.$videojs.append('<div class="video-share-button hover-button btn extra-small black transparent ss-icon-share with-icon">Embed</div>'),this.$embedButton=this.$videojs.find(".video-share-button:first"),this.$embedButton.on("click",(function(){e.trigger("video:player:embedButtonClick")}))},initializePIPCloseButton:function(){var e=this;this.$videojs.append('<div class="pip-close-button video-helper-button hover-button"><svg class="ss-svg-icon"><use xlink:href="#close" /></svg></div>'),this.$pipCloseButton=this.$videojs.find(".pip-close-button"),this.$pipCloseButton.on("click",(function(){e.videojs.pip().deactivate(),SS.EventTracker.track("Clicked-ClosePictureInPicture","",e.getTrackingParams())}))},initializeTheaterModeButton:function(){var e=this;SS.currentUser.isGuest()||(this.$videojs.append('<div class="playlist-close-button video-helper-button hover-button"><svg class="ss-svg-icon playlist-icon"><use xlink:href="#playlist" /></svg><svg class="ss-svg-icon fullscreen-icon"><use xlink:href="#fullscreen" /></svg></div>'),this.$playlistCloseButton=this.$videojs.find(".playlist-close-button"),this.$playlistCloseButton.on("click",(function(){e.trigger("video:player:playlistCloseButtonClick"),e.dismissSelectionMenus()})))},initializeCurrentTimeDisplay:function(){this.currentTimeDisplay=this.controlBar.getChild("currentTimeDisplay"),this.$currentTimeDisplay=n(this.currentTimeDisplay.el())},initializeDurationDisplay:function(){this.durationDisplay=this.controlBar.getChild("durationDisplay"),this.$durationDisplay=n(this.durationDisplay.el())},initializeProgressControl:function(){this.progressControl=this.controlBar.getChild("progressControl"),this.$progressControl=n(this.progressControl.el())},initializeSeekBar:function(){this.seekBar=this.progressControl.getChild("seekBar"),this.$seekBar=n(this.seekBar.el())},initializeLoadProgressBar:function(){this.loadProgressBar=this.seekBar.getChild("loadProgressBar"),this.$loadProgressBar=n(this.loadProgressBar.el())},initializePlayProgressBar:function(){this.playProgressBar=this.seekBar.getChild("playProgressBar"),this.$playProgressBar=n(this.playProgressBar.el())},initializeVolumeButton:function(){this.volumeButton=this.controlBar.getChild("volumePanel"),this.$volumeButton=n(this.volumeButton.el()),this.$volumeButton.attr({rel:"tooltip","data-title":"Volume"}).data("ss-tooltip-delay",150)},initializePlaybackSpeedButton:function(){var e=this;this.playbackSpeedButton=this.controlBar.addChild("Button"),this.$playbackSpeedButton=n(this.playbackSpeedButton.el()),this.playbackSpeedButton.addClass("vjs-play-speed"),this.playbackSpeedButton.on(this.eventType,(function(){e.trigger("video:player:playbackSpeedButtonClick"),e.trigger("video:player:controlBarItemClick")})),this.$playbackSpeedButton.text(this.playbackSpeed.defaultPlaybackSpeedLabel),new d.a({anchor:this.$playbackSpeedButton,el:n(".playback-speed-popover"),model:this.playbackSpeed,videoPlayer:this,HOVER_OPEN_DELAY:0})},initializePlaybackSpeedTooltip:function(){var e=this.playbackSpeed.getCurrentPlaybackSpeed();if(1!==e.value){var t="Playing at "+e.label;this.$playbackSpeedButton.attr({rel:"tooltip","data-original-title":t,"data-trigger":"manual"}),this.onMouseEnterEvent(),this.setPreventControlBarHide("playbackSpeedTooltip",!0);var i=this;setTimeout((function(){i.$playbackSpeedButton.tooltip("show"),setTimeout((function(){i.$playbackSpeedButton.tooltip("destroy"),i.setPreventControlBarHide("playbackSpeedTooltip",!1),i.onMouseLeaveEvent()}),4e3)}),1e3)}},initializeBigPlayButton:function(){var e=this;this.$bigPlayButton=this.$videojs.find(".vjs-big-play-button"),this.$bigPlayButton.append('<div class="'.concat("pip-pause-area",'"></div>')),this.$pauseArea=this.$videojs.find(".".concat("pip-pause-area")),this.$pauseArea.on(this.eventType,(function(t){t.stopPropagation(),t.preventDefault(),e.pause()}))},onPlaybackSpeedDialogClose:function(){this.setPreventControlBarHide("playbackSpeedDialog",!1),this.trigger("video:player:playbackSpeedDialogClosed")},onVolumeChange:function(){this.videojs&&!this.videoIsLoading&&(this.setVideoVolume(this.videojs.volume()),this.setVideoVolumeMuted(this.videojs.muted())),this.dismissSelectionMenus()},hideDialogs:function(){r.a.removeCurrentDialogView(),this.setPreventControlBarHide("playbackSpeedDialog",!1)},setPreventControlBarHide:function(e,t){this.preventControlBarHide[e]=t},getPreventControlBarHide:function(){return-1!==e.indexOf(e.values(this.preventControlBarHide),!0)},initializeFifteenSecondRewindButton:function(){var e=this;this.fifteenSecondRewindButton=this.controlBar.addChild("Button"),this.$fifteenSecondRewindButton=n(this.fifteenSecondRewindButton.el()),this.fifteenSecondRewindButton.addClass("vjs-fifteen-second-rewind"),this.fifteenSecondRewindButton.on(this.eventType,(function(){e.trigger("video:player:fifteenSecondRewindButtonClick"),e.trigger("video:player:controlBarItemClick")})),this.$fifteenSecondRewindButton.attr({rel:"tooltip","aria-label":"15-Second Rewind","data-title":"15-Second Rewind"}).data("ss-tooltip-delay",150)},initializeSkillshareButton:function(){var e=this;this.skillshareButton=this.controlBar.addChild("Button"),this.$skillshareButton=n(this.skillshareButton.el()),this.skillshareButton.addClass("vjs-skillshare-button"),this.skillshareButton.on("click",(function(){e.trigger("video:player:skillshareButtonClick"),e.trigger("video:player:controlBarItemClick")}))},initializePlayToggle:function(){var e=this;this.playToggle=this.controlBar.getChild("playToggle"),this.$playToggle=n(this.playToggle.el()),this.playToggle.on("click",(function(){e.trigger("video:player:playToggleClick"),e.trigger("video:player:controlBarItemClick")})),this.$playToggle.attr({rel:"tooltip","data-title":"Play"}).data("ss-tooltip-delay",150)},initializeFullscreenToggle:function(){var e=this;this.fullscreenToggle=this.controlBar.getChild("fullscreenToggle"),this.$fullscreenToggle=n(this.fullscreenToggle.el()),this.fullscreenToggle.on("click",(function(){e.trigger("video:player:fullscreenToggleClick"),e.trigger("video:player:controlBarItemClick")})),this.$fullscreenToggle.attr({rel:"tooltip","data-title":"Full Screen"}).data("ss-tooltip-delay",150)},initializeLearnModeToggle:function(){var e=this;SS.serverBootstrap.pageData.videoPlayerData.isNotesEnabled&&(this.learnModeToggle=this.controlBar.addChild("Button"),this.$learnModeToggle=n(this.learnModeToggle.el()),this.$learnModeToggle.addClass("vjs-learn-mode"),this.$learnModeToggle.on("click",(function(){e.trigger("video:player:learnModeToggleClick"),e.trigger("video:player:controlBarItemClick")})),this.$learnModeToggle.attr({rel:"tooltip","aria-label":"View All Notes","data-title":"View All Notes"}).data("ss-tooltip-delay",150))},initializeSubtitlesView:function(){var e=this.controlBar.addChild("Button");e.addClass("vjs-transcript-mode"),this.subtitlesState=new v.a,this.listenTo(this.subtitlesState,"change",this.displaySelectedSubtitle),this.listenTo(this.subtitlesState,"trackSelectedLanguageChange",this.trackSelectedLanguageChange),new p.a({model:this.subtitlesState,el:e.el()});var t=this.$videojs.find(".vjs-text-track-display");new m.a({model:this.subtitlesState,el:t}),new u.a({container:this.$controlBar,anchor:n(e.el()),model:this.subtitlesState})},initializePlayerSeparator:function(){this.$controlBar.append('<div class="vjs-player-separator"></div>')},blockForWindowClose:function(e){for(var t=(new Date).getTime();(new Date).getTime()<t+e;);},onUnloadHandler:function(){this.trigger("video:player:windowClosed"),this.blockForWindowClose(60)},resetVideoPlayer:function(){this.videojs.reset()},updateVideoPoster:function(e,t){return y(y({},e),{},{thumbnail:t,poster_sources:[t],poster:t})},loadVideo:function(){var e=this;this.videoIsLoading=!0,this.resetVideoPlayer(),this.videojs.catalog.getVideo(this.video.get("platform_video_id"),(function(t,i){if(!t){var n=e.updateVideoPoster(i,e.video.getThumbnailForVideoPlayer());e.videojs.catalog.load(n),e.trigger("video:player:videoLoaded"),e.videoIsLoading=!1}}))},hideControlBarTooltips:function(){this.$fifteenSecondRewindButton.tooltip("hide"),this.$playToggle.tooltip("hide"),this.$fullscreenToggle.tooltip("hide"),this.$volumeButton.tooltip("hide"),this.$learnModeToggle&&this.$learnModeToggle.tooltip("hide")},dismissSelectionMenus:function(){this.subtitlesState&&this.subtitlesState.set("isSelectingLanguage",!1)},setPosterImage:function(e){var t="none";e&&(t='url("'+e+'")'),this.$posterImage.css("cssText","background-image:"+t+" !important"),this.$posterImage.removeClass("vjs-hidden")},updatePlayerComponents:function(){this.currentTimeDisplay.updateContent(),this.durationDisplay.updateContent()},load:function(){this.videoIsLoading=!0,this.resetVideoPlayer(),this.videojs.load()},play:function(){var e=this;this.videojs.play().catch((function(){e.trigger("video:player:initializeToStartView"),SS.EventTracker.track("Received-VideoPlaybackBlocked","",e.getTrackingParams())}))},pause:function(){this.videojs.pause()},togglePlayPause:function(){this.videojs.paused()||this.videojs.ended()?this.play():this.pause()},isPlaying:function(){return!this.videojs.paused()&&!this.videojs.ended()},stop:function(){this.isPlaying()&&this.pause(),0!=this.getCurrentTime()&&this.setCurrentTime(0)},isFullscreen:function(){return null!==document.fullscreenElement},exitFullscreen:function(){this.isFullscreen()&&this.videojs.exitFullscreen()},replay:function(){this.stop(),this.play()},getDuration:function(){var t=parseInt(this.videojs.duration(),10);return(e.isNaN(t)||t<0)&&(t=0),t},getCurrentTime:function(){var t=parseInt(this.videojs.currentTime(),10);return(e.isNaN(t)||t<0)&&(t=0),t},setCurrentTime:function(t){var i=parseInt(t,10);(e.isNaN(i)||i<0)&&(i=0),this.videojs.currentTime(i)},setCurrentPlaybackSpeed:function(e){this.playbackSpeed.setCurrentPlaybackSpeed(e)},syncCurrentPlaybackSpeed:function(){var e=this.playbackSpeed.getCurrentPlaybackSpeed();this.videojs&&(this.videojs.playbackRate(e.value),this.$playbackSpeedButton.text(e.label))},setVideoVolume:function(e){this.volume.setCurrentVolume(e)},setVideoVolumeMuted:function(e){this.volume.setMuted(e)},getVideoVolume:function(){return this.volume.getCurrentVolume()},getVideoVolumeMuted:function(){var e=this.volume.getMuted(),t=!SS.currentUser.isGuest()||!Object(h.b)();return null===e?t:e},syncCurrentVolume:function(){var e=this.getVideoVolume(),t=this.getVideoVolumeMuted();this.videojs&&(this.videojs.muted(t),this.videojs.volume(e))},getVideoThumbnailImageURL:function(){return this.video.getThumbnailForVideoPlayer()},updateTooltip:function(e,t){e.attr("title",t).tooltip("fixTitle")},onPlaybackStateChange:function(){this.hideControlBarTooltips(),this.dismissSelectionMenus()},onReady:function(){this.syncCurrentVolume(),this.$videojs.find("[tabindex]").removeAttr("tabindex"),this.$videojs.attr("tabindex",0),this.loadVideo()},onVideoLoaded:function(){this.setPosterImage(this.video.getThumbnailForVideoPlayer()),this.updatePlayerComponents(),this.syncCurrentVolume(),this.setSubtitleLanguageOptions(this.getSubtitleTextTracks())},onMetadataLoaded:function(){this.syncCurrentVolume(),this.playbackSpeed.getCurrentPlaybackSpeed()?this.syncPlaybackSpeedOnVideoLoad():this.playbackSpeed.once("change:playback_speed",this.syncPlaybackSpeedOnVideoLoad),this.updatePlayerComponents()},syncPlaybackSpeedOnVideoLoad:function(){this.syncCurrentPlaybackSpeed(),this.initializePlaybackSpeedTooltip()},getTrackingParams:function(){var e=SS.EventTracker.classDetails();return SS.serverBootstrap.classData&&SS.serverBootstrap.classData.sku&&(e.parentClassSku=SS.serverBootstrap.classData.sku),y(y({},e),{},{is_picture_in_picture_active:this.pictureInPictureState.isActive()})},togglePlaylistCloseButton:function(){this.$playlistCloseButton.toggle()},onPlay:function(){this.updateTooltip(this.$playToggle,"Pause"),this.playbackState.setPlaying(),SS.EventTracker.track("Played-Video","",this.getTrackingParams()),this.setSubtitleLanguageOptions(this.getSubtitleTextTracks())},onPause:function(){this.updateTooltip(this.$playToggle,"Play"),this.playbackState.setPaused(),SS.EventTracker.track("Paused-Video","",this.getTrackingParams())},onWindowClosed:function(){this.playbackState.setPaused()},onEnded:function(){this.playbackState.setEnded(),this.hideDialogs()},onPlaybackSpeedButtonClick:function(){this.setCurrentPlaybackSpeed(this.playbackSpeed.getNextPlaybackSpeed()),this.dismissSelectionMenus()},onFifteenSecondRewindButtonClick:function(){this.setCurrentTime(this.getCurrentTime()-15),this.dismissSelectionMenus()},onControlBarItemClick:function(){this.hideControlBarTooltips()},onFullscreenChange:function(){this.isFullscreen()?(this.$el.addClass("fullscreen"),this.$fullscreenToggle.addClass("vjs-minimize-video"),this.updateTooltip(this.$fullscreenToggle,"Minimize")):(this.$el.removeClass("fullscreen"),this.$fullscreenToggle.removeClass("vjs-minimize-video"),this.updateTooltip(this.$fullscreenToggle,"Full Screen")),this.hideControlBarTooltips(),this.dismissSelectionMenus()},onMouseEnterEvent:function(){this.$videojs.removeClass("vjs-user-mouseout"),this.$videojs.removeClass("vjs-user-inactive"),this.$videojs.addClass("vjs-user-active"),this.$videojs.hasClass("has-started")&&(this.controlBarTransitioning=!0),this.hideControlBarTooltips()},onMouseLeaveEvent:function(){this.getPreventControlBarHide()||(this.$videojs.addClass("vjs-user-mouseout"),this.$videojs.addClass("vjs-user-inactive"),this.$videojs.removeClass("vjs-user-active"),this.$videojs.hasClass("has-started")&&(this.controlBarTransitioning=!0),this.hideControlBarTooltips(),this.dismissSelectionMenus())},onKeyDownEvent:function(e){return 32!==e.which||(e.preventDefault(),this.togglePlayPause(),!1)},onContextMenuEvent:function(){return!0},onPictureInPictureActive:function(){this.pictureInPictureState.setActive(),SS.EventTracker.track("Activated-PictureInPicture","",this.getTrackingParams())},onPictureInPictureInactive:function(){this.pictureInPictureState.setInactive(),SS.EventTracker.track("Deactivated-PictureInPicture","",this.getTrackingParams())},setSubtitleLanguageOptions:function(e){var t=e.map((function(e){var t=e.language,i=e.label;return{id:t,isDefault:e.default,label:i}}));this.subtitlesState.set("languageOptions",t),this.displaySelectedSubtitle()},displaySelectedSubtitle:function(){var e=this,t=this.getSubtitleTextTracks();if(t.length){var i=this.subtitlesState.get("selectedLanguage").id;t.forEach((function(t){var n=e.subtitlesState.isLanguageMatch(t.language,i);t.mode=n?"showing":"disabled"}))}},trackSelectedLanguageChange:function(e){this.trackSelectedSubtitlesEvent(e)},trackSelectedSubtitlesEvent:function(e){var t,i,n={source_language:null!==(t=e.oldValue)&&void 0!==t?t:"Subtitles Off",target_language:null!==(i=e.newValue)&&void 0!==i?i:"Subtitles Off",class_id:""+SS.serverBootstrap.classData.id,video_id:""+this.video.get("platform_video_id"),schema:"classes/selected-subtitles.v1.0.0.schema.json"},s=SS.serverBootstrap.userData.id;s&&(n.user_uid=""+s),SS.EventTracker.track("Selected-Subtitles","",n)},trackPlayLessonEvent:function(e){var t,i,n,s,a=this.subtitlesState.get("selectedLanguage").id,o=this.subtitlesState.get("selectedLanguage").source,r=this.getSubtitleTextTracks().map((function(e){return e.language})),l=(null==e||null===(t=e.unit)||void 0===t||null===(i=t.sessions)||void 0===i?void 0:i.length)||0,c=(null==e||null===(n=e.attributes)||void 0===n?void 0:n.rank)||null,d=null===(s=this.playbackSpeed.getCurrentPlaybackSpeed())||void 0===s?void 0:s.value,h=SS.currentUser&&SS.currentUser.isPremiumMember(),u=e.unit?c===l-1:null,p=this.isFullscreen(),v={sku:this.parentClass?this.parentClass.sku:null,video:e.get("id"),videoIndex:e.get("rank"),overall_index:e.get("overallRank"),lessonIndex:c,lastLesson:u,playback_speed:d,full_screen:p,is_premium:h,subtitle_selection_source:o,subtitle_language:null!=a?a:"off",subtitles_available:r},m=SS.EventTracker.classDetails(v);SS.EventTracker.track("Played Lesson Video","",m)},trackLegacySubtitlesEvent:function(){this.subtitlesState.languageIsSelected()?SS.EventTracker.track("Enable Captions","",this.getTrackingParams()):SS.EventTracker.track("Disable Captions","",this.getTrackingParams())},getSubtitleTextTracks:function(){return this.videojs.textTracks().tracks_.filter((function(e){var t=e.kind;return"subtitles"===t||"captions"===t}))},hasTextTracks:function(){return this.getSubtitleTextTracks().length>0}});t.a=w}).call(this,i(51),i(48))},function(e,t){e.exports='\x3c!-- Share Links --\x3e\n<div class="share-links">\n    <a class="share-item share-fb ss-icon-facebook-alt" href="javascript:;">Share<span class="count-wrapper round-all hidden"><span class="count-wrapper-arrow"></span><span class="count"></span></span></a>\n    <a class="share-item share-twitter ss-icon-twitter" href="https://twitter.com/intent/tweet?text={{urlEncodedTweetText}}">Tweet</a>\n    {{#showEmail}}\n        <a class="share-item share-email ss-icon-envelope" href="javascript:;">Email</a>\n    {{/showEmail}}\n    {{#showEmbedButton}}<a class="share-item share-embed video-embed ss-icon-embed" href="javascript:;">Embed</a>{{/showEmbedButton}}\n</div>\n'},function(e,t,i){"use strict";var n=i(1018);i.d(t,"a",(function(){return n.a}))},function(e,t,i){"use strict";(function(e,n){i(657),i(188),i(96),i(187),i(229);var s=e.Model.extend({urlRoot:"/raw-videos",getThumbnailForVideoPlayer:function(){var e,t=this.get("thumbnails");if(!t)return null;if(n.has(t,"large"))e=t.large;else if(n.has(t,"huge"))e=t.huge;else if(n.has(t,"medium"))e=t.medium;else{if(!n.has(t,"small"))return null;e=t.small}return e},toJSON:function(){var e=n.clone(this.attributes);return e=n.pick(e,"id","external_storage_key","name","processing_state")},parse:function(e){var t=n.pick(e,"id","external_storage_key","name","processing_state","image_thumbnail","platform_video_id");return t.title=this.createTitle(t.name),t},createTitle:function(e){return e?e.charAt(0).toUpperCase()+e.slice(1).replace(/[_\-]/gi," ").replace(/\.(.*)/gi,""):e}});t.a=s}).call(this,i(76),i(51))},,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){var n=i(1168),s=i(1110),a=i(301),o=i(945);t.a={initializePremiumPopupOnClick:function(e){if(this._shouldShowPremiumPopup())return e.preventDefault(),this.initializePremiumPopup()},initializePremiumPopupOnRender:function(){if(this._shouldShowPremiumPopup(!0))return this.initializePremiumPopup()},initializePremiumPopup:function(){return this._userIsPaused()?new s.a:new n.a({model:new e.Model(SS.serverBootstrap.premiumUpgradeData)})},_userIsPaused:function(){return Object(a.a)(SS,"serverBootstrap","pageData","resumeUrl")},_shouldShowPremiumPopup:function(e){var t=this._userIsPaused()?Object(o.a)()["resume-membership-popup"]:Object(o.a)()["premium-upgrade-popup"],i=!e||t,n=SS.currentUser.isMember()&&!SS.currentUser.isPremiumMember(),s=Object(a.a)(SS,"serverBootstrap","premiumUpgradeData","isFree");return n&&!s&&i}}}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var n=i(208),s=i(1169),a=i.n(s),o=n.a.extend({className:"premium-upgrade-popup-view",template:a.a,templateData:function(){return this.model.attributes},events:function(){return e.extend(n.a.prototype.events.call(this),{"click .actions a":"handleClosePopupEvent"})},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments);var e={is_premium:"true"===SS.currentUser.isPremiumMember(),is_user_signed_in:"true"===!SS.currentUser.isGuest(),can_get_free_trial:this.model.get("canGetFreeTrial"),canGetPromoFreeTrial:this.model.get("canGetPromoFreeTrial")};SS.EventTracker.track("Viewed Become Premium Enrollment Popup",{},e)},handleClosePopupEvent:function(e){e.preventDefault(),this.closePopup()}});t.a=o}).call(this,i(51))},function(e,t){e.exports='<div class="cta-heading">\n    <div class="header">\n        <div class="premium-upgrade-icon"></div>\n        <h1 class="popup-header-text">{{headerText}}</h1>\n        <p class="popup-header-sub-text">{{subheaderText}}</p>\n        <a href="javascript:;" class="btn-close ss-icon-close"></a>\n    </div>\n</div>\n<div class="cta-info">\n    <a href="{{checkoutUrl}}" class="btn primary large full-width">{{ctaButtonText}}</a>\n</div>\n'},function(e,t,i){"use strict";(function(e,n){var s=i(951),a=e.Model.extend({defaults:{sourceType:"Classes"},constructor:function(){this.userWatchlist=new s.a,e.Model.prototype.constructor.apply(this,arguments)},parse:function(e){this.content=e.content,delete e.content;var t=e.sku;return!e.sku&&e.parentClass&&(t=e.parentClass.sku),this.userWatchlist.set({parent_sku:t,username:SS.serverBootstrap.userData.username}),e.userWatchlist&&e.userWatchlist.id&&this.userWatchlist.set({isWatching:!0,id:e.userWatchlist.id}),e},sync:function(t,i,s){return s.data=s.data||{},n.extend(s.data,{sku:this.get("sku"),classId:this.id}),e.sync.apply(this,arguments)},fetchHomeContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data=e.data||{},e.url="/classes/view",e.data.id=this.id,this.fetch(e)},fetchClassroom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.url="/classroom",this.fetch(e)},fetchSyllabus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.url="/projectGuide",this.fetch(e)}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({constants:{PAUSED:0,PLAYING:1,ENDED:2},setPaused:function(){this.set("state",this.constants.PAUSED)},setPlaying:function(){this.set("state",this.constants.PLAYING)},setEnded:function(){this.set("state",this.constants.ENDED)},isPaused:function(){return this.get("state")===this.constants.PAUSED},isPlaying:function(){return this.get("state")===this.constants.PLAYING},isEnded:function(){return this.get("state")===this.constants.ENDED}});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e,n){i(119);var s=e.Model.extend({urlRoot:"/video-settings/playback-speed",currentPlaybackSpeed:null,playbackSpeeds:[{label:"0.5x",value:.5},{label:"1x",value:1},{label:"1.25x",value:1.25},{label:"1.5x",value:1.5},{label:"2x",value:2}],constants:{HALF:0,NORMAL:1,TIMEANDAQUARTER:2,TIMEANDAHALF:3,DOUBLE:4},initialize:function(){e.Model.prototype.initialize.apply(this,arguments),SS.currentUser.isGuest()&&(this.set("playback_speed",this.constants.NORMAL),this.currentPlaybackSpeed=this.playbackSpeeds[this.constants.NORMAL])},getCurrentPlaybackSpeed:function(){return this.currentPlaybackSpeed||(this.currentPlaybackSpeed=this.playbackSpeeds[this.get("playback_speed")]),this.currentPlaybackSpeed},setCurrentPlaybackSpeed:function(e){this.currentPlaybackSpeed=e,this.set("playback_speed",this.getCurrentPlaybackSpeedIndex()),this.save(),this.trigger("video:player:playbackSpeedChanged"),SS.EventTracker.track("Changed Video Playback Speed",null,{playbackSpeed:e.value})},setCurrentPlaybackSpeedByIndex:function(e){this.setCurrentPlaybackSpeed(this.playbackSpeeds[e])},getNextPlaybackSpeed:function(){var e=this.getCurrentPlaybackSpeedIndex(),t=n.isNull(e)?0:e+1;return t>this.playbackSpeeds.length-1&&(t=0),this.playbackSpeeds[t]},getCurrentPlaybackSpeedIndex:function(){return n.indexOf(this.playbackSpeeds,this.currentPlaybackSpeed)},parse:function(e){return n.pick(e,"playback_speed")}});t.a=s}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({constants:{INACTIVE:0,ACTIVE:1},setInactive:function(){this.set("state",this.constants.INACTIVE)},setActive:function(){this.set("state",this.constants.ACTIVE)},isInactive:function(){return this.get("state")===this.constants.INACTIVE},isActive:function(){return this.get("state")===this.constants.ACTIVE}});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e,n){var s=i(145),a=s.a.extend({showOnHover:!0,autoPosition:!1,placement:"top",events:{"click li":"onPlaybackSpeedClick"},initialize:function(t){s.a.prototype.initialize.apply(this,arguments),e.extend(this,e.pick(t,["model","videoPlayer"])),e.bindAll(this,"updateActive","onOpen","onClose"),this.$playbackSpeedList=this.$("ul"),this.listenTo(this.model,"change:playback_speed",this.updateActive),this.listenTo(this,"popover:open",this.onOpen),this.listenTo(this,"popover:close",this.onClose)},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.updateActive()},onPlaybackSpeedClick:function(e){var t=e.currentTarget,i=n(t).index();this.model.setCurrentPlaybackSpeedByIndex(i)},toggleActive:function(e){this.$("li").removeClass("active"),n(e).addClass("active")},updateActive:function(){var e=this.$playbackSpeedList.children().toArray()[this.model.getCurrentPlaybackSpeedIndex()];this.toggleActive(e)},onOpen:function(){this.videoPlayer.setPreventControlBarHide("playbackSpeedPopover",!0)},onClose:function(){this.videoPlayer.setPreventControlBarHide("playbackSpeedPopover",!1)}});t.a=a}).call(this,i(51),i(48))},function(e,t,i){"use strict";(function(e,n,s){i(27),i(45),i(46),i(297),i(299),i(133),i(146),i(460),i(31),i(186),i(657),i(188),i(461),i(462),i(302),i(24),i(118),i(33),i(307),i(147),i(35);var a=i(189),o=i.n(a),r=i(1176),l=i.n(r),c=i(1078);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){u(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var m=e.View.extend({template:l.a,className:"subtitle-language-selection-view",container:null,anchor:null,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.container=e.container,this.anchor=e.anchor,this._setupBindings(),this._setupView()},render:function(){return this.model.get("isSelectingLanguage")?(this._updateViewPosition(),this.$el.show()):this.$el.hide(),this},_updateViewPosition:function(){var e=this.anchor.position(),t=this.anchor.width(),i=this.container.height(),n=e.left+t/2-m.MENU_WIDTH/2,s=i+10;this.$el.css({left:"".concat(n,"px"),bottom:"".concat(s,"px")})},_setupBindings:function(){var e=this;this.listenTo(this.model,"change:isSelectingLanguage",this.render),this.listenTo(this.model,"change:languageOptions",this._populateLanguageOptionsList),this.listenTo(this.model,"change:selectedLanguage",this._selectCorrectListItem),n(window).on("resize",s.debounce((function(){e.$el.hide()}),100))},_setupView:function(){this.container.append(this.$el),this.$el.css({width:"".concat(m.MENU_WIDTH,"px")}),this._populateLanguageOptionsList()},_populateLanguageOptionsList:function(){this.$el.html(o.a.render(this.template,this._getLanguageOptionsForRender())),this._bindListItemLinks(),this.render()},_selectCorrectListItem:function(){var e=this.model.get("selectedLanguage").id,t=e&&e!==c.a.COOKIE_SUBTITLES_SELECTED_OFF_VALUE?e:m.LANGUAGE_ITEM_OFF_ID;this.$el.find(".list-item").removeClass("selected"),this.$el.find(".list-item .list-item-link[data-language-id=".concat(t,"]")).parent().addClass("selected")},_bindListItemLinks:function(){var e=this;this.$el.find(".list-item-link").on("click",(function(t){var i=t.currentTarget.dataset.languageId;e._handleSelection(i)})),this.$el.find(".list-item-link").on("touchend",(function(t){t.preventDefault();var i=t.currentTarget.dataset.languageId;e._handleSelection(i,!0)}))},_handleSelection:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=c.a.LANGUAGE_SOURCE_COOKIE;e===m.LANGUAGE_ITEM_OFF_ID?this.model.setSelectedLanguageAndTrack(c.a.COOKIE_SUBTITLES_SELECTED_OFF_VALUE,i):this.model.setSelectedLanguageAndTrack(e,i),t&&this.$el.hide()},_getLanguageOptionsForRender:function(){var e=this,t=this.model.get("selectedLanguage").id;return{languageOptions:[{id:m.LANGUAGE_ITEM_OFF_ID,label:"Subtitles Off"}].concat(p(this.model.get("languageOptions"))).map((function(i){var n=!1;return n=!(!(i.id===m.LANGUAGE_ITEM_OFF_ID)||t&&t!==c.a.COOKIE_SUBTITLES_SELECTED_OFF_VALUE)||e.model.isLanguageMatch(i.id,t),h(h({},i),{},{isSelected:n?"selected":""})}))}}},{MENU_WIDTH:150,INNER_PADDING:20,LANGUAGE_ITEM_OFF_ID:"__language_id_off__"});t.a=m}).call(this,i(76),i(48),i(51))},function(e,t){e.exports='<div class="inner-wrapper">\n    <ul class="list">\n        {{#languageOptions}}\n            <li class="list-item {{isSelected}}">\n                <a class="list-item-link" data-language-id="{{id}}" href="javascript:;">{{label}}</a>\n            </li>\n        {{/languageOptions}}\n    </ul>\n    <div class="arrow-down"></div>\n</div>\n'},function(e,t,i){"use strict";(function(e){var i=e.View.extend({initialize:function(){this._setupTooltip(),this._setupBindings()},render:function(){if(this.model.isLanguageOptionsEmpty())this.$el.addClass(i.CSS_CLASS_DISABLED),this.$el.removeClass(i.CSS_CLASS_ON);else{var e="";this.model.languageIsSelected()?(this.$el.addClass(i.CSS_CLASS_ON),e=i.TOOLTIP_OFF):(this.$el.removeClass(i.CSS_CLASS_ON),e=i.TOOLTIP_ON),this.$el.attr("title",e).tooltip("fixTitle"),this.model.isSingleLanguageOption()?this.$el.tooltip("enable"):(this.$el.tooltip("disable"),this.$el.tooltip("hide")),this.$el.removeClass(i.CSS_CLASS_DISABLED)}},_setupTooltip:function(){this.$el.attr({rel:"tooltip","data-title":i.TOOLTIP_OFF}).data("ss-tooltip-delay",150),this.$el.tooltip("hide")},_setupBindings:function(){var e=this;this.listenTo(this.model,"change",this.render),this.$el.on("click touchstart",(function(){e.model.toggleOrSelect()})),this.$el.on("mouseenter",(function(){e.model.isSingleLanguageOption()&&e.$el.tooltip("show")})),this.$el.on("mouseleave",(function(){e.$el.tooltip("hide")}))}},{TOOLTIP_ON:"Show Subtitles",TOOLTIP_OFF:"Hide Subtitles",CSS_CLASS_ON:"vjs-on",CSS_CLASS_DISABLED:"vjs-disabled"});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var i=e.View.extend({initialize:function(){this._setupBindings()},render:function(){this.model.languageIsSelected()?this.$el.css("visibility","visible"):this.$el.css("visibility","hidden")},_setupBindings:function(){this.listenTo(this.model,"change",this.render)}});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var n=i(171),s=i(995),a={initializeLikeButton:function(){this.$noteStatLikes=this.$(".note-stat-likes");var t={voteable_id:this.model.get("id"),voteable_type:"Note"},i=this.model.get("userVote"),a=n.a.states.INACTIVE;i&&1===i.value&&(e.extend(t,{voteId:this.model.get("userVote").id}),a=n.a.states.ACTIVE),this.likeButtonView=new s.a({container:this.$(".note-like"),parentModel:this.model,modelData:t,type:"label",styles:"alternate",initialState:a}),this.listenTo(this.model,"change:numLikes",this.onLikeUpdate)},onLikeUpdate:function(e,t){var i=this.model.get("userVote");i&&1===i.value?this.$noteStatLikes.addClass("liked"):this.$noteStatLikes.removeClass("liked"),t<1?this.$noteStatLikes.hide():this.$noteStatLikes.html(t).show()}};t.a=a}).call(this,i(51))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1064),a=i(449),o=i(1247),r=i.n(o),l=n.a.extend({isFormEnabled:!0,className:"note-edit-form",template:r.a,templateData:function(){return this.model.attributes},events:{"click .post-button":"onPostButton","click .cancel-button":"onCancelButton"},bindings:{".note-body":"body",".note-privacy-status":"privacy_status"},initialize:function(t){e.extend(this,e.pick(t,["initialModel"])),e.bindAll(this,"onPostSuccess","onPostFail"),this.model=new s.a(this.initialModel.attributes),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.$textarea=this.$(".note-body"),this.$postButton=this.$(".post-button");var e=this.$textarea.val();this.$textarea.focus().val("").val(e),this.stickit(),a.a.initInputsAndSelectMenus(this.$el),n.a.prototype.afterRender.apply(this,arguments)},onPostButton:function(){if(!this.isFormEnabled)return!1;this.disablePostButton(),this.model.isValid()?this.model.save().success(this.onPostSuccess).fail(this.onPostFail):this.onPostFail()},onPostSuccess:function(e){this.initialModel.set(e)},onPostFail:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error editing your note. Please try again.",type:"error"}),this.enablePostButton()},onCancelButton:function(){this.trigger("cancel")},disablePostButton:function(){this.$postButton.addClass("disabled"),this.isFormEnabled=!1}});t.a=l}).call(this,i(51))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1252),a=i.n(s),o=i(1253),r=n.a.extend({template:a.a,tagName:"li",className:"unit-item",templateData:function(){return this.model.attributes},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),this.model.view=this,n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.sessionsCollectionView=new o.a({el:this.$(".session-list"),collection:this.model.sessions,unitsCollectionView:this.collectionView})}});t.a=r}).call(this,i(51))},function(e,t,i){"use strict";(function(e,i){var n=e.Model.extend({timestamp:null,currentlySaving:!1,defaults:{timeWatched:0},url:function(){return"/sessions/"+this.get("session_id")+"/trackTime"},initialize:function(e,t){var n=i.result(t,"interval")||15;this.interval=1e3*n,this.on("change:timeWatched",this._onTimeChange,this),i.bindAll(this,"_trackTime")},parse:function(){return{}},toJSON:function(){return i.pick(this.attributes,"elapsed","time")},start:function(){this.timestamp=(new Date).getTime()},stop:function(e){this.markProgress(e),this._trackTime(),this.timestamp=null},markProgress:function(e){if(this.timestamp){var t=(new Date).getTime(),i=t-this.timestamp;this.timestamp=t,this.set("time",Math.floor(e)),i>1e3||this.incrementTimeWatched(i)}},incrementTimeWatched:function(e,t){this.set("timeWatched",this.get("timeWatched")+e,t)},_onTimeChange:function(e,t){t>=this.interval&&this._trackTime()},_trackTime:function(){var e=this,t=Math.floor(this.get("timeWatched")/1e3),i=1e3*t;if(!(t<=0)){if(this.currentlySaving)return this.currentlySaving.always(this._trackTime);var n=this.get("session_id");this.incrementTimeWatched(-i),this.currentlySaving=this.save({elapsed:t}).always((function(){e.currentlySaving=!1})).done((function(t){var i=t.shouldComplete,s=void 0!==i&&i,a=t.canUserCreateDiscussion,o=void 0!==a&&a;e.trigger("saved",{sessionId:n,shouldComplete:s}),o&&SS.events.trigger("userCanCreateDiscussion",{canUserCreateDiscussion:o})})).error((function(){e.incrementTimeWatched(i,{silent:!0})}))}}});t.a=n}).call(this,i(76),i(51))},function(e,t,i){"use strict";i(96),i(187);var n=i(1151),s={sessionToVideo:function(e){var t=e.get("brightcove_id");return t||(t=(e.get("videoId")||"").replace("bc:","")),new n.a({platform_video_id:t,thumbnails:e.get("thumbnails")})}};t.a=s},function(e,t,i){"use strict";(function(e){var n=i(305),s=i(1055),a=n.a.extend({url:function(){return this.modelUrlPrefix+"/"+this._modelId+"/discussions"},model:s.a,parse:function(e){return n.a.prototype.parse.apply(this,arguments),e.discussions},initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.extend(this,e.pick(i,["modelUrlPrefix","_modelId"])),n.a.prototype.initialize.apply(this,arguments)}});t.a=a}).call(this,i(51))},function(e,t,i){"use strict";var n=i(448),s=i(1070),a=n.a.extend({className:"inline-discussions",itemView:s.a});t.a=a},function(e,t,i){"use strict";(function(e){i(133),i(228);var n=i(1187),s=i(449),a=i(1093),o=i.n(a),r=i(1188),l=i.n(r),c=n.a.extend({className:"discussion-form-container",template:l.a,events:{"click .submit-button":"onSubmitButton","click .form-toggle":"onFormToggle","click .discussion-type":"onFormToggle","click .notify-all":"toggleEmailSubjectField"},bindings:{".discussion-title":"title",".discussion-description":"description",".notify-all":"notify_all_students"},placeholderText:{Announcement:"Share tips and shortcuts or simply start a discussion about this class",Question:"Ask the teacher or other students a question related to this class",Project:""},enabled:!1,initialize:function(t){e.extend(this,e.pick(t,["currentUser","placeholderText"])),e.bindAll(this,"onSubmitSuccess","onSubmitFail"),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.$fieldsWrapper=this.$(".fields-wrapper"),this.$formToggle=this.$(".form-toggle"),this.$discussionTypes=this.$(".discussion-types"),this.$notifyAll=this.$(".notify-all"),this.$emailSubjectContainer=this.$(".email-subject-field"),this.$emailSubject=this.$(".discussion-title"),this.$submitButton=this.$(".submit-button"),this.$submitButton.addClass("disabled"),this.$discussionTextarea=this.$("#discussion-textarea_ifr").contents().find("#tinymce"),this.stickit(),s.a.initRichTextareas(this.$el),n.a.prototype.afterRender.apply(this,arguments)},onFormToggle:function(e){var t=this;e.preventDefault();var i=this.$(e.target).closest("div").attr("ss-data-discussion-type");"Review"!==i&&(this.$fieldsWrapper.removeClass("hidden"),this.$el.addClass("opened"),this.$discussionTextarea=this.$("#discussion-textarea_ifr").contents().find("#tinymce"),this.$("textarea#discussion-textarea").on("change",(function(e){t.checkIfEmpty(e)})),this.$discussionTextarea.on("keyup",(function(e){t.checkIfEmpty(e)})),i?(this.$(e.target).closest("div").addClass("active").siblings().removeClass("active"),this.$discussionTypes.addClass("opened"),this.$discussionTextarea.on("focus",(function(){t.$("iframe").contents().find(".form-toggle-placeholder").remove(),t.$discussionTypes.addClass("active")})),this.$discussionTextarea.on("blur",(function(){t.$discussionTypes.removeClass("active")})),this.setPlaceholder(i),this.model.set("type",i),"Class"!==i&&"Project"!==i||o.a.activeEditor.buttons["embed-media-button"].onclick(null,i)):(this.$formToggle.hide(),this.$discussionTextarea.focus()))},checkIfEmpty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;""===e.target.innerText.trim()&&""===o.a.activeEditor.getContent()?(this.enabled=!1,this.$submitButton.hasClass("disabled")||this.$submitButton.addClass("disabled")):(this.enabled=!0,this.$submitButton.removeClass("disabled"))},setPlaceholder:function(e){var t=this,i=function(e){return'<p class="form-toggle-placeholder">'.concat(t.placeholderText[e],"</p>")};""!==o.a.activeEditor.getContent()&&o.a.activeEditor.getContent()!==i("Announcement")&&o.a.activeEditor.getContent()!==i("Question")||o.a.activeEditor.setContent(i(e))},onSubmitButton:function(){this.enabled&&(n.a.prototype.onSubmitButton.apply(this,arguments),this.model.save().success(this.onSubmitSuccess).fail(this.onSubmitFail),this.enabled=!1)},onSubmitSuccess:function(){this.model.set("canModify",!0),this.trigger("new:discussion",this.model),n.a.prototype.onSubmitSuccess.apply(this,arguments)},onSubmitFail:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error creating your discussion. Please try again.",type:"error"}),n.a.prototype.onSubmitFail.apply(this,arguments)},toggleEmailSubjectField:function(){this.$notifyAll.prop("checked")?(this.$emailSubjectContainer.show(),this.$emailSubject.focus()):this.$emailSubjectContainer.hide()}});t.a=c}).call(this,i(51))},function(e,t,i){"use strict";var n=i(57),s=n.a.extend({enabled:!0,afterRender:function(){this.$actionButtons=this.$(".action-button"),n.a.prototype.afterRender.apply(this,arguments)},onSubmitButton:function(){this.enabled&&(this.$actionButtons.addClass("disabled"),this.enabled=!1)},onSubmitSuccess:function(){this.enabled=!0,this.$actionButtons.removeClass("disabled")},onSubmitFail:function(){this.enabled=!0,this.$actionButtons.removeClass("disabled")}});t.a=s},function(e,t){e.exports='<img src="{{currentUser.images.medium}}" class="user-img-50" data-ss-username="{{currentUser.username}}" />\n<form class="discussion-form{{#discussionTypes.0}} discussion-buttons{{/discussionTypes.0}}">\n    <fieldset>\n        <div class="discussion-types{{^discussionTypes}} hidden{{/discussionTypes}}">\n            {{#discussionTypes}}\n                <div class="discussion-type{{#classes}} {{classes}}{{/classes}}" ss-data-discussion-type="{{type}}"><a href="javascript:;"><span>{{text}}</span></a></div>\n            {{/discussionTypes}}\n        </div>\n        {{^discussionTypes}}\n            <input class="form-toggle" placeholder="{{formTogglePlaceholder}}" type="text" />\n        {{/discussionTypes}}\n    </fieldset>\n    <div class="fields-wrapper hidden">\n        <fieldset>\n            <div class="fields">\n                <textarea\n                    id="discussion-textarea"\n                    class="discussion-description rich"\n                    data-ss-upload-type="Discussion"\n                    data-ss-rich-enable-images="true"\n                    data-ss-rich-enable-media-embeds="true"\n                    data-height="100">\n                </textarea>\n            </div>\n        </fieldset>\n        <div class="email-subject-field">\n            <fieldset>\n                <label for="discussion-title">Email Subject</label>\n                <div class="fields input-wrapper">\n                    <input class="discussion-title" id="discussion-title" size="60" maxlength="200" type="text" />\n                </div>\n            </fieldset>\n        </div>\n        <fieldset>\n            <a href="javascript:;" class="button medium submit-button action-button">Post</a>\n            {{#currentUser.canNotifyAll}}\n                <input class="notify-all" type="checkbox" name="notify_all_students" id="notify_all_students">\n                <label class="inline" for="notify_all_students">{{#emailPrompt}}{{emailPrompt}}{{/emailPrompt}}{{^emailPrompt}}Email all students{{/emailPrompt}}</label>\n            {{/currentUser.canNotifyAll}}\n        </fieldset>\n    </div>\n</form>\n'},function(e,t,i){"use strict";(function(e){i(307);var n=i(57),s=i(961),a=i(1040),o=n.a.extend({placement:"top",placementPadding:10,anchor:null,template:null,dialogId:null,openOnRender:!0,events:{"click .close-button":"onClose"},initialize:function(t){if(e.extend(this,e.pick(t,["anchor","placement","dialogId","openOnRender"])),!this.anchor)throw new Error("An anchor is required to create a Dialog");if(0===this.anchor.length)throw new Error("The anchor element was not found.");if(!this.anchor.is(":visible"))throw new Error("The anchor element is not visible");if(!this.dialogId)throw new Error("A dialogId is required to create a Dialog");if(!this.template)throw new Error("A template is required to create a Dialog");this.$el.addClass("dialog "+this.placement),this.on("dialog:close",this.onClose),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.$el.appendTo("body"),this.position(),this.positionArrow(),this.openOnRender&&this.open()},position:function(){var e=this.anchor.offset(),t=this.$el.outerHeight(),i=this.$el.outerWidth(),n=this.anchor.outerHeight(),s=this.anchor.outerWidth(),a=0,o=0;switch(this.placement){case"top":a=e.top-t-this.placementPadding,o=e.left+(s/2-i/2);break;case"bottom":a=e.top+n+this.placementPadding,o=e.left+(s/2-i/2);break;case"right":a=e.top-(t/2-n/2),o=e.left+s+this.placementPadding;break;case"left":a=e.top-(t/2-n/2),o=e.left-i-this.placementPadding}this.$el.css({top:a,left:o})},positionArrow:function(){if(this.arrowPlacement&&"left"===this.arrowPlacement){var e=parseInt(this.$el.css("left"),10)+118;this.$el.css("left",e+"px")}},open:function(e){e&&(this.position(),this.positionArrow()),this.$el.show(),this.trigger("dialog:open")},close:function(){s.a.removeCurrentDialogView()},onClose:function(){new a.a({dialog_id:this.dialogId,user_uid:SS.currentUser.id}).save(),s.a.addViewedDialogId(this.dialogId),this.close(),this.trigger("dialog:closed")}});t.a=o}).call(this,i(51))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){var i=e.Model.extend({urlRoot:"/abuseFlags/create"});t.a=i}).call(this,i(76))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1020),a=i(1021),o=i(1028),r=i(1069),l=i(1149),c=i.n(l),d=n.a.extend({template:c.a,templateData:function(){return e.defaults({showEmbedButton:!!this.session&&this.session.get("showEmbedButton")},this.model.attributes)},events:{"click .video-embed":"onClickVideoEmbed","click .share-email":"onClickEmail"},initialize:function(t){e.extend(this,e.pick(t,["session"])),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.initializeFacebookButton(),this.initializeTwitterButton(),n.a.prototype.afterRender.apply(this,arguments)},initializeFacebookButton:function(){new s.a({el:this.$(".share-fb"),countUrl:this.model.get("url"),showCounter:!1,shareOptions:{name:this.model.get("classTitle"),link:this.model.get("fbShareUrl"),picture:this.model.get("fbSharePhoto"),caption:"An Online Skillshare Class by "+this.model.get("teacherFullName"),description:this.model.get("fbShareDescription")},modelTrackingParams:{name:"Classes",id:this.model.get("classId")}})},initializeTwitterButton:function(){new a.a({el:this.$(".share-twitter"),modelTrackingParams:{name:"Classes",id:this.model.get("classId")}})},onClickVideoEmbed:function(){var e=this.session.get("id"),t=this.session.get("authToken");new o.a({sessionId:e,authToken:t,linkTitle:this.model.get("embedTitle"),linkUrl:this.model.get("embedUrl"),tagLine:this.model.get("embedTagline"),basicPopup:!0})},onClickEmail:function(){new r.a({model:this.model.get("parentClass")})}});t.a=d}).call(this,i(51))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(449),a=i(965),o=i(1264),r=i.n(o),l=n.a.extend({isTextareaEnabled:!1,isFormEnabled:!1,className:"note-form",template:r.a,templateData:function(){return e.extend({hasVideoTime:this.hasVideoTime()},this.model.attributes,this.extraTemplateData)},events:{"click .post-button":"onPostButton"},bindings:{".note-body":"body",".note-privacy-status":"privacy_status"},initialize:function(t){if(e.extend(this,e.pick(t,["player","extraTemplateData","via"])),e.bindAll(this,"onPostSuccess","onPostFail","onVideoPlay"),!this.player)throw new Error("A Brightcove Video Player is required for this view");this.listenTo(this.model,"change:body",this.onBodyChange),this.listenTo(this.model,"change:video_time",this.onVideoTimeChange),this.listenTo(this.model,"change:privacy_status",this.onPrivacyStatusChange),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.$postAtTime=this.$(".post-at-time"),this.$postAt=this.$(".post-at"),this.$postButton=this.$(".post-button"),this.$textarea=this.$(".note-body"),this.$noteSubmission=this.$(".note-submission"),this.stickit(),s.a.initInputsAndSelectMenus(this.$el),n.a.prototype.afterRender.apply(this,arguments),this.onVideoPlay()},onBodyChange:function(e,t){t?this.hasVideoTime()||this.model.set("video_time",Math.floor(this.player.getCurrentTime())):this.model.unset("video_time")},onVideoTimeChange:function(e,t){if(!this.hasVideoTime())return this.$postAt.hide(),void this.disablePostButton();this.$postAtTime.html(a.a.getTimeFromSeconds(t)),this.$postAt.show(),this.enablePostButton()},onPrivacyStatusChange:function(e,t){this.trigger("change:privacy_status",t)},onPostButton:function(){this.isFormEnabled&&(this.disablePostButton(),this.model.isValid()?(this.model.set("via",this.via),this.model.save().success(this.onPostSuccess).fail(this.onPostFail)):this.onPostFail())},onPostSuccess:function(){this.trigger("created:note",this.model),this.enablePostButton()},onPostFail:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error creating your note. Please try again.",type:"error"}),this.enablePostButton()},enablePostButton:function(){this.$postButton.removeClass("disabled"),this.isFormEnabled=!0},disablePostButton:function(){this.$postButton.addClass("disabled"),this.isFormEnabled=!1},enableTextarea:function(){this.$textarea.removeAttr("disabled").removeClass("disabled"),this.isTextareaEnabled=!0},onVideoPlay:function(){this.isTextareaEnabled||(this.enableTextarea(),this.show())},hasVideoTime:function(){return"number"==typeof this.model.get("video_time")},show:function(){this.$el.show()}});t.a=l}).call(this,i(51))},function(e,t,i){"use strict";var n=i(448),s=i(1268),a=n.a.extend({className:"learn-mode-notes",itemView:s.a});t.a=a},function(e,t,i){"use strict";(function(e,n){var s=i(208),a=i(1275),o=i.n(a),r=s.a.extend({className:"abuse-flag-popup",template:o.a,templateData:function(){return this.model.attributes},bindings:{".abuse-flag-info":"body"},events:function(){return e.extend(s.a.prototype.events.call(this),{"click .infraction-type":"onInfractionTypeClick","click .submit-report-button":"onSubmit"})},initialize:function(){s.a.prototype.initialize.apply(this,arguments),e.bindAll(this,"onInfractionTypeClick","onSubmit"),this.listenTo(this.model,"change:abuseflag",this.onAbuseFlagChange)},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.$selectAbuseType=this.$(".btn-select-abuse-type"),this.$submitButton=this.$(".submit-abuse-flag-button"),this.$errorMessage=this.$(".error-message"),this.$textRequiredError=this.$(".text-required-error"),this.$textRequiredError.hide(),this.$errorMessage.hide(),this.stickit()},onInfractionTypeClick:function(){var e=parseInt(this.$("input[name=infraction]:checked").val(),10);this.model.set("abuse_flag_infraction_type_id",e)},onSubmit:function(t){t.preventDefault();var i=null,s=this.model.get("abuse_flag_infraction_type_id");e.isUndefined(s)?this.$errorMessage.show():(n(".abuse-flag-info").val().length&&(i=this.$(".abuse-flag-info").val()),i||7!==s?(this.model.save({body:i,entity_type_id:1}),this.afterSubmit()):this.$textRequiredError.show())},afterSubmit:function(){SS.events.trigger("alerts:create",{title:"Your report has been submitted and will be reviewed by Skillshare staff",type:"success"}),this.trigger("report:create"),this.closePopup()}});t.a=r}).call(this,i(51),i(48))},function(e,t){e.exports='<div class="empty-projects">\n    <svg class="ss-svg-icon"><use xlink:href="#project" /></svg>\n        {{#canCreateProject}}\n            <h4 class="full-copy premium-copy">Add your class project here</h4>\n        {{/canCreateProject}}\n        {{^canCreateProject}}\n            <h4 class="full-copy free-copy">Join Skillshare to submit a class project</h4>\n        {{/canCreateProject}}\n    <h4 class="mobile-copy">Upload your project from tablet or desktop</h4>\n    <div class="empty-projects-buttons">\n        {{^hideViewDetails}}\n            <a href="{{projectGuideUrl}}" target="_blank" rel="noreferrer" class="button view-details-btn alt-charcoal-ghost">View Details</a>\n        {{/hideViewDetails}}\n        {{#canCreateProject}}\n            <a href="{{createProjectUrl}}" class="button create-project-btn alt-wander-green">Create Project</a>\n        {{/canCreateProject}}\n        {{^canCreateProject}}\n            <a href="{{checkoutUrl}}" class="button go-premium-btn">Go Premium</a>\n        {{/canCreateProject}}\n    </div>\n</div>\n'},,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e,n){i(96),i(187);var s=i(455),a=e.Router.extend({routes:{"classes/:slug/:sku":"classes/home","classes/:slug/:sku/lessons":"classes/lessons","classes/:slug/:sku/project-guide":"classes/projectGuide","classes/:slug/:sku/reviews":"classes/reviews","classes/:slug/:sku/projects":"classes/projects","classes/:slug/:sku/classroom/discussions":"classes/discussions","classes/:slug/:sku/classroom/announcements":"classes/discussions","classes/:slug/:sku/classroom/discussions/:discussion":"classes/discussionView","classes/:slug/:sku/classroom/announcements/:discussion":"classes/discussionView","classes/:slug/:sku/transcripts":"classes/transcripts",":slug/:sku":"classes/home",":slug/:sku/lessons":"classes/lessons",":slug/:sku/project-guide":"classes/projectGuide",":slug/:sku/projects":"classes/projects",":slug/:sku/classroom/discussions":"classes/discussions",":slug/:sku/classroom/announcements":"classes/discussions",":slug/:sku/classroom/discussions/:discussion":"classes/discussionView",":slug/:sku/classroom/announcements/:discussion":"classes/discussionView","discussions/comment/:comment":"classes/discussionView",":slug/:sku/transcripts":"classes/transcripts"},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.extend(this,n.pick(e,"classes")),this.on("all",this.routeToControllerAction,this)},routeToControllerAction:function(e){var t,i,a=n.last(arguments),o=n.isArray(a)?n.last(a):a,r=o?s.a.getParamsFromString(o):null;e.replace(/^route:(\w+)\/(\w+)/,(function(e,n,s){t=n,i=s}));var l=this[t]||this.classes;n.isFunction(l.callAction)&&l.callAction(t,i,r)}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n){i(1241);var s=i(1077),a=i(948),o=e.Model.extend({constructor:function(){this.sessions=new s.a,this.completion=new a.a,e.Model.apply(this,arguments)},parse:function(e){var t=n.clone(e);return this.sessions.set(t.sessions,{unit:this,parse:!0}),delete t.sessions,this.completion.set({target_type:"Unit",target_id:t.id,parent_id:t.parent_id}),t.unitCompletion&&(this.completion.set(t.unitCompletion,{parse:!0}),this.completion.set({completed:!0})),t},isCompleted:function(){return this.sessions.every((function(e){return e.isCompleted()}))}});t.a=o}).call(this,i(76),i(51))},function(e,t,i){"use strict";var n=i(41),s=i(268).every,a=i(266),o=i(155),r=a("every"),l=o("every");n({target:"Array",proto:!0,forced:!r||!l},{every:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,i){"use strict";(function(e,n,s){i(297),i(133),i(146),i(186),i(147);var a=i(57),o=i(300),r=i(132),l=i(1148),c=i(1243),d=i(1249),h=i(1251),u=i(1220),p=i(1259),v=i(1261),m=i(1028),f=i(1221),g=i(1265),y=i(1147),b=i(1077),w=i(1182),C=i(1064),k=i(1183),S=i(1272),P=i.n(S),T=i(1273),x=i.n(T),E=i(189),_=i.n(E),j=i(0),D=i.n(j),O=i(28),I=i.n(O),L=i(296),N=i(120),$=i(986),R=i(1063),M=a.a.extend({baseUrl:null,defaultPrivacyStatus:1,inEditMode:!1,myNotesPopupView:null,noteForm:null,parentClass:null,playerIsLocked:!1,pausedByTakeover:!1,session:null,sessionsStarted:null,shareLinks:null,shareLinksView:null,isNotesEnabled:!1,timeTracker:null,units:null,videoPlayer:null,videoPlayerFullscreenControls:null,videoPlayerMetaDataLoaded:null,videoPlayerNotesBar:null,videoPlayerReady:null,videoPlaylist:null,videoRollOverlay:null,$startView:null,initialize:function(){var e,t=this;this.isNotesEnabled=SS.serverBootstrap.pageData.videoPlayerData.isNotesEnabled,this.initializeVideoPlayerReady(),this.initializeParentClass(),this.initializeUnits(),this.initializeSession(),this.initializeJoinModule(),this.initializePremiumUpgradeData(),this.initializeShareLinks(),this.initializeTimeTracker(),this.initializeSessionsStarted(),this.initializePlayerIsLocked(),this.initializeStartView(),this.renderBadge(),this.$viewport=this.$(".viewport:first"),this.$lockedView=this.$(".locked-view:first"),this.$shareLinks=this.$(".share-links-wrapper:first"),this.$unitList=this.$(".unit-list-wrapper:first"),this.$playlist=this.$(".playlist:first"),this.$noteForm=this.$(".note-form-wrapper:first"),this.playerIsLocked&&this.$el.addClass("locked"),SS.events.on("takeover:video:pause",(function(){t.videoPlayer.playbackState.isPaused()||(t.videoPlayer.pause(),t.pausedByTakeover=!0)})),SS.events.on("takeover:video:play",(function(){t.pausedByTakeover&&(t.videoPlayer.play(),t.pausedByTakeover=!1)}));for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];(e=a.a.prototype.initialize).call.apply(e,[this].concat(n))},initializeParentClass:function(){this.parentClass=new e.Model(SS.serverBootstrap.classData.parentClass)},renderBadge:function(){var e=this,t=SS.serverBootstrap.pageData.headerData,i=this.buildBadgeComponent(t),n=document.querySelectorAll(".class-details-header-badge");n.length&&n.forEach((function(t){return e.renderReactBadge(i,t)}))},buildBadgeComponent:function(e){return e.isStaffPick?D.a.createElement($.c,null):e.isSkillshareOriginal?D.a.createElement($.b,null):e.is_audio_only?D.a.createElement(R.a,null):""},renderReactBadge:function(e,t){t&&I.a.render(D.a.createElement(N.a,null,D.a.createElement(L.a,{locale:"en"},e)),t)},initializeUnits:function(){this.units=new y.a(SS.serverBootstrap.pageData.unitsData.units,{parse:!0})},initializeSession:function(){if(this.units){var e=SS.serverBootstrap.pageData.videoPlayerData.startingSession,t=this.units.at(0);e&&t&&(this.session=t.sessions.get(e.id)),this.session||(this.session=t.sessions.at(0)),this.session&&(this.session.unit=t,this.session.notes.once("set",(function(){var e=this;this.listenTo(this.session.notes,"remove",this.onSessionNoteRemove),this.initializeVideoPlayer(),this.videoPlayerReady.then((function(){return e.initializeVideoPlaylist()}))}),this),this.session.notes.fetchSet())}},initializeJoinModule:function(){this.joinModule=SS.serverBootstrap.pageData.headerData.joinModule},initializePremiumUpgradeData:function(){this.premiumUpgradeData=SS.serverBootstrap.premiumUpgradeData},initializeShareLinks:function(){n.isNull(this.shareLinks)&&(this.shareLinks=new e.Model(n.extend({units:this.units,parentClass:this.parentClass},SS.serverBootstrap.pageData.videoPlayerData.shareLinks))),this.shareLinksView&&this.shareLinksView.remove(),this.shareLinksView=new u.a({el:this.$shareLinks,model:this.shareLinks,session:this.session})},initializeTimeTracker:function(){var e=this;this.timeTracker=new w.a,this.timeTracker.on("saved",(function(t){var i=t.sessionId;t.shouldComplete&&e.units.getFlattenedSessions().find((function(e){var t=e.id;return i===t})).trigger("shouldComplete")}))},initializeSessionsStarted:function(){this.sessionsStarted=new e.Model},initializeVideoPlayer:function(){this.baseUrl=SS.serverBootstrap.pageData.videoPlayerData.baseUrl;var e=this.session;this.isVideoUnlocked()||(e=this.units.getSessionAtIndex(0),SS.EventTracker.track("Directly Viewed Locked Video",{},{isLoggedIn:"true"===!SS.currentUser.isGuest()})),this.videoPlayer=new l.a({el:this.$viewport.find(".video-player-module:first"),video:k.a.sessionToVideo(e)}),this.videoPlayer.once("video:player:ready",(function(){this.session.get("showEmbedButton")&&this.videoPlayer.initializeEmbedButton(),this.videoPlayer.initializeTheaterModeButton(),this.videoPlayer.initializePIPCloseButton(),this.videoPlayer.initializeLearnModeToggle(),this.videoPlayer.initializeSubtitlesView(),this.videoPlayer.initializePlayerSeparator(),this.initializeVideoPlayerFullscreenControls(),this.initializeVideoPlayerNotesBar(),this.videoPlayerReady.resolve()}),this),this.videoPlayer.once("video:player:error",(function(e){this.videoPlayerReady.reject(e)}),this),this.videoPlayer.once("video:player:metadataLoaded",(function(){this.setPlayBarProgress(e),this.listenTo(this,"video:player:autoplay:ready",(function(){this.videoPlayer.play()})),this.videoPlayerMetaDataLoaded.resolve()}),this),this.listenTo(this.videoPlayer,"video:player:timeUpdate",this.onVideoPlayerTimeUpdate),this.listenTo(this.videoPlayer,"video:player:fullscreenChange",this.onVideoPlayerFullscreenChange),this.listenTo(this.videoPlayer,"video:player:play",this.onVideoPlayerPlay),this.listenTo(this.videoPlayer,"video:player:pause",this.onVideoPlayerPause),this.listenTo(this.videoPlayer,"video:player:windowClosed",this.onVideoPlayerWindowClosed),this.listenTo(this.videoPlayer,"video:player:ended",this.onVideoPlayerEnded),this.listenTo(this.videoPlayer,"video:player:learnModeToggleClick",this.onVideoPlayerLearnModeToggleClick),this.listenTo(this.videoPlayer,"video:player:transcriptModeToggleClick",this.onVideoPlayerTranscriptModeToggleClick),this.listenTo(this.videoPlayer,"video:player:embedButtonClick",this.onVideoPlayerEmbedButtonClick),this.listenTo(this.videoPlayer,"video:player:playlistCloseButtonClick",this.onVideoPlayerPlaylistCloseButtonClick),this.listenTo(this.videoPlayer,"video:player:initializeToStartView",this.onPlayerInitializedToStartScreen)},initializeStartView:function(){this.$startView=s("#video-start-view")},initializeVideoPlayerNotesBar:function(){this.isNotesEnabled&&(this.videoPlayerNotesBar&&this.videoPlayerNotesBar.remove(),this.videoPlayerNotesBar=new c.a({player:this.videoPlayer,session:this.session}),this.listenTo(this.videoPlayerNotesBar,"video:player:notesBar:noteClick",this.onVideoPlayerNotesBarNoteClick),this.listenTo(this.videoPlayerNotesBar,"video:player:notesBar:noteMoreClick",this.onVideoPlayerNotesBarNoteMoreClick),this.listenTo(this.videoPlayerNotesBar,"video:player:notesBar:popoverEnter",this.onVideoPlayerNotesBarPopoverEnter),this.listenTo(this.videoPlayerNotesBar,"video:player:notesBar:inEditModeChange",this.onVideoPlayerNotesBarInEditModeChange))},initializeVideoPlayerFullscreenControls:function(){this.videoPlayerFullscreenControls&&this.videoPlayerFullscreenControls.remove(),this.videoPlayerFullscreenControls=new d.a({player:this.videoPlayer,units:this.units,session:this.session}),this.listenTo(this.videoPlayerFullscreenControls,"video:player:fullscreenControls:nextClick",this.onVideoPlayerNextClick),this.listenTo(this.videoPlayerFullscreenControls,"video:player:fullscreenControls:prevClick",this.onVideoPlayerPrevClick)},initializeVideoPlaylist:function(){this.videoPlaylist=new h.a({el:s(".video-playlist-module"),units:this.units}),this.videoPlaylist.once("afterRender",(function(){this.scrollToSession(this.session)}),this),this.listenTo(this.videoPlaylist,"video:playlist:viewMyNotesClick",this.onVideoPlaylistViewMyNotesClick),this.listenTo(this.videoPlaylist,"video:playlist:sessionClick",this.onVideoPlaylistSessionClick),this.listenTo(this.videoPlaylist,"video:playlist:viewNotesClick",this.onVideoPlaylistViewNotesClick),this.listenTo(this.videoPlaylist,"video:playlist:playbackStateChange",this.onVideoPlaylistPlaybackStateChange),this.listenTo(this.videoPlaylist,"video:playlist:videoComplete",this.onVideoPlaylistVideoComplete)},initializePlayerIsLocked:function(){this.playerIsLocked=SS.serverBootstrap.pageData.unitsData.isLocked},initializeVideoPlayerReady:function(){var e=this;this.videoPlayerReady=s.Deferred(),this.videoPlayerMetaDataLoaded=s.Deferred(),this.videoPlayerReady.then((function(){e.showVideoPlayer(),e.handleMyNotesPopupOnLoad()}))},isVideoUnlocked:function(){return!(!this.session.isFirstOverall()&&!this.session.get("videoId"))},loadSessionVideo:function(e,t){var i=this,n=t||!1;this.session&&this.session.view&&(this.session.setPaused(),this.session.view.$el.removeClass("active"),this.endTrackingTime()),this.scrollToSession(e),this.closeOverlays(),this.hideVideoPlayer(),this.stopListening(this.videoPlayer,"video:player:timeUpdate",this.onVideoPlayerTimeUpdate),this.videoPlayer.setPosterImage(""),this.videoPlayer.load(),this.setSession(e,(function(){i.isVideoUnlocked()?(i.videoPlayer.video=k.a.sessionToVideo(i.session),i.videoPlayer.once("video:player:metadataLoaded",(function(){i.setPlayBarProgress(i.session),i.listenTo(i.videoPlayer,"video:player:timeUpdate",i.onVideoPlayerTimeUpdate),n&&i.videoPlayer.play()})),i.videoPlayer.loadVideo(),i.initializeVideoPlayerNotesBar(),i.initializeVideoPlayerFullscreenControls(),i.initializeShareLinks(),i.showVideoPlayer()):i.displayLockedView(),i.trigger("change:session",i.session)}))},loadNextSessionVideo:function(e){var t=this.nextSession();this.endTrackingTime(),t&&this.loadSessionVideo(t,e)},loadPreviousSessionVideo:function(e){var t=this.previousSession();this.endTrackingTime(),t&&this.loadSessionVideo(t,e)},setSession:function(e,t){this.session=e,this.session.unit=this.units.at(0),this.session.notes.once("set",(function(){this.session.setVideoId(t)}),this),this.session.notes.fetchSet()},nextSession:function(){return this.units.nextSession(this.session)},previousSession:function(){return this.units.previousSession(this.session)},completedUnit:function(){return this.units.at(0).isCompleted()},completedAllUnits:function(){return this.completedUnit()},trackSessionCompletion:function(e){if(this.completedAllUnits()){var t=SS.EventTracker.classDetails({sku:this.parentClass.sku});SS.EventTracker.track("Completed All Class Videos","",t),e.unit.completion.save({completed:!0})}},trackSessionStart:function(e){this.sessionsStarted.get(e.get("id"))||(this.sessionsStarted.set(e.get("id"),!0),this.videoPlayer.trackPlayLessonEvent(e))},endTrackingTime:function(){this.timeTracker.stop(this.videoPlayer.getCurrentTime())},getDataForOverlay:function(){return{container:this.$viewport.find(".overlay-container:first"),nextSession:this.nextSession(),currentSession:this.session,parentClass:this.parentClass,baseUrl:this.baseUrl}},closeNotePopovers:function(){this.session.notes&&this.session.notes.trigger("closeAll")},scrollToSession:function(e){e.isFirstOverall()?(this.$el.addClass("first-video"),this.scrollToTopOfPlaylist()):(this.$el.removeClass("first-video"),this.scrollToPlaylistRow(e)),e.view.$el.addClass("active")},scrollToTopOfPlaylist:function(){this.$unitList.animate({scrollTop:0},300,"linear")},scrollToPlaylistRow:function(e){var t=null;t=e.isFirstInUnit()?e.unit.view.$el:e.view.$el,this.$unitList.animate({scrollTop:this.$unitList.scrollTop()+t.position().top+1},300,"linear")},displayVideoPostRoll:function(){this.inEditMode||(this.closeNotePopovers(),this.playerIsLocked?this.displayLockedView():this.nextSession()?this.loadNextSessionVideo(!0):(this.videoPlayer.isFullscreen()&&this.videoPlayer.exitFullscreen(),this.displayCountdownOverlay()))},displayLockedView:function(){this.videoPlayer.stop(),this.displayUpgradeOverlay(),this.videoPlayer.exitFullscreen()},displayUpgradeOverlay:function(){this.videoRollOverlay&&this.videoRollOverlay.remove(),this.videoRollOverlay=new p.a(n.extend({templateData:this.premiumUpgradeData},this.getDataForOverlay())),this.displayVideoRollOverlay()},displayCountdownOverlay:function(){this.videoRollOverlay&&this.videoRollOverlay.remove(),this.videoRollOverlay=new v.a(this.getDataForOverlay()),this.displayVideoRollOverlay()},displayEnrollButtonOverlay:function(){var e=n.extend({},this.session.attributes,this.joinModule),t=_.a.render(P.a,e,{"modules/_video-player-cta":x.a});this.$lockedView.html(t).show(),o.a.initRestrictedAccessHandlers(this)},displayVideoRollOverlay:function(){this.closeVideoShareOverlay(),this.showVideoOverlay(),this.listenTo(this.videoRollOverlay,"nextVideo",this.onVideoRollOverlayNextVideo),this.listenTo(this.videoRollOverlay,"close",this.onVideoRollOverlayClose),this.listenTo(this.videoRollOverlay,"scrollToHeaders",this.onVideoRollOverlayScrollToHeaders)},displayVideoEmbedPopup:function(){if(this.session.get("showEmbedButton")){this.videoPlayer.pause();var e=this.session.get("id"),t=this.session.get("authToken");new m.a({sessionId:e,authToken:t,linkTitle:this.shareLinks.get("embedTitle"),linkUrl:this.shareLinks.get("embedUrl"),tagLine:this.shareLinks.get("embedTagline"),basicPopup:!0})}},showVideoOverlay:function(){this.$el.addClass("overlayed")},hideVideoOverlay:function(){this.$el.removeClass("overlayed")},showVideoPlayer:function(){this.videoPlayer.$el.css("opacity",1)},hideVideoPlayer:function(){this.videoPlayer.$el.css("opacity",0)},closeOverlays:function(){this.closeVideoRollOverlay(),this.closeVideoShareOverlay(),this.closeEnrollButtonOverlay(),this.hideStartView()},closeVideoRollOverlay:function(){this.videoRollOverlay&&this.videoRollOverlay.close()},closeVideoShareOverlay:function(){this.videoShareOverlay&&this.videoShareOverlay.close()},closeEnrollButtonOverlay:function(){this.$lockedView.empty(),this.showVideoPlayer()},handleMyNotesPopupOnLoad:function(){this.isNotesEnabled&&(SS.serverBootstrap.pageData.videoPlayerData.showMyNotesPopupOnLoad&&this.showMyNotesPopup())},showMyNotesPopup:function(){var e=new b.a(n.map(this.units.getFlattenedSessions(),(function(e){return e.clone()})));this.myNotesPopup=new g.a({parentClass:this.parentClass,sessions:e}),this.listenTo(this.myNotesPopup,"click:videoTime",this.onMyNotesPopupVideoTimeClick),this.listenTo(this.myNotesPopup,"remove:myNotes",this.onMyNotesPopupNoteRemove),this.listenTo(this.myNotesPopup,"change:myNotes",this.onMyNotesPopupNoteChange),this.videoPlayer.playbackState.isPlaying()&&(this.videoPlayer.pause(),this.listenTo(this.myNotesPopup,"onPopupDidCloseEvent",this.onMyNotesPopupClose))},addNoteForm:function(){var e=new C.a({privacy_status:this.defaultPrivacyStatus},{session:this.session});this.noteForm=new f.a({model:e,player:this.videoPlayer,extraTemplateData:{isDark:!0},container:this.$noteForm,via:"video-player"})},removeNoteForm:function(){this.noteForm&&this.noteForm.remove()},resetNoteForm:function(){this.removeNoteForm(),this.addNoteForm(),this.noteForm.show()},setPlayBarProgress:function(e){var t=e.get("videoLengthSeconds"),i=e.get("lastPlayedTime");i>t-10?this.videoPlayer.setCurrentTime(0):this.videoPlayer.setCurrentTime(i)},showStartView:function(){var e=this,t=this.videoPlayer.getVideoThumbnailImageURL(),i=t?"url(".concat(t,")"):"none";this.$startView.css("backgroundImage",i),this.$startView.removeClass("hidden"),this.$startView.find(".vjs-big-play-button").removeClass("hidden");var n=r.a.isTouchDevice()?"touchend":"click";this.$startView.on(n,(function(t){t.stopPropagation(),t.preventDefault(),e.videoPlayer?e.videoPlayer.play():e.hideStartView()}))},hideStartView:function(){this.$startView.addClass("hidden")},onNoteFormNewNote:function(e){e.set("displayPopover",!0),this.session.notes.add(e),this.videoPlayerNotesBar.show(),this.resetNoteForm(),this.session.trigger("new:note",e)},onMyNotesPopupVideoTimeClick:function(e){var t=this.units.at(0).sessions.get(e.session.get("id"));t.get("id")!==this.session.get("id")?(this.videoPlayer.once("video:player:metadataLoaded",(function(){this.videoPlayer.setCurrentTime(e.get("video_time"))}),this),this.loadSessionVideo(t,!0)):(this.videoPlayer.setCurrentTime(e.get("video_time")),this.videoPlayer.play())},onMyNotesPopupNoteRemove:function(e){this.trigger("remove:note",e)},onMyNotesPopupNoteChange:function(e){this.trigger("change:note",e)},onSessionNoteRemove:function(e){this.session.trigger("destroyed:note",e)},onVideoPlayerNextClick:function(){this.loadNextSessionVideo(!0)},onVideoPlayerPrevClick:function(){this.loadPreviousSessionVideo(!0)},onVideoPlayerTimeUpdate:function(e){this.videoPlayer.playbackState.isPlaying()&&(this.hideVideoOverlay(),this.timeTracker.set("session_id",this.session.get("id")),this.timeTracker.markProgress(e))},onVideoPlayerFullscreenChange:function(){this.isNotesEnabled&&(this.videoPlayer.togglePlaylistCloseButton(),this.videoPlayer.isFullscreen()?this.videoPlayerNotesBar.hasNotes()&&this.videoPlayerNotesBar.hide():this.videoPlayerNotesBar.hasNotes()&&this.videoPlayerNotesBar.show())},onVideoPlayerPlay:function(){this.session.setPlaying(),this.timeTracker.set("session_id",this.session.get("id")),this.timeTracker.start(),this.closeOverlays(),this.trackSessionStart(this.session),this.trigger("newClasses:video:player:play")},onVideoPlayerPause:function(){this.session.setPaused(),this.endTrackingTime()},onVideoPlayerWindowClosed:function(){this.session.setPaused(),this.endTrackingTime()},onVideoPlayerEnded:function(){this.session.setEnded(),this.endTrackingTime(),this.displayVideoPostRoll()},onVideoPlayerLearnModeToggleClick:function(){this.videoPlayer.exitFullscreen(),this.trigger("toggle:learnMode","video-control-bar")},onVideoPlayerTranscriptModeToggleClick:function(){this.trigger("toggle:transcriptMode","video-control-bar")},onVideoPlayerNotesBarNoteClick:function(e){this.videoPlayer.setCurrentTime(e.get("video_time"))},onVideoPlayerNotesBarNoteMoreClick:function(e){this.trigger("click:more",e)},onVideoPlayerNotesBarPopoverEnter:function(){this.videoPlayer.onMouseEnterEvent()},onVideoPlayerNotesBarInEditModeChange:function(e){this.inEditMode=e,this.inEditMode?this.$el.addClass("edit-mode"):(this.$el.removeClass("edit-mode"),this.videoPlayer.playbackState.isEnded()&&(this.closeNotePopovers(),this.displayVideoPostRoll()))},onVideoRollOverlayNextVideo:function(){this.loadNextSessionVideo(!0)},onVideoRollOverlayClose:function(){this.hideVideoOverlay()},onVideoRollOverlayScrollToHeaders:function(){this.trigger("scrollToHeaders")},onVideoPlayerEmbedButtonClick:function(){this.displayVideoEmbedPopup()},onVideoShareOverlayClose:function(){this.hideVideoOverlay()},onVideoPlayerPlaylistCloseButtonClick:function(){this.$el.toggleClass("playlist-closed")},onVideoPlaylistViewMyNotesClick:function(){this.showMyNotesPopup()},onVideoPlaylistSessionClick:function(e){e.get("id")!==this.session.get("id")&&this.loadSessionVideo(e)},onVideoPlaylistViewNotesClick:function(e){e.get("id")!==this.session.get("id")&&this.loadSessionVideo(e,!0),this.trigger("enable:learnMode","view-notes")},onVideoPlaylistPlaybackStateChange:function(e){var t={sku:this.parentClass.get("sku"),parent_class_title:this.parentClass.get("title"),is_locked:e.get("premiumAndLocked"),lesson_title:e.get("title"),lesson_id:e.get("id")};if(SS.EventTracker.track("Clicked-Playlist-Lesson",null,t),e.get("id")===this.session.get("id")){if(!this.isVideoUnlocked())return;e.isPlaying()?this.videoPlayer.play():e.isPaused()?this.videoPlayer.pause():this.videoPlayer.replay()}else this.loadSessionVideo(e,!0)},onVideoPlaylistVideoComplete:function(e){this.trigger("video:complete",{videoIndex:e.videoIndex}),this.trackSessionCompletion(e.session)},onPlayerInitializedToStartScreen:function(){this.showStartView()}});t.a=M}).call(this,i(76),i(51),i(48))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(959),a=i(1112),o=i(1244),r=n.a.extend({className:"video-player-notes-bar-module",player:null,session:null,notes:null,notesBarCollectionView:null,initialize:function(t){e.extend(this,e.pick(t,["player","session","notes"])),this.initializePlayer(),this.initializeSession(),this.initializeNotes(),this.initializeNotesBarCollectionView(),n.a.prototype.initialize.apply(this,arguments)},initializePlayer:function(){if(e.isNull(this.player))throw new Error("You must pass a Player when creating a PlayerNotesBar")},initializeSession:function(){e.isNull(this.session)&&(this.session=s.a)},initializeNotes:function(){e.isNull(this.notes)&&(this.notes=this.session.notes,e.isNull(this.notes)&&(this.notes=a.a))},initializeNotesBarCollectionView:function(){this.notesBarCollectionView=new o.a({collection:this.notes}),this.listenTo(this.notesBarCollectionView,"click:note",this.onNoteClick),this.listenTo(this.notesBarCollectionView,"click:more",this.onNoteMoreClick),this.listenTo(this.notesBarCollectionView,"enter:popover",this.onPopoverEnter),this.listenTo(this.notesBarCollectionView,"change:inEditMode",this.onInEditModeChange)},render:function(){this.player.$controlBar.append(this.notesBarCollectionView.$el),this.hasNotes()?this.show():this.hide(),n.a.prototype.render.apply(this,arguments)},remove:function(){this.notesBarCollectionView.remove(),n.a.prototype.remove.apply(this,arguments)},hasNotes:function(){return this.notes&&this.notes.length>0},hide:function(){this.notesBarCollectionView.$el.hide()},show:function(){this.notesBarCollectionView.$el.show()},onNoteClick:function(e){this.trigger("video:player:notesBar:noteClick",e)},onNoteMoreClick:function(e){this.trigger("video:player:notesBar:noteMoreClick",e)},onPopoverEnter:function(){this.trigger("video:player:notesBar:popoverEnter")},onInEditModeChange:function(e){this.trigger("video:player:notesBar:inEditModeChange",e)}});t.a=r}).call(this,i(51))},function(e,t,i){"use strict";var n=i(448),s=i(1245),a=n.a.extend({className:"vjs-note-bar",itemView:s.a});t.a=a},function(e,t,i){"use strict";(function(e){i(119);var n=i(57),s=i(1246),a=n.a.extend({className:"vjs-note",events:{click:"onClick",mouseenter:"addActiveClass",mouseleave:"removeActiveClass"},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),this.listenTo(this.model.collection,"closeAll",this.removeActiveClass),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.position(),this.initializePopover(),this.model.isCurrentUsers()&&this.addNoteDot(),n.a.prototype.afterRender.apply(this,arguments)},position:function(){var e=this.model.collection.indexOf(this.model);this.model.isCurrentUsers()&&(e+=10);var t,i,n,s=this.calculateNoteTimePercentage();s<.6?(t=0,n=0):s>99.4?i=0:t=s+"%",this.$el.css({backgroundImage:"url("+this.model.get("author").image+")",left:t,right:i,marginLeft:n,zIndex:e})},initializePopover:function(){var t,i=this.calculateNoteTimePercentage();i<25?t="left":i>75&&(t="right");var n=new s.a({model:this.model,anchor:this.$el,placement:"top",arrowPlacement:t});this.listenTo(n,"click:more",this.onClickMore),this.listenTo(n,"enter:popover",this.onEnterPopover),this.listenTo(n,"leave:popover",this.removeActiveClass),this.listenTo(n,"change:inEditMode",this.onEditModeChange),this.model.get("displayPopover")&&(n.open(),e.delay((function(){n.close()}),2e3))},addNoteDot:function(){this.$el.append('<div class="vjs-note-dot"></div>')},onClick:function(){this.collectionView.trigger("click:note",this.model)},onClickMore:function(){this.collectionView.trigger("click:more",this.model)},onEnterPopover:function(){clearTimeout(this.removeActiveTimerId),this.collectionView.trigger("enter:popover")},onEditModeChange:function(e){this.collectionView.trigger("change:inEditMode",e)},addActiveClass:function(){this.$el.addClass("active")},removeActiveClass:function(){var t=this;this.removeActiveTimerId=e.delay((function(){t.$el.removeClass("active")}),300)},calculateNoteTimePercentage:function(){var e=this.model.session.get("videoLengthSeconds"),t=this.model.get("video_time")/e*100;return Math.round(100*t)/100}});t.a=a}).call(this,i(51))},function(e,t,i){"use strict";(function(e,n){i(133);var s=i(145),a=i(1179),o=i(1180),r=i(947),l=i(996),c=i(1248),d=i.n(c),h=(i(1068),s.a.extend({className:"popover note-popover",showOnHover:!0,addShadow:!0,placement:"top",inEditMode:!1,template:d.a,templateData:function(){return e.extend({},this.model.attributes,{formattedBody:this.getFormattedBody(),truncated:this.isTruncated(),isGuest:SS.currentUser.isGuest()})},isTruncated:function(){return this.model.get("body").length>170},initialize:function(){this.listenTo(this.model,"change",this.update),this.listenTo(this.model.collection,"closeAll",this.forceClose),e.extend(this,a.a),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){var t=this;this.$noteStatLikes=this.$(".note-stat-likes"),this.initializeLikeButton(),this.listenTo(this.likeButtonView,"save",(function(i){t.model.set("userVote",e.pick(i.changed,["id","value"]))}))},getFormattedBody:function(){var e=String(this.model.get("body"));return e.length>170&&(e=n.truncate(e,{length:170,ellipsis:"..."})),l.a.addHTMLLineBreaks(e)},onPopoverCreated:function(){s.a.prototype.onPopoverCreated.apply(this,arguments);var e=this;this.visibleEl.find(".more-link").on("click",(function(){e.onMoreLink()})),this.visibleEl.find(".make-private").on("click",(function(){e.onMakePrivate()})),this.visibleEl.find(".delete-button").on("click",(function(){e.onDelete()})),this.visibleEl.find(".edit-button").on("click",(function(){e.openEditMode()})),this.visibleEl.find(".note-like").on("click",(function(t){e.likeButtonView.onClick(t)}));var t=this.showLike()?"Like":"Unlike";this.visibleEl.find(".note-like").html(t)},onMoreLink:function(){this.trigger("click:more",this.model),this.close()},onEnterPopover:function(){this.trigger("enter:popover"),s.a.prototype.onEnterPopover.apply(this,arguments)},onLeavePopover:function(){this.inEditMode||(this.trigger("leave:popover"),s.a.prototype.onLeavePopover.apply(this,arguments))},forceClose:function(){this.inEditMode=!1,this.close()},close:function(){this.inEditMode||s.a.prototype.close.apply(this,arguments)},onMakePrivate:function(){var e=new r.a({content:"Are you sure you want to make this note private?",submitBtnVal:"Yes, Make Private"});e.openPopup(),this.listenTo(e,"onConfirmationDidConfirmEvent",this.makePrivate)},openEditMode:function(){this.inEditMode=!0,this.visibleEl.find(".note-static").hide(),this.noteEditForm=new o.a({initialModel:this.model,container:this.visibleEl.find(".note-edit-form-wrapper")}),this.listenTo(this.noteEditForm,"afterRender",this.reposition),this.listenTo(this.noteEditForm,"cancel",this.update),this.trigger("change:inEditMode",this.inEditMode)},update:function(){this.render(),this.updateVisiblePopover(),this.reposition(),this.inEditMode=!1,this.trigger("change:inEditMode",this.inEditMode)},onDelete:function(){var e=new r.a({content:"Are you sure you want to delete this note?",submitBtnVal:"Yes, Delete Note"});e.openPopup(),this.listenTo(e,"onConfirmationDidConfirmEvent",this.destroy)},destroy:function(){this.model.destroy()},makePrivate:function(){var e=this;this.model.save({privacy_status:0},{success:function(t){t.collection.remove(t),e.close()}})},showLike:function(){return this.model&&(!this.model.get("userVote")||0===this.model.get("userVote").value)}}));t.a=h}).call(this,i(51),i(48))},function(e,t){e.exports='<textarea class="note-body">{{body}}</textarea>\n<div class="note-submission">\n    <select class="note-privacy-status small">\n        <option value="1"{{#privacy_status}} selected{{/privacy_status}}>Public</option>\n        <option value="0"{{^privacy_status}} selected{{/privacy_status}}>Only Me</option>\n    </select>\n    <div class="post-button btn small primary prevent-popover-close">Save</div>\n    <a href="javascript:;" class="cancel-button secondary no-underline prevent-popover-close">Cancel</a>\n</div>\n'},function(e,t){e.exports='<div class="inner-popover">\n    <div class="arrow"></div>\n    <div class="content clear">\n        <div class="left">\n            <img class="user-img-20 author-image" src="{{author.image}}" />\n        </div>\n        <div class="note-content left">\n            <div class="author-name"><strong>{{author.fullName}}</strong></div>\n            <div class="note-static">\n                <div class="note-body">\n                    {{{formattedBody}}}\n                    {{#truncated}}\n                        <a href="javascript:;" class="more-link">(more)</a>\n                    {{/truncated}}\n                </div>\n                <div class="right footer note-stats">\n                    <span class="ss-icon-heart note-stat note-stat-likes{{#userVote}}{{#value}} liked{{/value}}{{/userVote}}"{{^numLikes}} style="display: none;"{{/numLikes}}>{{numLikes}}</span>\n                </div>\n                <div class="footer">\n                    {{^isGuest}}\n                        <a href="javascript:;" class="note-like alternate">Like</a>\n                    {{/isGuest}}\n                    {{#canModify}}\n                        <span class="middot">&middot;</span>\n                        <a href="javascript:;" class="edit-button alternate">Edit</a>\n                        <span class="middot">&middot;</span>\n                        <a href="javascript:;" class="delete-button alternate">Delete</a>\n                    {{/canModify}}\n                    {{#canMakePrivate}}\n                        <span class="middot">&middot;</span>\n                        <a href="javascript:;" class="make-private alternate">Make Private</a>\n                    {{/canMakePrivate}}\n                </div>\n                {{^privacy_status}}\n                    <div class="privacy-status ss-icon-lock">Only Me</div>\n                {{/privacy_status}}\n            </div>\n            {{#canModify}}\n                <div class="note-edit-form-wrapper"></div>\n            {{/canModify}}\n\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,n){i(133);var s=i(57),a=i(959),o=i(1250),r=i.n(o),l=s.a.extend({className:"vjs-fullscreen-controls",template:r.a,player:null,units:null,session:null,events:{"click .next-video":"onClickNextVideo","click .prev-video":"onClickPreviousVideo"},initialize:function(t){e.extend(this,e.pick(t,["player","units","session"])),this.initializePlayer(),s.a.prototype.initialize.apply(this,arguments)},render:function(){this.player.$videojs.append(this.$el),s.a.prototype.render.apply(this,arguments)},afterRender:function(){this.initializeButtons(),s.a.prototype.afterRender.apply(this,arguments)},initializePlayer:function(){if(e.isNull(this.player))throw new Error("You must pass a Player when creating PlayerFullscreenControls");if(e.isNull(this.session)&&(this.session=a.a),e.isNull(this.units))throw new Error("You must pass a VideoUnitsCollection when creating PlayerFullscreenControls")},initializeButtons:function(){this.units.previousSession(this.session)||this.$el.find(".prev-video").addClass("disabled"),this.units.nextSession(this.session)||this.$el.find(".next-video").addClass("disabled")},onClickNextVideo:function(e){n(e.target).hasClass("disabled")||this.trigger("video:player:fullscreenControls:nextClick")},onClickPreviousVideo:function(e){n(e.target).hasClass("disabled")||this.trigger("video:player:fullscreenControls:prevClick")}});t.a=l}).call(this,i(51),i(48))},function(e,t){e.exports="<span>\n    <div class='next-video ss-icon-next-video'></div>\n    <div class='prev-video ss-icon-next-video'></div>\n</span>\n"},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1147),a=i(1181),o=i(1258),r=n.a.extend({className:"video-playlist-module",units:null,unitItemView:null,unitsCollectionView:null,events:{"click .view-my-notes":"onViewMyNotesClick"},initialize:function(t){e.extend(this,e.pick(t,["units","unitItemView"])),this.initializeUnits(),this.initializeUnitItemView(),this.initializeUnitsCollectionView(),n.a.prototype.initialize.apply(this,arguments)},initializeUnits:function(){e.isNull(this.units)&&(this.units=s.a)},initializeUnitItemView:function(){e.isNull(this.unitItemView)&&(this.unitItemView=a.a)},initializeUnitsCollectionView:function(){this.unitsCollectionView=new o.a({el:this.$(".unit-list"),collection:this.units,itemView:this.unitItemView}),this.listenTo(this.unitsCollectionView,"click:session",this.onSessionClick),this.listenTo(this.unitsCollectionView,"click:viewNotes",this.onViewNotesClick),this.listenTo(this.unitsCollectionView,"change:playbackState",this.onPlaybackStateChange),this.listenTo(this.unitsCollectionView,"video:complete",this.onVideoComplete)},onViewMyNotesClick:function(){this.trigger("video:playlist:viewMyNotesClick")},onSessionClick:function(e){this.trigger("video:playlist:sessionClick",e.session)},onViewNotesClick:function(e){this.trigger("video:playlist:viewNotesClick",e)},onPlaybackStateChange:function(e){this.trigger("video:playlist:playbackStateChange",e.session)},onVideoComplete:function(e){this.trigger("video:playlist:videoComplete",{videoIndex:e.videoIndex,session:e.session})}});t.a=r}).call(this,i(51))},function(e,t){e.exports='<ul class="session-list">\n    {{#sessions}}\n        <li class="session-item{{#firstRank}} first{{/firstRank}}">\n            {{> items/video-player-session-item}}\n        </li>\n    {{/sessions}}\n</ul>\n'},function(e,t,i){"use strict";(function(e){var n=i(448),s=i(1254),a=n.a.extend({itemView:s.a,initialize:function(t){n.a.prototype.initialize.apply(this,arguments),e.extend(this,e.pick(t,["unitsCollectionView"])),e.bindAll(this,"onSessionClick","onPlaybackStateChange","onVideoComplete"),this.on("click:session",this.onSessionClick),this.on("change:playbackState",this.onPlaybackStateChange),this.listenTo(this,"click:viewNotes",this.onViewNotes),this.on("video:complete",this.onVideoComplete)},onSessionClick:function(e){this.unitsCollectionView.trigger("click:session",{session:e.session})},onViewNotes:function(e){this.unitsCollectionView.trigger("click:viewNotes",e)},onPlaybackStateChange:function(e){this.unitsCollectionView.trigger("change:playbackState",{session:e.session})},onVideoComplete:function(e){this.unitsCollectionView.trigger("video:complete",{videoIndex:e.videoIndex,session:e.session})}});t.a=a}).call(this,i(51))},function(e,t,i){"use strict";(function(e,n){i(133),i(264),i(96),i(470);var s=i(57),a=i(1255),o=i(300),r=i(301),l=i(1256),c=i.n(l),d=i(1257),h=i.n(d),u=i(189),p=i.n(u),v=s.a.extend({template:h.a,tagName:"li",className:"session-item",playbackStates:{PAUSED:0,PLAYING:1,ENDED:3},templatePartials:{"modules/video-player/_view-notes":c.a},templateData:function(){return e.extend({userIsGuest:SS.currentUser.isGuest()},this.model.attributes)},events:{click:"onClick","click .js-playback-control-container":"onClickPlaybackControl","click .view-notes.active-note":"onViewNotes"},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),this.model.view=this,this.model.set("playbackState",this.playbackStates.PAUSED),this.listenTo(this.model,"change:playbackState",this.onChangePlaybackState),this.listenTo(this.model,"shouldComplete",this.completeVideo),this.listenTo(this.model,"new:note",this.incrementNoteCount),this.listenTo(this.model,"destroyed:note",this.decrementNoteCount),0===this.model.get("rank")&&this.$el.addClass("first"),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.listenTo(this.model.completion,"change:completed",this.onCompleteVideoChange),new a.a({anchor:this.$(".attachments-popover-button"),el:this.$(".attachments-popover"),autoPosition:!1}),this.$viewNotesWrapper=this.$(".view-notes-wrapper"),this.$("[data-toggle='tooltip']").tooltip(),this.update()},onClick:function(){this.collectionView.trigger("click:session",{session:this.model})},onClickPlaybackControl:function(e){var t;e.stopPropagation();var i=this.model.get("playbackState");t=i===this.playbackStates.PLAYING?this.playbackStates.PAUSED:i===this.playbackStates.PAUSED?this.playbackStates.PLAYING:this.playbackStates.ENDED,this.$el.addClass("active"),this.model.set("playbackState",t),this.collectionView.trigger("change:playbackState",{session:this.model})},onViewNotes:function(e){e.stopPropagation(),this.collectionView.trigger("click:viewNotes",this.model)},onChangePlaybackState:function(){this.update()},incrementNoteCount:function(){var e=parseInt(this.$(".view-notes").html(),0),t=e?e+1:1;this.updateNoteCount(t)},decrementNoteCount:function(){var e=parseInt(this.$(".view-notes").html(),0),t=e?e-1:0;this.updateNoteCount(t)},updateNoteCount:function(e){if(e<1)this.$viewNotesWrapper.empty();else{var t=p.a.render(c.a,{totalNumNotes:e});this.$viewNotesWrapper.html(t),o.a.initNewTooltips(this)}},update:function(){var e=this.$(".js-playback-icon"),t=this.model.get("playbackState");e.removeClass((function(e,t){return(t.match(/\bss-icon-\S+/g)||[]).join(" ")}));var i="#play";this.model.get("premiumAndLocked")?i="#locked":t===this.playbackStates.PLAYING&&(i="#pause"),e.find("use").attr("xlink:href",i)},showRecommendBoxIfPossible:function(){for(var e=0,t=0,i=this.model.unit.collection.length,s=this.model,a=Object(r.a)(SS,"serverBootstrap","premiumUpgradeData","isFree"),o=0;o<i;o++)for(var l=this.model.unit.collection.models[o],c=l.sessions.models.length,d=0;d<c;d++){var h=l.sessions.models[d];e++,s.id===h.id&&(t=e)}var u=t>e/2||1===e;3!==t||a||n(".leave-a-review-popup-btn").removeClass("disabled").addClass("mute-popover");var p=!0,v=n.cookie("show_recommend_box");v&&(p="true"===v),u&&p&&n(".js-recommend-class-box").css("visibility","inherit").show("slow")},completeVideo:function(){this.model.completion.set("completed",!0)},onCompleteVideoChange:function(){this.showRecommendBoxIfPossible(),this.$(".playback-control-wrapper").addClass("session-is-complete"),this.$(".js-completion-button").addClass("completed"),this.collectionView.trigger("video:complete",{videoIndex:this.model.get("rank"),session:this.model})}});t.a=v}).call(this,i(51),i(48))},function(e,t,i){"use strict";var n=i(300),s=i(145),a=s.a.extend({autoPosition:!1,events:{"click .attachment-link":"onAttachmentClick"},afterRender:function(){n.a.initRestrictedAccessHandlers(this),s.a.prototype.afterRender.apply(this,arguments)},onAttachmentClick:function(e){e.stopPropagation()}});t.a=a},function(e,t){e.exports='{{#totalNumNotes}}\n    <div class="ss-icon-notes-pin view-notes active-note" rel="tooltip" title="View Notes">{{totalNumNotes}}</div>\n    <div class="ss-icon-notes-pin view-notes inactive-note">{{totalNumNotes}}</div>\n{{/totalNumNotes}}\n'},function(e,t){e.exports='<div class="selection clear playback-control-container js-playback-control-container">\n    <div class="section playback-control-wrapper {{#sessionCompletion}}session-is-complete{{/sessionCompletion}} {{#premiumAndLocked}} premium-locked {{/premiumAndLocked}}">\n        {{#premiumAndLocked}} <svg class="ss-svg-icon lock-button"><use xlink:href="#locked" /></svg> {{/premiumAndLocked}}\n        <div class="playback-control js-playback-icon">\n            {{^premiumAndLocked}}\n                <svg class="ss-svg-icon"><use xlink:href="#play" /></svg>\n            {{/premiumAndLocked}}\n        </div>\n        <div class="section js-completion-button completion-button" data-rank="{{ displayRank }}">\n            <svg class="ss-svg-icon session-item-check-icon"><use xlink:href="#success" /></svg>\n        </div>\n    </div>\n\n    <div class="section information" {{#isLongTitle}} rel="tooltip" data-toggle="tooltip" data-title="{{title}} {{/isLongTitle}}">\n        <h3 class="session-item-title" data-rank="{{ displayRank }}">\n            <span class="session-item-title-rank">{{ displayRank }}.</span> {{title}}\n        </h3>\n        {{#showInformation}}\n            <div class="attachments-popover-button icon-attach">\n                <div class="attachments-popover popover shadow dark">\n                    <div class="inner-popover">\n                        <div class="arrow"></div>\n                        <div class="content">\n                            {{#attachments}}\n                                {{#userIsGuest}}\n                                    <div class="attachment icon-attach">\n                                        <a data-ss-restrict="signup">{{title}}</a>\n                                    </div>\n                                {{/userIsGuest}}\n                                {{^userIsGuest}}\n                                    <div class="attachment icon-attach">\n                                        {{^url}}{{title}}{{/url}}\n                                        {{#url}}<a href="{{url}}" class="attachment-link" target="_blank" rel="noreferrer">{{title}}</a>{{/url}}\n                                    </div>\n                                {{/userIsGuest}}\n                            {{/attachments}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        {{/showInformation}}\n    </div>\n    <div class="duration">{{videoLength}}</div>\n</div>\n'},function(e,t,i){"use strict";var n=i(448),s=i(1181),a=n.a.extend({itemView:s.a,initialize:function(){n.a.prototype.initialize.apply(this,arguments)}});t.a=a},function(e,t,i){"use strict";(function(e){var n=i(300),s=i(1099),a=i(1260),o=i.n(a),r=s.a.extend({className:"video-roll-overlay video-roll-overlay-upgrade",template:o.a,initialize:function(){e.extend(this,this.options),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){n.a.initRestrictedAccessHandlers(this),s.a.prototype.afterRender.apply(this,arguments)}});t.a=r}).call(this,i(51))},function(e,t){e.exports='<div class="outer-wrapper">\n    <div class="inner-wrapper">\n        <div class="inner-content">\n            <p class="roll-title">{{headerText}}</p>\n            {{#ctaButtonText}}\n                {{#classIsFreeToTake}}\n                    <a class="button primary large wide" href="javascript:;" data-ss-restrict="signup">{{ctaButtonText}}</a>\n                {{/classIsFreeToTake}}\n                {{^classIsFreeToTake}}\n                    <a class="button primary large wide" href="{{checkoutUrl}}" rel="nofollow">{{ctaButtonText}}</a>\n                {{/classIsFreeToTake}}\n            {{/ctaButtonText}}\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e){i(186),i(657),i(24),i(118);var n=i(0),s=i.n(n),a=i(28),o=i.n(a),r=i(120),l=i(49),c=i(1355),d=i(981),h=i(1099),u=i(301),p=i(296),v=i(1263),m=i.n(v),f=h.a.extend({className:"video-roll-overlay premium-end-card",templateData:function(){return{isAffiliateReferrer:Object(u.a)(SS,"serverBootstrap","pageData","userIsAffiliateReferrer")}},template:m.a,renderPremiumEndCard:function(){var t,i,n;if(!(null===(t=SS)||void 0===t||null===(i=t.serverBootstrap)||void 0===i||null===(n=i.pageData)||void 0===n?void 0:n.isMobileWeb)){var a=this.getClassCardData(),d=SS.EventTracker.trackingCallback(),h=e.cookie("YII_CSRF_TOKEN"),u=a.slice(0,2);o.a.render(s.a.createElement(r.a,null,s.a.createElement(l.h,{cookies:{YII_CSRF_TOKEN:h}},s.a.createElement(l.l,{trackEventHandler:d},s.a.createElement(p.a,{locale:"en"},s.a.createElement(c.a,{header:"Congratulations on finishing your class!",subheader:"Try one of these classes next:",classesList:u,via:"premium-end-card"}))))),this.$(".js-class-end").get(0))}},getClassCardData:function(){return SS.serverBootstrap.pageData.aboutData.relatedClasses.list.map((function(e){var t=[];return e.isStaffPick?t.push({type:"STAFF_PICK"}):e.isSkillshareOriginal&&t.push({type:"ORIGINAL"}),{id:e.id.toString(),sku:e.sku.toString(),title:e.title,url:e.url,studentCount:e.numStudents,largeCoverUrl:e.image,teacher:{name:e.teacher.fullName,username:e.teacher.username,vanityUsername:e.teacher.vanityUsername},hideSave:!0,badges:t,durationInSeconds:e.totalSecondsDuration,renderSignupView:SS.currentUser.isGuest()?d.a.renderSignupView.bind(d.a):void 0,fetchLists:d.a.fetchListItems.bind(d.a),onClickListItem:d.a.onClickListItem.bind(d.a),onCreateNewList:d.a.onCreateNewList.bind(d.a),viewer:{hasSaved:!!e.wishlistId}}}))},afterRender:function(){this.renderPremiumEndCard(),h.a.prototype.afterRender.apply(this,arguments)}});t.a=f}).call(this,i(48))},function(e,t,i){var n;"undefined"!=typeof self&&self,e.exports=(n=i(0),function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t){e.exports=n},function(e,t,i){"use strict";var n={linear:function(e,t,i,n){return(i-t)*e/n+t},easeInQuad:function(e,t,i,n){return(i-t)*(e/=n)*e+t},easeOutQuad:function(e,t,i,n){return-(i-t)*(e/=n)*(e-2)+t},easeInOutQuad:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,n){return(i-t)*(e/=n)*e*e+t},easeOutCubic:function(e,t,i,n){return(i-t)*((e=e/n-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,n){return(i-t)*(e/=n)*e*e*e+t},easeOutQuart:function(e,t,i,n){return-(i-t)*((e=e/n-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?s/2*e*e*e*e+t:-s/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,n){return(i-t)*(e/=n)*e*e*e*e+t},easeOutQuint:function(e,t,i,n){return(i-t)*((e=e/n-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?s/2*e*e*e*e*e+t:s/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,n){var s=i-t;return-s*Math.cos(e/n*(Math.PI/2))+s+t},easeOutSine:function(e,t,i,n){return(i-t)*Math.sin(e/n*(Math.PI/2))+t},easeInOutSine:function(e,t,i,n){return-(i-t)/2*(Math.cos(Math.PI*e/n)-1)+t},easeInExpo:function(e,t,i,n){return 0==e?t:(i-t)*Math.pow(2,10*(e/n-1))+t},easeOutExpo:function(e,t,i,n){var s=i-t;return e==n?t+s:s*(1-Math.pow(2,-10*e/n))+t},easeInOutExpo:function(e,t,i,n){var s=i-t;return 0===e?t:e===n?t+s:(e/=n/2)<1?s/2*Math.pow(2,10*(e-1))+t:s/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,i,n){return-(i-t)*(Math.sqrt(1-(e/=n)*e)-1)+t},easeOutCirc:function(e,t,i,n){return(i-t)*Math.sqrt(1-(e=e/n-1)*e)+t},easeInOutCirc:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+t:s/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,n){var s,a,o,r=i-t;return o=1.70158,0===e?t:1==(e/=n)?t+r:((a=0)||(a=.3*n),(s=r)<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),-s*Math.pow(2,10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/a)+t)},easeOutElastic:function(e,t,i,n){var s,a,o,r=i-t;return o=1.70158,0===e?t:1==(e/=n)?t+r:((a=0)||(a=.3*n),(s=r)<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*e)*Math.sin((e*n-o)*(2*Math.PI)/a)+r+t)},easeInOutElastic:function(e,t,i,n){var s,a,o,r=i-t;return o=1.70158,0===e?t:2==(e/=n/2)?t+r:((a=0)||(a=n*(.3*1.5)),(s=r)<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/a)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/a)*.5+r+t)},easeInBack:function(e,t,i,n,s){return void 0===s&&(s=1.70158),(i-t)*(e/=n)*e*((s+1)*e-s)+t},easeOutBack:function(e,t,i,n,s){return void 0===s&&(s=1.70158),(i-t)*((e=e/n-1)*e*((s+1)*e+s)+1)+t},easeInOutBack:function(e,t,i,n,s){var a=i-t;return void 0===s&&(s=1.70158),(e/=n/2)<1?a/2*(e*e*((1+(s*=1.525))*e-s))+t:a/2*((e-=2)*e*((1+(s*=1.525))*e+s)+2)+t},easeInBounce:function(e,t,i,s){var a=i-t;return a-n.easeOutBounce(s-e,0,a,s)+t},easeOutBounce:function(e,t,i,n){var s=i-t;return(e/=n)<1/2.75?s*(7.5625*e*e)+t:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+t:s*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,i,s){var a=i-t;return e<s/2?.5*n.easeInBounce(2*e,0,a,s)+t:.5*n.easeOutBounce(2*e-s,0,a,s)+.5*a+t}};e.exports=n},function(e,t,i){e.exports=i(3)},function(e,t,i){"use strict";i.r(t),i.d(t,"ReactConfetti",(function(){return M}));var n,s,a=i(0),o=i.n(a),r=i(1),l=i.n(r);function c(e,t){return e+Math.random()*(t-e)}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(n||(n={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(s||(s={}));var u=function(){function e(t,i,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"context",void 0),h(this,"radius",void 0),h(this,"x",void 0),h(this,"y",void 0),h(this,"w",void 0),h(this,"h",void 0),h(this,"vx",void 0),h(this,"vy",void 0),h(this,"shape",void 0),h(this,"angle",void 0),h(this,"angularSpin",void 0),h(this,"color",void 0),h(this,"rotateY",void 0),h(this,"rotationDirection",void 0),h(this,"getOptions",void 0),this.getOptions=i;var o=this.getOptions(),r=o.colors,l=o.initialVelocityX,d=o.initialVelocityY;this.context=t,this.x=n,this.y=a,this.w=c(5,20),this.h=c(5,20),this.radius=c(5,10),this.vx="number"==typeof l?c(-l,l):c(l.min,l.max),this.vy="number"==typeof d?c(-d,0):c(d.min,d.max),this.shape=Math.floor(0+3*Math.random()),this.angle=c(0,360)*Math.PI/180,this.angularSpin=c(-.2,.2),this.color=r[Math.floor(Math.random()*r.length)],this.rotateY=c(0,1),this.rotationDirection=c(0,1)?s.Positive:s.Negative}var t,i;return t=e,(i=[{key:"update",value:function(){var e=this.getOptions(),t=e.gravity,i=e.wind,a=e.friction,o=e.opacity,r=e.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=i,this.vx*=a,this.vy*=a,this.rotateY>=1&&this.rotationDirection===s.Positive?this.rotationDirection=s.Negative:this.rotateY<=-1&&this.rotationDirection===s.Negative&&(this.rotationDirection=s.Positive);var l=.1*this.rotationDirection;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,r&&"function"==typeof r)r.call(this,this.context);else switch(this.shape){case n.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case n.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case n.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&d(t.prototype,i),e}();function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var v=function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"canvas",void 0),p(this,"context",void 0),p(this,"getOptions",void 0),p(this,"x",0),p(this,"y",0),p(this,"w",0),p(this,"h",0),p(this,"lastNumberOfPieces",0),p(this,"tweenInitTime",Date.now()),p(this,"particles",[]),p(this,"particlesGenerated",0),p(this,"removeParticleAt",(function(e){n.particles.splice(e,1)})),p(this,"getParticle",(function(){var e=c(n.x,n.w+n.x),t=c(n.y,n.h+n.y);return new u(n.context,n.getOptions,e,t)})),p(this,"animate",(function(){var e=n.canvas,t=n.context,i=n.particlesGenerated,s=n.lastNumberOfPieces,a=n.getOptions(),o=a.run,r=a.recycle,l=a.numberOfPieces,c=a.debug,d=a.tweenFunction,h=a.tweenDuration;if(!o)return!1;var u=n.particles.length,p=r?u:i,v=Date.now();if(p<l){s!==l&&(n.tweenInitTime=v,n.lastNumberOfPieces=l);for(var m=n.tweenInitTime,f=d(v-m>h?h:Math.max(0,v-m),p,l,h),g=Math.round(f-p),y=0;y<g;y++)n.particles.push(n.getParticle());n.particlesGenerated+=g}return c&&(t.font="12px sans-serif",t.fillStyle="#333",t.textAlign="right",t.fillText("Particles: ".concat(u),e.width-10,e.height-20)),n.particles.forEach((function(t,i){t.update(),(t.y>e.height||t.y<-100||t.x>e.width+100||t.x<-100)&&(r&&p<=l?n.particles[i]=n.getParticle():n.removeParticleAt(i))})),u>0||p<l})),this.canvas=t;var s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.getOptions=i};function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:l.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},w=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"canvas",void 0),y(this,"context",void 0),y(this,"_options",void 0),y(this,"generator",void 0),y(this,"rafId",void 0),y(this,"setOptionsWithDefaults",(function(e){var t={confettiSource:{x:0,y:0,w:n.canvas.width,h:0}};n._options=f(f(f({},t),b),e),Object.assign(n,e.confettiSource)})),y(this,"update",(function(){var e=n.options,t=e.run,i=e.onConfettiComplete,s=n.canvas,a=n.context;t&&(a.fillStyle="white",a.clearRect(0,0,s.width,s.height)),n.generator.animate()?n.rafId=requestAnimationFrame(n.update):(i&&"function"==typeof i&&n.generator.particlesGenerated>0&&i.call(n,n),n._options.run=!1)})),y(this,"reset",(function(){n.generator&&n.generator.particlesGenerated>0&&(n.generator.particlesGenerated=0,n.generator.particles=[],n.generator.lastNumberOfPieces=0)})),y(this,"stop",(function(){n.options={run:!1},n.rafId&&(cancelAnimationFrame(n.rafId),n.rafId=void 0)})),this.canvas=t;var s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.generator=new v(this.canvas,(function(){return n.options})),this.options=i,this.update()}var t,i;return t=e,(i=[{key:"options",get:function(){return this._options},set:function(e){var t=this._options&&this._options.run,i=this._options&&this._options.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===i&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===t&&this.update()}}])&&g(t.prototype,i),e}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){L(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function T(e,t){if(e){if("string"==typeof e)return x(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var N=o.a.createRef(),$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,e);var t,i,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=I(e);if(t){var s=I(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return D(this,i)}}(s);function s(e){var t;E(this,s);for(var i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];return L(O(t=n.call.apply(n,[this,e].concat(a))),"canvas",o.a.createRef()),L(O(t),"confetti",void 0),t.canvas=e.canvasRef||N,t}return t=s,(i=[{key:"componentDidMount",value:function(){if(this.canvas.current){var e=R(this.props)[0];this.confetti=new w(this.canvas.current,e)}}},{key:"componentDidUpdate",value:function(){var e=R(this.props)[0];this.confetti&&(this.confetti.options=e)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(R(this.props),2),t=e[0],i=e[1],n=P({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},i.style);return o.a.createElement("canvas",k({width:t.width,height:t.height,ref:this.canvas},i,{style:n}))}}])&&_(t.prototype,i),s}(a.Component);function R(e){var t={},i={},n=[].concat(function(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object.keys(b)),["confettiSource","drawShape","onConfettiComplete"]),s=["canvasRef"];for(var a in e){var o=e[a];n.includes(a)?t[a]=o:s.includes(a)?s[a]=o:i[a]=o}return[t,i,{}]}L($,"defaultProps",P({},b)),L($,"displayName","ReactConfetti");var M=o.a.forwardRef((function(e,t){return o.a.createElement($,k({canvasRef:t},e))}));t.default=M}]).default)},function(e,t){e.exports='<div class="outer-wrapper">\n    <div class="inner-wrapper">\n        <div class="top-section">\n            <p class="roll-title only-section">Congrats! You\'ve finished all of the lessons.</p>\n            <p class="roll-subtitle">Share this class and earn {{#isAffiliateReferrer}}$10{{/isAffiliateReferrer}}{{^isAffiliateReferrer}}a free month{{/isAffiliateReferrer}} for each friend who signs up.</p>\n            <div class="social-share-buttons-wrapper">\n                {{> shared/_social-share-buttons}}\n            </div>\n        </div>\n    </div>\n    <div class="js-class-end"></div>\n</div>\n'},function(e,t){e.exports='<textarea class="note-body disabled" placeholder="Add a note..." disabled></textarea>\n<div class="note-submission">\n    <select class="note-privacy-status small">\n        <option value="1">Public</option>\n        <option value="0">Only Me</option>\n    </select>\n    <div class="post-button btn small primary disabled">Post</div>\n    <div class="post-at"{{^hasVideoTime}} style="display: none;"{{/hasVideoTime}}>Post at <span class="post-at-time"></span></div>\n</div>\n'},function(e,t,i){"use strict";(function(e){i(299);var n=i(208),s=i(1095),a=i(1077),o=i(1266),r=i(1271),l=i.n(r),c=n.a.extend({className:"my-notes-popup",centerVertically:!1,template:l.a,templateData:function(){return this.parentClass.attributes},initialize:function(t){if(e.extend(this,e.pick(t,["parentClass","sessions"])),!this.parentClass)throw new Error("A parentClass model is required for this view.");if(!this.sessions)throw new Error("A sessions collection is required for this view.");this.notes=new s.a([]),this.listenTo(this.notes,"sync",this.onNotesFetch),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.notes.fetch({data:{user_uid:SS.currentUser.id,parent_class_id:this.parentClass.id}})},onNotesFetch:function(){if(this.$(".icon-loading").removeClass("icon-loading"),0!==this.notes.length){var e=this;this.sessions.each((function(t){var i=e.notes.where({session_id:t.id});t.notes=new s.a(i,{comparator:"video_time"}),t.notes.each((function(e){e.session=t})),t.set("rank",t.get("overallRank")),e.listenTo(t.notes,"remove",e.onNoteRemove),e.listenTo(t.notes,"change",e.onNoteChange)}));var t=this.sessions.filter((function(e){return e.notes.length>0})),i=new a.a(t),n=new o.a({el:this.$(".learn-mode-sessions-collection-wrapper"),collection:i});this.listenTo(n,"click:videoTime",this.onVideoTime)}else this.$(".empty-area").show()},onNoteRemove:function(e){this.trigger("remove:myNotes",e)},onNoteChange:function(e){this.trigger("change:myNotes",e)},onVideoTime:function(e){this.trigger("click:videoTime",e),this.closePopup()}});t.a=c}).call(this,i(51))},function(e,t,i){"use strict";var n=i(448),s=i(1267),a=n.a.extend({className:"learn-mode-sessions",itemView:s.a});t.a=a},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1222),a=i(358),o=i(1270),r=i.n(o),l=n.a.extend({className:"learn-mode-session",template:r.a,templateData:function(){return e.extend({},this.model.attributes,{numNotesString:a.a.pluralize(this.model.notes.length,"Note")})},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments);var e=new s.a({el:this.$(".learn-mode-notes-collection-wrapper"),collection:this.model.notes});this.listenTo(e,"click:videoTime",this.onVideoTime),this.listenTo(this.model.notes,"remove",this.onNoteRemove)},onNoteRemove:function(){0===this.model.notes.length&&this.remove()},onVideoTime:function(e){this.collectionView.trigger("click:videoTime",e)}});t.a=l}).call(this,i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(57),a=i(1179),o=i(1180),r=i(1029),l=i(996),c=i(965),d=i(941),h=i(1269),u=i.n(h),p=s.a.extend({className:"learn-mode-note",template:u.a,templateData:function(){return e.extend({},this.model.attributes,{formattedBody:l.a.addHTMLLineBreaks(String(this.model.get("body"))),formattedVideoTime:c.a.getTimeFromSeconds(this.model.get("video_time")),isGuest:SS.currentUser.isGuest()})},events:{"click .video-time":"onVideoTime","click .make-private":"onMakePrivate","click .edit-button":"onEdit"},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),this.listenTo(this.model,"highlight",this.scrollTo),this.listenTo(this.model,"change",this.render),e.extend(this,a.a),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){var t=this;d.a.initUserPopovers(this);var i=new r.a({message:"Delete this note?",confirmButtonText:"Delete",anchor:this.$(".delete-button")});this.listenTo(i,"confirm",this.destroy),this.initializeLikeButton(),this.listenTo(this.likeButtonView,"save",(function(i){t.model.set("userVote",e.pick(i.changed,["id","value"]))})),s.a.prototype.afterRender.apply(this,arguments)},onVideoTime:function(){this.collectionView.trigger("click:videoTime",this.model)},onEdit:function(){this.$(".note-static").hide(),this.noteEditForm=new o.a({initialModel:this.model,container:this.$(".note-edit-form-wrapper")}),this.listenTo(this.noteEditForm,"cancel",this.render)},destroy:function(){this.model.destroy()},scrollTo:function(){var t=this;this.$el.addClass("highlight"),e.delay((function(){t.$el.removeClass("highlight")}),2e3);var i=this.$el.position().top;n("html body").animate({scrollTop:i},400)},onMakePrivate:function(){this.model.save({privacy_status:0}).success(this.onMakePrivateSuccess)},onMakePrivateSuccess:function(e){e.collection.remove(e)}});t.a=p}).call(this,i(51),i(48))},function(e,t){e.exports='<div class="learn-mode-note-inner clear">\n    <a href="javascript:;" class="video-time left alternate">{{formattedVideoTime}}</a>\n    {{^privacy_status}}\n        <span class="privacy-status ss-icon-lock">Only Me</span>\n    {{/privacy_status}}\n    <div class="note-content">\n        <div class="note-author">\n            <a href="{{author.url}}">\n                <img src="{{author.image}}" class="author-image user-img-20" data-ss-username="{{author.username}}" />\n            </a>\n            <a href="{{author.url}}" class="author-name link-main" data-ss-username="{{author.username}}">{{author.fullName}}</a>\n        </div>\n        <div class="note-static">\n            <div class="note-body">{{{formattedBody}}}</div>\n            <div class="footer right">\n                <span class="ss-icon-heart note-stat note-stat-likes{{#userVote}}{{#value}} liked{{/value}}{{/userVote}}"{{^numLikes}} style="display: none;"{{/numLikes}}>{{numLikes}}</span>\n            </div>\n            <div class="footer">\n                {{^isGuest}}\n                    <a href="javascript:;" class="note-like alternate">Like</a>\n                {{/isGuest}}\n                {{#canModify}}\n                    <span class="middot">&middot;</span>\n                    <a href="javascript:;" class="edit-button alternate">Edit</a>\n                    <span class="middot">&middot;</span>\n                    <a href="javascript:;" class="delete-button alternate">Delete</a>\n                {{/canModify}}\n                {{#canMakePrivate}}\n                    <span class="middot">&middot;</span>\n                    <a href="javascript:;" class="make-private alternate">Make Private</a>\n                {{/canMakePrivate}}\n\n            </div>\n        </div>\n        {{#canModify}}\n            <div class="note-edit-form-wrapper"></div>\n        {{/canModify}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="session-info">\n    <h4 class="session-title">{{title}}</h4><span class="num-notes ss-icon-notes-pin">{{numNotesString}}</span>\n</div>\n<div class="learn-mode-notes-collection-wrapper"></div>\n'},function(e,t){e.exports='<a href="javascript:;" class="btn-close ss-icon-close"></a>\n<h4 class="popup-title">My Notes in {{title}}</h4>\n<div class="learn-mode-sessions-collection-wrapper icon-loading"></div>\n<div class="empty-area">You have no notes in this class.</div>\n'},function(e,t){e.exports='{{#subscriptionEnrollUrl}}<a href="{{subscriptionEnrollUrl}}" rel="nofollow" class="locked-enroll-button" {{#restrict}} data-ss-restrict="{{restrict}}" data-ss-redirect="{{subscriptionEnrollUrl}}"{{/restrict}}>{{/subscriptionEnrollUrl}}\n    {{> modules/_video-player-cta}}\n{{#subscriptionEnrollUrl}}</a>{{/subscriptionEnrollUrl}}\n\n'},function(e,t){e.exports='<div class="video-image" style="background-image: url(\'{{video_mid_thumbnail_url}}\')">\n    <div class="cta ss-icon-play {{enrollForFree}}">\n        <div class="ss-button-text">{{buttonText}}</div>\n    </div>\n</div>\n'},function(e,t){e.exports='\x3c!-- Student Project --\x3e\n{{#userProject}}\n    {{#hasProject}}\n        <div class="student-project{{#columnSize}} col-{{columnSize}}{{/columnSize}}">\n                <div class="project-column">\n                    <a href="{{url}}" class="image-link section-navigation">\n                        <div class="project-information">\n                            <span class="count num-likes ss-icon-heart">{{numLikes}}</span>\n                        </div>\n                        <div class="background-image-holder" style="background-image: url({{projectImage}})"></div>\n                    </a>\n                    <a class="edit-project section-navigation" href="{{editUrl}}"><strong>Edit Your Project</strong></a>\n                </div>\n        </div>\n    {{/hasProject}}\n{{/userProject}}\n'},function(e,t){e.exports='<a href="javascript:;" class="btn-close ss-icon-close"></a>\n<h4 class="popup-title">Report this Class</h4>\n<p class="popup-description">Flagged content is reviewed by Skillshare staff to determine whether it violates our <a target="_blank" rel="noreferrer" href="https://help.skillshare.com/hc/en-us/articles/205220897-What-are-Skillshare-s-Class-Guidelines-">guidelines</a>. If you have a question or technical issue, please contact our Support team <a target="_blank" rel="noreferrer" href="https://help.skillshare.com/hc/en-us/requests/new">here</a>. </p>\n<form class="submit-a-report-form" method="POST">\n      <label class="popup-subtitle">Why do you want to report this class?</label>\n        <ul class="infraction-type-list">\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type1" name="infraction" value="1"><label for="infraction-type1">This class includes illegal, hateful, explicit, or violent content</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type2" name="infraction" value="2"><label for="infraction-type2">This class promotes fraudulent or dubious business schemes</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type3" name="infraction" value="3"><label for="infraction-type3">This class uses Skillshare as a proxy to advertise another website or service</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type4" name="infraction" value="4"><label for="infraction-type4">Content from this class is stolen or otherwise does not originate with the teacher</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type5" name="infraction" value="5"><label for="infraction-type5">This class contains poor audio or visual quality</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type6" name="infraction" value="6"><label for="infraction-type6">This class does not teach a real or useful skill</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type7" name="infraction" value="7"><label for="infraction-type7">Other</label></li>\n        </ul>\n      <p class="error-message">You must select a reason to submit a report</p>\n      <p class="text-required-error">Please use the comment box below to explain your issue</p>\n    <fieldset>\n        <label>Share more details to help us identify the violation: <span class="optional">(Optional)</span></label>\n        <div class="fields">\n            <textarea class="abuse-flag-info" name="abuse-flag-info"></textarea>\n        </div>\n    </fieldset>\n    <fieldset>\n        <input type="submit" class="submit-report-button btn small primary" value="Submit Report" />\n    </fieldset>\n</form>\n'},function(e,t,i){"use strict";(function(e,n,s){i(27),i(45),i(297),i(133),i(188),i(302),i(96),i(187);var a=i(145),o=i(1030),r=i(988),l=i(976),c=i(1049),d=i(1119),h=i(1120),u=i(1073),p=i(1138),v=i(1139),m=i(1277),f=i(945),g=i(303),y=i(1281),b=i.n(y),w=o.a.extend({COLLECTION_TYPE_NEW:1,COLLECTION_TYPE_ARCHIVE:2,template:b.a,events:{"click .sort-order a":"onChangeSortMethod","click .load-more":"onLoadMore","click .enabled-expectation":"onExpectationSort","click .leave-a-review-popup-btn":"onLeaveAReviewClick"},setReviewsData:function(){this.setLevel(),this.setPercentages(),this.initReviewsTooltipPopover(),this.initReviewsCollection(),this.setTagCounts(),this.parentClass=new r.a(SS.serverBootstrap.classData),this.bindEvents(),this.autoDisplayForm(this.model.get("autoDisplayReviewForm")),this.maybeBringArchivesIntoView()},afterPreRender:function(){this.afterRender()},afterRender:function(){this.leaveAReviewButton=this.$(".leave-a-review-popup-btn"),this.tagData=[],this.levels=["none","beginner","intermediate","advanced","all","beg-int","int-adv"],this.aggregateReviewsData=this.model.get("aggregateReviewsData"),this.setReviewsData(),o.a.prototype.afterRender.apply(this,arguments)},autoDisplayForm:function(e){e&&(this.$(".js-primary-reviews-btn").trigger("click"),this.model.set("autoDisplayReviewForm",!1))},bindEvents:function(){e.bindAll(this,"onLeaveAReviewBtnClick"),this.$(".leave-a-review-popup-btn").on("click",this.onLeaveAReviewBtnClick)},setTagCounts:function(){for(var e in this.aggregateReviewsData.tagCounts)this.tagData.push({count:this.aggregateReviewsData.tagCounts[e].value,name:this.aggregateReviewsData.tagCounts[e].name})},initReviewsCollection:function(){this.reviewsCollection=new d.a(this.model.get("reviews")),this.reviewsCollectionView=new p.a({collection:this.reviewsCollection,el:this.$(".new-reviews")}),this.model.get("reviewsEmpty")&&this.$(".empty-reviews").addClass("show"),this.archiveReviewsCollection=new h.a(this.model.get("archiveReviews"));var e=this.model.attributes.loadMoreUrl;this.reviewsCollection.url=e,this.archiveReviewsCollection.url=e,this.reviewsArchiveCollectionView=new v.a({collection:this.archiveReviewsCollection,el:this.$(".archive-reviews")}),this.listenTo(this.reviewsCollection,"update",this.updateLoadMoreReviews),this.listenTo(this.archiveReviewsCollection,"update",this.updateLoadMoreArchiveReviews),this.model.get("aggregateReviewsData")&&(this.setupTabs(),this.updateMetricsSection())},updateLoadMoreReviews:function(){!1===this.reviewsCollection.loadMoreReviews&&(this.$(".new-reviews-load-more").hide(),this.maybeBringArchivesIntoView(!1))},maybeBringArchivesIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.model.get("loadMoreReviews"),t=this.model.get("numArchiveReviews");!e&&t&&this.bringArchivesIntoView()},bringArchivesIntoView:function(){this.$(".js-archive-container").removeClass("hide");var e={collectionType:this.COLLECTION_TYPE_ARCHIVE};this.getMoreReviews(this.archiveReviewsCollection,e)},updateLoadMoreArchiveReviews:function(){!1===this.archiveReviewsCollection.loadMoreArchiveReviews&&this.$(".archive-load-more").hide()},initReviewsTooltipPopover:function(){var e=this.$(".reviews-tooltip-icon");this.reviewsTooltipPopover=new a.a({autoPosition:!0,showOnHover:!0,placement:"bottom",arrowPlacement:"bottom",anchor:e,el:e.find(".popover")});var t=this.$(".most-liked-icon");this.likedTooltipPopover=new a.a({autoPosition:!0,showOnHover:!0,placement:"top",arrowPlacement:"bottom",anchor:t,el:t.find(".popover")});var i=this.$(".expectations-icon");this.likedTooltipPopover=new a.a({autoPosition:!0,showOnHover:!0,placement:"top",arrowPlacement:"bottom",anchor:i,el:i.find(".popover")})},setupTabs:function(){var e=this.model.get("reviewsSortOrder")||{tabs:[]};this.sortTabs=new c.a(e.tabs);var t=this.$(".sort-order");new u.a({collection:this.sortTabs,el:t})},getLevelingRating:function(e){return e>=0&&e<this.levels.length?e:0},setLevel:function(){this.$(".tile.level .active").removeClass("active");var e=this.getLevelingRating(this.aggregateReviewsData.levelingRating);this.$(".tile.level, .tile.level .level-indicator").addClass(this.levels[e]),this.$("em.".concat(this.levels[e])).addClass("active");var t=this.model.get("numNewReviews"),i=this.aggregateReviewsData.teacherSetLevel,n=1===t?"review":"reviews",s={teacher:"(Based on the teacher's recommendation)",generated:"(Based on ".concat(t," ").concat(n,")"),empty:"(Be the first to suggest a level for this class)"},a=this.$(".tile.level .notes");0===e?a.text(s.empty):!0===i?a.text(s.teacher):a.text(s.generated)},displayTags:function(){if(this.tagData.length>0){for(var e in this.tagData){var t=this.tagData[e],i=this.$(".tile.likes li[data-value='".concat(e,"']"));i.children(".ss-icon-heart").text(t.count),i.children(".tagName").text(t.name)}this.$(".tile.likes").removeClass("empty"),this.$(".tile.likes .icon-circle").addClass("mute-popover")}},setPercentages:function(){var e=this.$(".tile.expectations");if(Object.keys(this.aggregateReviewsData.overallRatingPercentages).length>0){for(var t in this.aggregateReviewsData.overallRatingPercentages){var i=this.aggregateReviewsData.overallRatingPercentages[t],n=this.$(".tile.expectations li[data-value='".concat(t,"']"));n.children(".graph-item").children("span").css("width","".concat(i.avg,"%")),n.children(".percentage").text("".concat(i.avg,"%")),n.addClass("enabled-expectation")}e.removeClass("empty"),this.$(".tile.expectations .icon-circle").addClass("mute-popover"),e.data("sorted")&&this.$(".tile.expectations li[data-value='".concat(e.data("sorted"),"']")).addClass("active")}},updateMetricsSection:function(){for(var e in this.aggregateReviewsData=this.model.get("aggregateReviewsData"),this.tagData=[],this.aggregateReviewsData.tagCounts)this.tagData.push({count:this.aggregateReviewsData.tagCounts[e].value,name:this.aggregateReviewsData.tagCounts[e].name});this.setLevel(),this.displayTags(),this.setPercentages(),this.initReviewsTooltipPopover(),this.canReview()},canReview:function(){if(!this.model.get("canReview")){this.$(".leave-a-review-popup-btn").addClass("disabled");var e=this.$(".leave-a-review-popup-btn");this.leaveReviewTooltipPopover=new a.a({autoPosition:!1,showOnHover:!0,arrowPlacement:"bottom",anchor:e,el:e.find(".popover")})}},onChangeSortMethod:function(e){var t=this;e.preventDefault();var i=e.target.href.replace(window.location.protocol+"//"+window.location.hostname,"");n.history.navigate(i);var s=Object(f.a)(i).reviewsSort;this.model.get("currentSort")!==s&&(this.$("#reviews-section").addClass("loading-overlay"),this.model.fetch({data:{reviewsSort:s},success:function(){t.initReviewsCollection(),t.$el.removeClass("loading-overlay")}}))},onLoadMore:function(e){e.preventDefault();var t=s(e.currentTarget).data("value"),i=t===this.COLLECTION_TYPE_NEW?this.reviewsCollection:this.archiveReviewsCollection,n=i.length,a={};this.model.get("expectationsSort")&&t===this.COLLECTION_TYPE_NEW&&(a.expectationsSort=this.model.get("expectationsSort")),a.offset=n,a.collectionType=t,this.getMoreReviews(i,a)},getMoreReviews:function(e,t,i){e.fetch({update:!0,remove:!1,loadMore:!0,data:t,success:i})},onExpectationSort:function(e){var t=this;e.preventDefault();var i=s(e.currentTarget).data("value");this.model.get("expectationsSort")!==i&&(this.$("#reviews-section").addClass("loading-overlay"),this.model.fetch({data:{expectationsSort:i},success:function(){t.initReviewsCollection(),t.$el.removeClass("loading-overlay"),t.$(".tile.expectations").addClass("sorted").attr("data-sorted",i)}}))},onReviewBtnHover:function(e){s(e.currentTarget).hasClass("disabled")||this.leaveReviewTooltipPopover.destroy()},getReviewModel:function(){return this.model.get("currentUserHasReviewed")?new l.a(this.model.get("currentUserReviewData")):new l.a({parentClassSku:this.parentClass.get("sku")})},openLeaveAReviewPopup:function(){var e=SS.serverBootstrap.pageData;this.userReview||(this.userReview=this.getReviewModel());var t=SS.serverBootstrap.pageData.aboutData.description;"string"==typeof t&&(t=t.replace(/<img .*?>/g,""));var i=new m.a({model:this.userReview,aboutData:t,pageData:e});return this.listenTo(i,"review:create",this.ajaxUpdateOnReviewCollection),i},ajaxUpdateOnReviewCollection:function(){this.initReviewsCollection()},onLeaveAReviewBtnClick:function(e){var t=this;if(e.preventDefault(),!s(e.currentTarget).hasClass("disabled")){var i=this.openLeaveAReviewPopup();if(this.listenTo(i,"review:create",(function(){t.model.set("reviewBtnCopy","Edit Review")})),this.userReview.isNew()){var n=s(e.target).data("mixpanelSrc");this.reviewButtonTracking(i,n)}}this.triggerMemberPopups(e)},reviewButtonTracking:function(e,t){var i=SS.EventTracker.classDetails({origin:t});SS.EventTracker.track("Start Review",{},i),this.listenTo(e,"review:create",(function(){SS.EventTracker.track("Submit Review",{},i)}))},triggerMemberPopups:function(e){SS.serverBootstrap.userData.isMember?!SS.serverBootstrap.userData.isPremiumMember&&SS.serverBootstrap.parentClassData.is_premium&&SS.events.trigger("premiumpopup:open",{event:e}):new g.a({state:"signup"})}});t.a=w}).call(this,i(51),i(76),i(48))},function(e,t,i){"use strict";(function(e,n){i(146),i(460),i(119),i(31),i(24),i(1278),i(33),i(147),i(35);var s=i(1279),a=i(1280),o=i.n(a),r=s.a.extend({disabled:!1,className:"leave-a-review-popup",template:o.a,templateData:function(){return this.options},bindings:{".testimonial":"testimonial"},events:function(){return e.extend(s.a.prototype.events.call(this),{"click .submit-review-button":"onSubmit"})},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e.extend({},t,{aboutDataTrunc:this.getTruncatedAboutCopy(this.options.aboutData)}),s.a.prototype.initialize.apply(this,arguments),e.bindAll(this,"onSubmitSuccess","onSubmitError","onReadMore","onReadLess","onSingleClick","onToggleClick")},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.$submitButton=this.$(".submit-review-button"),this.$errorMessage=this.$(".error-message"),this.isEditingReview=!this.model.isNew(),this.isEditingReview&&this.$submitButton.val("Edit Review"),this.stickit(),this.$(".read-more").on("click",this.onReadMore),this.$(".read-less").on("click",this.onReadLess),this.$(".single").on("click",this.onSingleClick),this.$(".toggle").on("click",this.onToggleClick),this.updateFields(this.model.attributes),SS.events.trigger("takeover:video:pause"),setTimeout((function(){n("#click-off-overlay").css("height","99.9%")}),500)},updateFields:function(e){var t,i=this;this.$('.overall_rating .single[data-value="'.concat(e.overall_rating,'"]')).addClass("active"),this.$('.leveling_rating .single[data-value="'.concat(e.leveling_rating,'"]')).addClass("active"),(null!==(t=e.tags)&&void 0!==t?t:[]).forEach((function(e){i.$('.toggle[data-value="'.concat(e,'"]')).addClass("active")})),this.$("#review-comments").val(e.testimonial)},onSingleClick:function(e){e.preventDefault(),n(e.currentTarget).addClass("active"),n(e.currentTarget).siblings(".single").removeClass("active");var t=this.getTypeValueData(e.currentTarget);this.model.set(t.type,t.value),this.clearPanelError(".".concat(t.type))},onToggleClick:function(e){e.preventDefault(),n(e.currentTarget).toggleClass("active");var t=new Set(this.model.attributes.tags);this.$(".toggle.active").each((function(){t.add(n(this).data("value"))})),this.model.attributes.tags=Array.from(t)},getTypeValueData:function(e){return{type:n(e).data("type"),value:n(e).data("value")}},onSubmit:function(e){e.preventDefault(),this.model.set("testimonial",n("#review-comments").val()),this.validate()&&this.model.save().success(this.onSubmitSuccess).error(this.onSubmitError)},onSubmitSuccess:function(e){this.model.set(e.review);var t=this.isEditingReview?"edited":"submitted";SS.events.trigger("alerts:create",{title:"Your review has been ".concat(t,"!"),type:"success"}),this.trigger("review:create"),this.closePopup()},onSubmitError:function(){this.enable()},validate:function(){var e=!0;return this.clearPanelError(".overall_rating, .leveling_rating"),0===this.$(".overall_rating .active").length&&(this.$(".overall_rating").addClass("error"),e=!1),0===this.$(".leveling_rating .active").length&&(this.$(".leveling_rating").addClass("error"),e=!1),e||n("#click-off-overlay").animate({scrollTop:0},500),e},clearPanelError:function(e){this.$(e).removeClass("error")},onReadMore:function(){this.$(".about-copy-trunc").addClass("hide"),this.$(".about-copy-full").removeClass("hide")},onReadLess:function(){this.$(".about-copy-trunc").removeClass("hide"),this.$(".about-copy-full").addClass("hide")},enable:function(){this.disabled=!1,this.$submitButton.removeClass("disabled")},disable:function(){this.disabled=!0,this.$submitButton.addClass("disabled")},getTruncatedAboutCopy:function(e){var t=e.indexOf("</p>");return e.substring(0,t)}});t.a=r}).call(this,i(51),i(48))},function(e,t,i){"use strict";var n=i(671),s=i(672);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),s)},function(e,t,i){"use strict";(function(e,n,s){i(186);var a=i(99),o=i(218),r=i(117),l=i(189),c=i.n(l),d=a.a.extend({id:"takeover-popup-view",autoRender:!0,container:"#click-off-overlay",shouldShowLoaderIcon:!0,template:null,templateData:{},templatePartials:{},disposeOnClose:!0,events:function(){return e.extend(a.a.prototype.events.call(this),{"click .btn-close":"onClickClose","click .btn-action-cancel":"onClickClose"})},options:function(){return{}},initialize:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.bindAll(this,"openPopup","closePopup","createWithView"),a.a.prototype.initialize.apply(this,arguments),e.extend(this,e.pick(i,["preventClose","template","templateData","templatePartials","basicPopup","centerVertically","disposeOnClose"])),this.disposeOnClose&&this.listenTo(r.a,"overlayDidCloseEVENT",(function(){return t.trigger("onPopupDidCloseEvent")})),this.listenTo(r.a,"overlayWasClickedEVENT",this.closePopup),n(document).one("keyup.esckey",(function(e){27===e.which&&t.trigger("onPopupDidCancelEvent")})),this.on("onPopupDidCancelEvent",this.onPopupCancel),this.on("onPopupDidCloseEvent",this.dispose);var s=i.endpoint||this.endpoint;if(s){this.autoRender=!1;var o=i.endpointData||this.endpointData||{};this.createWithContentFromEndpoint(s,o)}},render:function(){if(a.a.prototype.render.apply(this,arguments),!e.isNull(this.template)){var t=e.result(this,"templateData"),i=c.a.render(this.template,t,this.templatePartials);this.$el.append(i),this.openPopup()}return this.renderSubviews(),this.trigger("didRender"),this},afterRender:function(){a.a.prototype.afterRender.apply(this,arguments)},renderSubviews:function(){(0!==this.$(".popup-content").length?this.$(".popup-content"):this.$el).append(e.map(this.subviews,(function(e){return e.el}))),e.each(this.subviews,(function(e){return e.render()}))},createWithContentFromEndpoint:function(e,t){var i=this;!1!==this.shouldShowLoaderIcon&&this.addLoaderIcon();var n=new s.Model;n.url=e;var o=new a.a({model:n});o.render=function(){this.$el.empty().html(this.model.get("content"))},this.subview("content",o),n.fetch({data:t}).done((function(){i.$el.removeClass("loader center-vertically"),i.$el.empty(),i.$el.css("margin-top","80px"),i.$el.addClass(i.popupClasses),i.render(),i.trigger("subview:loaded"),i.delegateEvents()}))},createWithView:function(e){this.subview("content",e);var t=this;this.subview("content").on("onContentReady",(function(){t.render(),t.openPopup()}))},onClickClose:function(e){e.preventDefault(),this.trigger("onClickCloseEvent"),this.trigger("onPopupDidCancelEvent"),n("#click-off-overlay").css("height","")},onPopupCancel:function(){this.closePopup(!0)},openPopup:function(){r.a.open({closeOnlyWithTheXButton:!0}),this.$el.show(),o.a.push(this.$el,{emptyOnPop:this.disposeOnClose})},closePopup:function(e){!0!==e&&!0===this.preventClose||(o.a.getStack().length>1?o.a.pop():(r.a.close(),SS.events.trigger("takeover:video:play")))},addLoaderIcon:function(){this.popupClasses=this.$el.attr("class"),this.$el.removeClass(),this.$el.addClass("loader center-vertically"),this.$el.empty().html('<div class="icon-loading"></div>'),n(this.container)[this.containerMethod](this.$el),this.openPopup()}});t.a=d}).call(this,i(51),i(48),i(76))},function(e,t){e.exports='<div class="leave-a-review-header">\n  <div class="logo">\n    <div class="site-header-logo">\n      <a href="javascript:;" class="site-header-logo-image js-site-header-logo" aria-label="Home"></a>\n    </div>\n  </div>\n  <h4 class="popup-title">Tell us what you think about this class!</h4>\n  <svg class="ss-svg-icon btn-close"><use xlink:href="#close" /></svg>\n</div>\n<div class="leave-a-review-body">\n  <div class="columns">\n    <div class="column left">\n      <div class="video-still"><img src="{{ pageData.syllabusData.classImageUrl }}" alt="{{ pageData.headerData.title }}" /></div>\n      <div class="video-title">{{ pageData.headerData.title }}</div>\n      <div class="video-byline">{{ pageData.headerData.teacher.fullName }}, {{ pageData.headerData.teacher.headline }}</div>\n      <div class="video-length ss-icon-outline-clock">&nbsp;{{ pageData.videoPlayerData.totalSessionsDuration }}</div>\n\n      <div class="about-block">\n        <h4>About this Class</h4>\n        <div class="about-copy-trunc">{{{ aboutDataTrunc }}} <a href="javascript:;" class="read-more">Read More...</a></div>\n        <div class="about-copy-full hide">{{{ aboutData }}} <p><a href="javascript:;" class="read-less">Read Less...</a></p></div>\n      </div>\n    </div>\n    <div class="column right">\n      <form class="leave-a-review-form">\n        <fieldset class="overall_rating tiles">\n          <h4>Did this class meet your expectations?*</h4>\n          <ul class="rating-grid">\n            <li data-type="overall_rating" data-value="1" class="single">Not really</li>\n            <li data-type="overall_rating" data-value="2" class="single">Somewhat</li>\n            <li data-type="overall_rating" data-value="3" class="single">Yes</li>\n            <li data-type="overall_rating" data-value="4" class="single">Exceeded!</li>\n          </ul>\n          <div class="error">Please select an answer.</div>\n        </fieldset>\n        <fieldset class="leveling_rating tiles">\n          <h4>What level of experience would you suggest for students taking this class?*</h4>\n          <ul class="rating-grid">\n            <li class="level-beginner single" data-type="leveling_rating" data-value="1">\n              <div class="level-indicator beginner">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n              Beginner\n            </li>\n            <li class="level-intermediate single" data-type="leveling_rating" data-value="2">\n              <div class="level-indicator intermediate">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n              Intermediate\n            </li>\n            <li class="level-advanced single" data-type="leveling_rating" data-value="3">\n              <div class="level-indicator advanced">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n              Advanced\n            </li>\n            <li class="level-all single" data-type="leveling_rating" data-value="4">\n              <div class="level-indicator all">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n              Any Level\n            </li>\n          </ul>\n          <div class="error">Please select an answer.</div>\n        </fieldset>\n        <fieldset class="like list">\n          <h4>What did you like about this class?<span>(Select all that apply)</span></h4>\n          <ul>\n            <li data-type="like" data-value="1" class="toggle">Engaging Teacher</li>\n            <li data-type="like" data-value="2" class="toggle">Organization of Lessons</li>\n            <li data-type="like" data-value="3" class="toggle">Clarity of Instruction</li>\n            <li data-type="like" data-value="4" class="toggle">Helpful Examples</li>\n            <li data-type="like" data-value="5" class="toggle">Actionable Steps</li>\n            <li data-type="like" data-value="6" class="toggle">Audio & Video Quality</li>\n          </ul>\n        </fieldset>\n        <fieldset class="improvement list">\n          <h4>What could be improved?<span>(Your selections are shared privately with the teacher)</span></h4>\n          <ul>\n            <li data-type="improvement" data-value="7" class="toggle">Organization of Lessons</li>\n            <li data-type="improvement" data-value="8" class="toggle">Clarity of Instruction</li>\n            <li data-type="improvement" data-value="10" class="toggle">More Actionable</li>\n            <li data-type="improvement" data-value="9" class="toggle">More Examples & Tips</li>\n            <li data-type="improvement" data-value="11" class="toggle">Audio Quality</li>\n            <li data-type="improvement" data-value="12" class="toggle">Video Quality</li>\n          </ul>\n        </fieldset>\n        <fieldset class="comments">\n          <h4>Anything else?<span>Write a public review (optional)</span></h4>\n          <textarea aria-label="Review comments" placeholder="Elaborate on your selections above. What else might be helpful for students considering this class?" id="review-comments"></textarea>\n        </fieldset>\n        <input type="submit" class="submit-review-button button large" value="Submit Review" />\n      </form>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div id="reviews-tab">\n  <div class="reviews-section-grid">\n    <header class="tab-header">\n      <h5>How students rated this class</h5>\n      <div class="leave-a-review-popup-btn-wrapper">\n        <div data-mixpanel-src="leave_review_button" class="leave-a-review-popup-btn js-primary-reviews-btn button alt-charcoal-ghost">\n          {{#currentUserHasReviewed}}\n            Edit Review\n          {{/currentUserHasReviewed}}\n          {{^currentUserHasReviewed}}\n            Leave Review\n          {{/currentUserHasReviewed}}\n          <div class="popover shadow reviews-tooltip leave-review-tooltip-popover-metrics-section">\n            <div class="inner-popover">\n              <div class="arrow"></div>\n              <p class="tooltip-title">Watch more to review</p>\n              <p class="tooltip-text">We ask our students to watch a few lessons before reviewing to make sure we get quality feedback!</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n    <div id="metrics-section">\n      <div class="tile level">\n        <strong>Best Suited for</strong>\n        <div class="level-indicator">\n          <span class="a"></span>\n          <span class="b"></span>\n          <span class="c"></span>\n        </div>\n        <div class="leveling-tooltip-row">\n          <em class="none">&nbsp;--&nbsp;</em>\n          <em class="beginner">Beginner</em>\n          <em class="intermediate">Intermediate</em>\n          <em class="advanced">Advanced</em>\n          <em class="beg-int">Beginner/Intermediate</em>\n          <em class="int-adv">Intermediate/Advanced</em>\n          <em class="all">All Levels</em>\n          <div class="reviews-tooltip-icon help-icon icon-help">\n            <div class="popover shadow reviews-tooltip reviews-tooltip-popover-metrics-section">\n              <div class="inner-popover">\n                <div class="arrow"></div>\n                <p class="tooltip-title">Community Generated</p>\n                <p class="tooltip-text">The level is determined by a majority opinion of students who have reviewed this class.\n                The teacher\'s recommendation is shown until at least 5 student responses are collected.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <span class="notes"></span>\n      </div>\n      <div class="tile likes empty">\n        <strong>\n          <div>\n            <div class="popover shadow reviews-tooltip liked-tooltip-popover-metrics-section">\n              <div class="inner-popover">\n                <div class="arrow"></div>\n                <p class="tooltip-title">Be the first!</p>\n                <p class="tooltip-text">No votes just yet\u2014watch a few lessons to be the first to share what you liked most about this class.</p>\n              </div>\n            </div>\n          </div> \n          Most Liked\n        </strong>\n        <ul>\n            <li data-value="0"><span class="ss-icon-heart"> 0</span> <span class="tagName"></span></li>\n            <li data-value="1"><span class="ss-icon-heart"> 0</span> <span class="tagName"></span></li>\n            <li data-value="2"><span class="ss-icon-heart"> 0</span> <span class="tagName"></span></li>\n        </ul>\n      </div>\n      <div class="tile expectations empty">\n        <strong>\n          <div>\n            <div class="popover shadow reviews-tooltip expectations-tooltip-popover-metrics-section">\n              <div class="inner-popover">\n                <div class="arrow bottom"></div>\n                <p class="tooltip-title">Be the first!</p>\n                <p class="tooltip-text">No ratings just yet\u2014watch a few lessons to be the first to share whether this class met your expectations.</p>\n              </div>\n            </div>\n          </div> \n          Expectations Met?\n        </strong>\n        <ul>\n          <li data-value="4"><span class="review-tag">Exceeded!</span><div class="graph-item"><span></span></div><span class="percentage">0%</span></li>\n          <li data-value="3"><span class="review-tag">Yes</span><div class="graph-item"><span></span></div><span class="percentage">0%</span></li>\n          <li data-value="2"><span class="review-tag">Somewhat</span><div class="graph-item"><span></span></div><span class="percentage">0%</span></li>\n          <li data-value="1"><span class="review-tag">Not really</span><div class="graph-item"><span></span></div><span class="percentage">0%</span></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div id="reviews-section">\n    <div class="reviews-section-grid">\n      <div class="current">\n        {{#reviewsSortOrder}}\n          <div class="sort-order">\n            {{> shared/_underline-tabs }}\n          </div>\n        {{/reviewsSortOrder}}\n        <div class="empty-reviews">Be the first to leave a review in our updated system!</div>\n        <div class="new-reviews"></div>\n        {{#loadMoreReviews}}\n          <div class="load-more-container new-reviews-load-more">\n            <a href="javascript:;" class="load-more button" data-value="1">Load More Reviews</a>\n          </div>\n        {{/loadMoreReviews}}\n      </div>\n    </div>\n  {{#numArchiveReviews}}\n    <div class="archive hide js-archive-container">\n      <header>\n        <div class="archive-copy">\n          <h5>Reviews Archive</h5>\n          <p>In October 2018, we updated our review system to improve the way we collect feedback. Below are the reviews written before that update. You are welcome to edit your old review into the new system!</p>\n        </div>\n      </header>\n      <div class="reviews-section-grid">\n        <h5 class="section-header title">{{numArchiveRecommendations}} of {{numArchiveReviews}} students recommend this class</h5>\n        <div class="archive-reviews">\n          {{#archiveReviews}}\n              {{> items/_review-archive-item-view}}\n          {{/archiveReviews}}\n        </div>\n          {{#loadMoreArchiveReviews}}\n          <div class="load-more-container archive-load-more">\n            <a href="javascript:;" class="load-more button" data-value="2">Load More Reviews</a>\n          </div>\n          {{/loadMoreArchiveReviews}}\n        </div>\n      </div>\n    {{/numArchiveReviews}}\n  </div>\n</div>\n'},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(999),a=i.n(s),o=i(1224),r=i.n(o),l=i(969),c=i.n(l),d=i(1e3),h=i(941),u=n.a.extend({setElementToTemplate:!0,template:function(){return this.model.get("id")?a.a:r.a},templateData:function(){return e.extend({},this.model.attributes,{clientRendered:!0})},templatePartials:{"partials/_user-information-small":c.a},initialize:function(){e.bindAll(this,"onChangeNumLikes"),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){if(h.a.initUserPopovers(this),!SS.currentUser.isGuest()){var t={voteable_id:this.model.get("id"),voteable_type:"Project",trackingParams:{via:"project-item"}};0!==this.model.get("voteId")&&e.extend(t,{voteId:this.model.get("voteId")}),new d.a({container:this.$(".like-btn-wrapper"),modelData:t,parentModel:this.model,initialState:this.model.get("hasVoted")}),this.likeCounter=this.$(".num-likes"),this.model.on("change:numLikes",this.onChangeNumLikes)}n.a.prototype.afterRender.apply(this,arguments)},onChangeNumLikes:function(){var e="";1===this.model.get("numLikes")?e=this.model.get("numLikes")+" like":this.model.get("numLikes")>1&&(e=this.model.get("numLikes")+" likes"),this.likeCounter.text(e)}});t.a=u}).call(this,i(51))},function(e,t,i){"use strict";var n=i(1189),s=i(961),a=i(1284),o=i.n(a),r=n.a.extend({className:"follow-dialog shadow on-main",placement:"left",arrowPlacement:"right",template:o.a,dialogId:s.a.CLASS_DETAILS_FOLLOW_DIALOG_ID,initialize:function(){n.a.prototype.initialize.apply(this,arguments)}});t.a=r},function(e,t){e.exports='<div class="inner-popover">\n    <div class="arrow"></div>\n    <div class="content">\n        <h4 class="dialog-header">Follow this Teacher</h4>\n        <p class="description">Like this class? Follow the teacher for more!</p>\n        <div class="btn small secondary primary close-button">Got It</div>\n    </div>\n</div>\n'},function(e,t){e.exports='<p class="unenroll-popup-content">\n    Unenrolling from this class will remove it from your My Classes section and profile. \n    You will no longer receive notifications for this class.\n</p>\n<p>\n    You will be able to access and edit your project in this class.\n</p>\n'},function(e,t,i){"use strict";var n=i(208),s=i(1287),a=i.n(s),o=n.a.extend({basicPopup:!0,template:a.a,className:"free-access-link-confirmation-popup"});t.a=o},function(e,t){e.exports='<div class="free-access-link-confirmation-popup-content">\n    <div class="hero-img"></div>\n    <div class="main">\n        <div class="header bottom-border">\n            <a class="btn-close js-welcome-brand-refresh-close alternate no-underline close-button close-link" href="javascript:;">\n                <svg class="ss-svg-icon"><use xlink:href="#close"></use></svg>\n            </a>\n        </div>\n\n        <div class="content">\n            <h1>Congratulations!</h1>\n            <p>You now have free access to this class. Enjoy, and start exploring your creativity!</p>\n        </div>\n    </div>\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var n=i(0),s=i.n(n),a=i(113),o=i(936),r=i(1108),l=i(144),c=(i(27),i(45),i(46),i(31),i(186),i(16),i(24),i(33),i(35),i(58)),d=i(6),h=i.n(d),u=i(1150),p=i(190),v=i(23),m=function(){return(m=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},f=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,a=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}return o},g=Object(a.a)((function(e){var t=e.breakpoints,i=e.palette,n=e.spacing;return{grid:function(e){var i,n=e.sm,s=e.md,a=e.lg;return(i={display:"grid",gridTemplateColumns:"1fr"})[t.up("sm")]={gridTemplateColumns:"repeat("+n+", 1fr)"},i[t.up("md")]={gridTemplateColumns:"repeat("+s+", 1fr)"},i[t.up("lg")]={gridTemplateColumns:"repeat("+a+", 1fr)"},i},header:m({color:i.common.white},Object(c.d)(0,0,n(3.5),n(1))),classCardContainer:{outline:"none"}}}));function y(e){var t=e.classes,i=e.title,n=e.columnsOverwrite,a=e.via,o=e.fetchListItems,r=e.onClickListItem,c=e.onCreateNewList,d=f(Object(v.m)(),1)[0],h=g(m({sm:2,md:3,lg:4},n)),y=h.grid,b=h.header,w=h.classCardContainer,C=function(){d({action:p.TrackableEvents["Clicked-Class-End-Class-Card"]})};return s.a.createElement("div",null,i&&s.a.createElement(l.a,{className:b,variant:"h3"},i),s.a.createElement("div",{className:y},t.map((function(e,t){return s.a.createElement("div",{key:e.sku,className:w,tabIndex:t,role:"button",onKeyDown:C,onClick:C},s.a.createElement(u.a,m({fetchListItems:o,onClickListItem:r,onCreateNewList:c,via:a},e)))}))))}y.propTypes={title:h.a.string,classes:h.a.array.isRequired,columnsOverwrite:h.a.object,via:h.a.string,fetchListItems:h.a.func,onClickListItem:h.a.func,onCreateNewList:h.a.func};i(669);var b=i(1262),w=i.n(b),C=["#00FF84","#00FF84","#00FF84","#002333","#FF4A4A","#00B7FF","#3722D3","#FFE03D","#DCDEE1"];function k(e){e.beginPath(),e.arc(0,0,this.radius,0,2*Math.PI),e.fill()}var S=Object(a.a)((function(e){var t=e.palette;return{canvas:function(e){return{backgroundColor:e.backgroundColor||t.common.black,width:e.width||"100%",height:e.height||"100%"}}}})),P=function(e){var t=e.recycle,i=e.backgroundColor,n=e.width,a=e.height,o=S({backgroundColor:i,width:n,height:a});return s.a.createElement(w.a,{className:o.canvas,numberOfPieces:300,initialVelocityX:4.5,initialVelocityY:9,gravity:.1,colors:C,drawShape:k,recycle:t})};P.propTypes={backgroundColor:h.a.string,recycle:h.a.bool,width:h.a.string,height:h.a.string};var T="(min-width: 991px) and (max-width: 1136px)",x=Object(a.a)((function(e){var t,i,n,s,a=e.palette,o=e.spacing;return{root:{bottom:0,color:a.common.white,left:0,position:"absolute",right:0,top:0},content:(t={alignItems:"center",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",paddingTop:o(5),position:"absolute",zIndex:3},t["@media "+T]={paddingTop:o(4)},t),header:(i={paddingBottom:o(3)},i["@media "+T]={paddingBottom:0,fontSize:22},i),subheader:(n={paddingBottom:o(.5)},n["@media "+T]={paddingBottom:0},n),classesContainer:(s={marginBottom:o(4),maxWidth:576,width:"100%"},s["@media "+T]={maxWidth:356},s)}}));function E(e){var t=e.classesList,i=e.header,n=e.subheader,a=e.via,c=x();return s.a.createElement(o.a,{className:c.root},s.a.createElement(P,null),s.a.createElement(r.a,{className:c.content},s.a.createElement(l.a,{className:c.header,variant:"h2",component:"h3"},i),s.a.createElement(l.a,{className:c.subheader,variant:"body1"},n),s.a.createElement("div",{className:c.classesContainer},s.a.createElement(y,{via:a,columnsOverwrite:{md:2,lg:2},classes:t}))))}},,,,,,,,,,,,,function(e,t,i){"use strict";(function(e,i){var n=e.Model.extend({constructor:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.extend(this,i.pick(n,"Collection","urlRoot")),e.Model.apply(this,arguments),this.collection||(this.collection=this._newCollection())},Collection:function(){throw new Error("Override this in a subclass.")},parse:function(t){var n=t.collection;return this.collection=this._newCollection(n),delete t.collection,t.collection_cid=this.collection.cid||i.uniqueId("collection_"),e.Model.prototype.parse.apply(this,arguments)},_newCollection:function(e,t){return new this.Collection(e,t)}});t.a=n}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1102),a=i(947),o=n.a.extend({el:".teacher-area",events:{"click .js-post-announcement":"onClickPostAnnouncement","click .js-unenroll":"unenroll","click .btn-enroll":"onClickEnroll"},onClickPostAnnouncement:function(t){t.preventDefault(),new s.a({endpoint:"/discussions/renderForm",endpointData:{type:"Announcement",id:e(t.currentTarget).data("ss-parent-id"),showRichDescription:"true"}})},unenroll:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-ss-unenrollPath"),n=new a.a({content:"<p>You are about unenroll from this class. You will lose the cost of your ticket.</p>",submitBtnVal:"Yes, unenroll me"});n.openPopup(),n.on("onConfirmationDidConfirmEvent",(function(){window.location.href=i}))},onClickEnroll:function(t){var i=e(t.currentTarget);i.hasClass("disabled")?(t.preventDefault(),t.stopPropagation()):i.addClass("disabled")}});t.a=o}).call(this,i(48))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e,i){var n=e.Model.extend({initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.extend(this,i.pick(t,"urlRoot"))}});t.a=n}).call(this,i(76),i(51))},function(e,t,i){"use strict";var n=i(1368),s=i(1065),a=i(132);t.a=n.a.extend({activeProjectModal:null,constructor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.parse=!0,n.a.call(this,e,t)},Collection:s.a,_newCollection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e&&e.sortMethod||this.get("sortMethod");return t.path=a.a.getPathname(),t.parse=!0,t.params={sort:i,collectionOnly:!0},n.a.prototype._newCollection.call(this,e,t)}})},function(e,t,i){"use strict";var n=i(1368),s=i(1424),a=i(132);t.a=n.a.extend({constructor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.parse=!0,n.a.call(this,e,t)},Collection:s.a,_newCollection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e&&e.sortMethod||this.get("sortMethod"),s=e&&e.postedByTeacher||this.get("postedByTeacher");return t.path=a.a.getPathname(),t.parse=!0,t.params={postedByTeacher:s,sort:i,collectionOnly:!0},n.a.prototype._newCollection.call(this,e,t)}})},function(e,t,i){"use strict";(function(e,n){var s=i(1425),a=i(1426),o=s.a.extend({model:a.a,url:function(){var t=this.path,i=e.param(this.params);return""!==i&&(t+="?"+i),t},initialize:function(e,t){n.bindAll(this,"fetchMore"),this.sortMethod=t.sortMethod,this.loadMore=!0,this.params=t.params||{},this.path=t.path||"/discussions/community",this.page=0},sync:function(){return s.a.prototype.sync.apply(this,arguments)},fetchMore:function(e){var t=this,i=n.extend({},e,{update:!0,remove:!1,success:function(e,i){t.trigger("update",i)}});return this.page+=1,i.data=n.extend({},i.data,{offset:this.length,sort_method:this.sortMethod,page:this.page}),this.fetch(i)}});t.a=o}).call(this,i(48),i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(1113),a=e.Collection.extend({model:s.a,url:function(){return"/discussions/index"},parse:function(e){return this.content=e.content,this.totalThreads=parseInt(e.totalNumDiscussions,10),this.loadMore=e.loadMore,e.discussions.lastFetchTime=(new Date).getTime(),e.discussions},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this,s=n.extend({},t,{success:function(e,t){i.trigger("update",t)}});return s.data=n.extend({},s.data,{sort_method:this.sortMethod}),e.Collection.prototype.fetch.call(this,s)}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(1113).a.extend({initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.isUndefined(i.classModel)||(this.classModel=i.classModel)},sync:function(t,i,s){return s.data=s.data||{},e.extend(s.data,{commentSort:this.get("commentSort")}),n.sync.apply(this,arguments)}});t.a=s}).call(this,i(51),i(76))},function(e,t,i){"use strict";(function(e,i){var n=e.Model.extend({lessonId:void 0,initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.extend(this,i.pick(t,["urlRoot","lessonId"]))}});t.a=n}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e,n,s){i(133),i(456),i(668);var a=i(145),o=i(230),r=i(1030),l=i(1065),c=i(1100),d=i(1117),h=i(1032),u=i(1012),p=i(1069),v=i(452),m=i(1429),f=i.n(m),g=i(1274),y=i.n(g),b=i(1430),w=i.n(b),C=i(1431),k=i.n(C),S=i(1432),P=i.n(S),T=i(1433),x=i.n(T),E=i(960),_=i.n(E),j=i(1434),D=i.n(j),O=i(1435),I=i.n(O),L=i(999),N=i.n(L),$=i(1436),R=i.n($),M=i(1014),V=i.n(M),A=i(1015),B=i.n(A),U=i(1022),z=i.n(U),F=i(969),H=i.n(F),G=i(1437),W=i.n(G),Y=i(1101),q=i.n(Y),K=i(303),J=i(1219),Z=i(988),Q=i(1223),X=r.a.extend({template:f.a,PLAYLIST_SEL:".js-video-playlist-module",LESSONS_TAB:".js-video-playlist-module-lessons-tab",PLAYER_CONTAINER:".js-video-and-playlist-container",TOP_PLAYER_CONTAINER:".js-cd-video-player-container",MIN_WIDTH_NEEDED:940,playlist:null,saveButton:null,templatePartials:{"class-details/shared/_user-project":y.a,"shared/_referral-promo":I.a,"shared/_small-list-view-grid-item":N.a,"shared/_large-list-view-grid":R.a,"shared/_large-list-view-grid-item":V.a,"class-details/shared/_stats-column":D.a,"partials/_class-preview":B.a,"partials/_class-preview-video":z.a,"partials/_user-information-small":H.a,"partials/_user-information-large":W.a,"class-details/shared/_tags-section":w.a,"class-details/shared/_level-section":k.a,"class-details/shared/_about-this-class":P.a,"class-details/shared/_top-projects":x.a,"partials/_class-stats":_.a,"partials/_user-snippet":q.a},templateData:function(){return this.model.attributes},events:{"click .view-reviews":"onClickViewReviews","click .email.share-button":"onClickEmailShare","click .js-abuse-flag-href":"onAbuseFlagClick"},initialize:function(){this.levelSelectors=["none","beginner","intermediate","advanced","all","beg-int","int-adv"],this.initReviewsTooltipPopover(),this.parentClass=new Z.a(SS.serverBootstrap.classData),this.initLoggedOutAccordion(),r.a.prototype.initialize.apply(this,arguments)},initProjectsCollection:function(){var e=this.model.get("topProjects");this.projectsCollection=new l.a(e),this.projectsCollection.loadMore=!1,this.projectsCollection.page=0},initProjectsCollectionView:function(){if(!e.isEmpty(this.model.attributes)){var t=this.$(".projects-list");this.projectsCollectionView=new c.a({collection:this.projectsCollection,data:this.model.attributes,prependTemplate:null,el:t}),this.projectsCollectionView.collection.each(this._bubbleChanges,this)}},initReviewsTooltipPopover:function(){var e=this.$(".reviews-stats-column");this.reviewsStatsSectionPopover=new a.a({autoPosition:!1,showOnHover:!0,anchor:e,el:e.find(".popover")})},afterRender:function(){var e=this.model.get("teacherInfo");new v.a({container:this.$(".follow-button-wrapper"),classes:"follow-button-link-style",modelData:{user:new o.a({uid:e.teacherUid}),followingId:!!e.user_is_following&&e.teacherUid}}),this.initProjectsCollection(),this.initProjectsCollectionView(),this.model.get("relatedClasses")&&this.model.get("relatedClasses").list.length&&this.initRelatedClasses(),this.setClassLevel(),r.a.prototype.afterRender.apply(this,arguments)},initRelatedClasses:function(){this.relatedClasses=new d.a(this.model.get("relatedClasses").list),this.relatedClassesCollectionView=new h.a({collection:this.relatedClasses,el:this.$(".class-list-view"),itemView:u.a})},afterPreRender:function(){this.afterRender()},getLevelingRating:function(e){return Number.isInteger(e)&&e>=0&&e<this.levelSelectors.length?e:0},setClassLevel:function(){var e=this.getLevelingRating(this.model.attributes.displayLevelingRating);this.$(".level li").removeClass("active"),this.$(".level li[data-value='".concat(e,"']")).addClass("active"),this.$(".level-indicator").addClass(this.levelSelectors[e])},onClickViewReviews:function(e){e.preventDefault()},onClickEmailShare:function(){SS.currentUser.isGuest()||new p.a({model:new n.Model(SS.serverBootstrap.classData.parentClass)})},onAbuseFlagClick:function(e){SS.serverBootstrap.userData.isMember?(e.preventDefault(),this.userAbuseFlag=new J.a({parentClassSku:this.parentClass.get("sku"),uid:SS.serverBootstrap.userData.id}),new Q.a({model:this.userAbuseFlag})):new K.a({state:"signup"})},initLoggedOutAccordion:function(){s(".js-accordion").click((function(e){s(e.target).removeClass("accordion-collapsed"),s(e.target).removeClass("js-accordion")}))}});t.a=X}).call(this,i(51),i(76),i(48))},function(e,t){e.exports='<div id="home-section">\n    <div class="home-section-grid">\n        <div class="home-section-body"> \n            {{> class-details/shared/_about-this-class}}\n            {{> class-details/shared/_top-projects}}\n        </div>\n        <div class="home-section-sidebar">\n            {{> class-details/shared/_stats-column}}\n            <div class="teacher-section">\n                {{#teacherInfo}}\n                    <div class="teacher-details">\n                        <div class="author-image user-img-50" data-ss-username="{{username}}" data-ss-placement="bottom">\n                            <a href="{{profileUrl}}"{{#openInNew}} target="_blank"{{/openInNew}}><img alt="teacher photo" src="{{image}}" /></a>\n                        </div>\n                        <div class="author-detail">\n                            <h4 data-ss-username="{{username}}"><a href="{{profileUrl}}" class="link-main no-bold ellipsis"{{#openInNew}} target="_blank"{{/openInNew}}>{{fullName}} <span class="follow-button-wrapper"></span></a></h4>\n                            <p class="author-headline ellipsis">{{headline}}</p>\n                            {{#isTopTeacher}}\n                                <span class="teacher-tag teacher-tag-top-teacher-badge">\n                                    <span class="ss-icon-premium-badge"></span>Top Teacher\n                                </span>\n                            {{/isTopTeacher}}\n                        </div>\n                    </div>\n\n                    <div class="teacher-description rich-content-wrapper">\n                        <p>{{{bio}}}</p>\n                        <p><a href="{{{profileUrl}}}" target="_blank">See full profile</a></p>\n                    </div>\n                {{/teacherInfo}}\n            </div>\n            {{> class-details/shared/_tags-section}}\n            {{> class-details/shared/_level-section}}\n            <a class="js-abuse-flag-href abuse-flag">Report class</a>\n        </div>\n    </div>\n\n    {{#relatedClasses}}\n        <div id="related-classes-wrapper" class="home-section-grid">\n            <h4 class="title">Related Classes</h4>\n            {{> shared/_large-list-view-grid }}\n        </div>\n    {{/relatedClasses}}\n\n</div>'},function(e,t){e.exports='{{#hasTags}}\n    <div class="tags-section">\n        <h2 class="title">Related Skills</h2>\n        {{#tags}}\n            <a class="tag light" href="{{url}}" data-ss-tag="{{slug}}" target="_blank" rel="noreferrer">{{name}}</a>\n        {{/tags}}\n    </div>\n{{/hasTags}}\n'},function(e,t){e.exports='{{#hasLevel}}\n    <div class="level-section">\n      <span><strong>Level: </strong>{{level}}</span>\n    </div>\n{{/hasLevel}}\n'},function(e,t){e.exports='<div class="about-this-class-wrapper">\n    <div class="about-this-class">\n        <h2 class="section-header title">About This Class</h2>\n        <div class="description-column">\n            <div class="rich-content-wrapper js-accordion accordion-collapsed">\n                {{#description}}\n                    <p>{{{description}}}</p>\n                {{/description}}\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="project-gallery">\n    <h2 class="section-header title">Class Projects{{#showProjectCount}} <span class="header-count">{{numProjects}}</span>{{/showProjectCount}} <a href="{{allProjectUrl}}" class="see-all-btn button alt-charcoal-ghost right">See All</a></h2>\n    <div class="class-project">\n        <div class="class-project-snippet ellipsis">{{classProjectSnippet}}</div>\n        <a href="{{baseUrl}}/projects" class="class-project-read-more section-navigation alternate">(Read More)</a>\n    </div>\n    <div class="projects-list row">\n        {{#topProjects}}\n            {{> shared/_small-list-view-grid-item}}\n        {{/topProjects}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="stats-column">\n    <div class="stat">\n        <div class="reviews-stats-column">\n            <ul class="level">\n                <li class="icon">\n                    <div class="level-indicator">\n                        <span class="a"></span>\n                        <span class="b"></span>\n                        <span class="c"></span>\n                    </div>\n                </li>\n                <div class="level-text">\n                    <li data-value="0"><span>--</span></li>\n                    <li data-value="1"><span>Beginner level</span></li>\n                    <li data-value="2"><span>Intermediate level</span></li>\n                    <li data-value="3"><span>Advanced level</span></li>\n                    <li data-value="4"><span>All levels</span></li>\n                    <li data-value="5"><span>Beg/Int level</span></li>\n                    <li data-value="6"><span>Int/Adv level</span></li>\n                </div>\n            </ul>\n            <div class="popover shadow reviews-tooltip-popover">\n                <div class="inner-popover">\n                    <div class="arrow"></div>\n                    <p class="tooltip-title">Community Generated</p>\n                    <p class="tooltip-text">The level is determined by a majority opinion of students who have reviewed this class.\n                    The teacher\'s recommendation is shown until at least 5 student responses are collected.</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="stat">\n        <p class="class-count number">\n            {{^numStudents}}--{{/numStudents}}\n            {{#numStudents}}{{numStudents}}{{/numStudents}}\n        </p>\n        <p class="class-count label">Student{{^singleStudent}}s{{/singleStudent}}</p>\n    </div>\n    <div class="stat">\n        <p class="class-count number">\n            {{^numProjects}}--{{/numProjects}}\n            {{#numProjects}}{{numProjects}}{{/numProjects}}\n        </p>\n        <p class="class-count label">Project{{^singleProject}}s{{/singleProject}}</p>\n    </div>\n</div>\n'},function(e,t){e.exports='<a href="javascript:;" class="block-link js-show-referral-popup referral-promo clear ga-event" ga-cat="{{gaCategory}}" ga-action="Click Open Popup">\n    <div class="left">\n        <img class="tofu" src="/assets/images/gift.png" alt="Invite a friend and get a free month" />\n    </div>\n    <div class="detail">\n        <p class="title">Invite a Friend.</p>\n        <p class="title">Get a free month.</p>\n        <p class="more"><span>Learn more</span></p>\n    </div>\n</a>\n'},function(e,t){e.exports='<div class="class-list-view row clear">\n    {{#list}}\n        {{> shared/_large-list-view-grid-item}}\n    {{/list}}\n</div>\n'},function(e,t){e.exports='<div class="author-image user-img-75 left" data-ss-username="{{username}}" data-ss-placement="bottom">\n    <a href="{{profileUrl}}"{{#openInNew}} target="_blank" rel="noreferrer"{{/openInNew}}><img src="{{image}}" /></a>\n</div>\n<div class="author-detail left">\n    <h4 data-ss-username="{{username}}" {{#teacherHoverCard}}data-ss-teacher-card="{{teacherHoverCard}}"{{/teacherHoverCard}} data-ss-placement="bottom"><a href="{{profileUrl}}" class="link-main no-bold ellipsis"{{#openInNew}} target="_blank" rel="noreferrer"{{/openInNew}}>{{fullName}}</a></h4>\n    <p class="author-headline ellipsis">{{headline}}</p>\n    {{^isAuthor}}\n        <div class="follow-button-wrapper"></div>\n    {{/isAuthor}}\n</div>\n'},function(e,t,i){"use strict";(function(e,n){var s=i(1030),a=i(1439),o=i.n(a),r=s.a.extend({template:o.a,PLAYLIST_SEL:".js-video-playlist-module",LESSONS_TAB:".js-video-playlist-module-lessons-tab",PLAYER_CONTAINER:".js-video-and-playlist-container",TOP_PLAYER_CONTAINER:".js-cd-video-player-container",MIN_WIDTH_NEEDED:940,playlist:null,saveButton:null,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,"classModel")),this.$=n,this.playlist=this.$(this.PLAYLIST_SEL),this.on("attached",this.onAttached),this.on("unattach",this.onUnattach),s.a.prototype.initialize.apply(this,arguments)},onAttached:function(){var e=n(this.TOP_PLAYER_CONTAINER).width();this.decideLayout(e,!1),this.attachSizeWatcher()},onUnattach:function(){this.removeSizeWatcher()},afterRender:function(){this.setLayoutBottom(),s.a.prototype.afterRender.apply(this,arguments)},attachSizeWatcher:function(){var e=this;this.$(window).on("resize.skPlaylistResposiveWatcher",(function(){var t=n(e.TOP_PLAYER_CONTAINER).width();e.decideLayout(t)}))},decideLayout:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e>this.MIN_WIDTH_NEEDED?this.setLayoutRight(t):this.setLayoutBottom()},removeSizeWatcher:function(){n(window).off("resize.skPlaylistResposiveWatcher")},setLayoutBottom:function(){this.playlistIsIn(this.LESSONS_TAB)||this.playlist.appendTo(this.$(this.LESSONS_TAB))},setLayoutRight:function(e){e&&this.playlistIsIn(this.PLAYER_CONTAINER)||(this.playlist.appendTo(this.$(this.PLAYER_CONTAINER)),this.$('.user-navigation-wrapper a[href*="projects"]').last().click())},playlistIsIn:function(e){return 1===this.playlist.parents(e).length}});t.a=r}).call(this,i(51),i(48))},function(e,t){e.exports='<div id="lessons-tab">\n    <div class="js-video-playlist-module-lessons-tab"></div>\n</div>'},function(e,t,i){"use strict";(function(e,n,s){i(944),i(96),i(187);var a=i(1030),o=i(1100),r=i(459),l=i(1441),c=i.n(l),d=i(1067),h=i.n(d),u=i(1066),p=i.n(u),v=i(999),m=i.n(v),f=i(945),g=i(301),y=i(1274),b=i.n(y),w=i(1224),C=i.n(w),k=i(969),S=i.n(k),P=i(1282),T=a.a.extend({CONTAINER_PROJECT_CARD_SELECTOR:".js-project-card",COLLAPSED_CLASS_PD:"project-description-collapsed",PROJECT_GUIDE_CONTAINER_SELECTOR:".js-project-guide-container",DESCRIPTION_CONTENT_WRAPPER_SELECTOR:".js-description-content-wrapper",initialize:function(t){this.sortViews={},e.bindAll(this,"onSortedViewAttached","onSortedViewUnattach"),a.a.prototype.initialize.apply(this,arguments);var i=t&&!!t.el;i&&this.switchSortView(this.model,this.model.get("sortMethod")),this.stopListening(this.model,"change"),this.listenTo(this.model,"change:collection_cid",this.render),this.listenTo(this.model,"change:sortMethod",this.switchSortView)},autoRender:!1,templatePartials:{"shared/_underline-tabs":h.a,"shared/_tab":p.a,"shared/_small-list-view-grid-item":m.a,"class-details/shared/_user-project":b.a,"partials/workshops/_empty-project-grid-item":C.a,"partials/_user-information-small":S.a},regions:{list:".projects-list"},events:{"click .sort-order a":"updateSortMethod","click .sort-order .tab":"updateActiveSortTab","click .js-see-more-button":"loadFullProjectDescription"},template:c.a,templateData:function(){var t=e.clone(this.model.attributes);return t.collection=!!Object(g.a)(this,"model","collection","length"),t},afterPreRender:function(){this.afterRender()},afterRender:function(){this.renderProjectCard(),this.maybeHideLoadMoreButton(),a.a.prototype.afterRender.apply(this,arguments)},renderProjectCard:function(){var e=this.model.get("projectGuide").projectCardData;if(e){var t=this.$(this.CONTAINER_PROJECT_CARD_SELECTOR);new P.a({model:new n.Model(e),container:t})}},descriptionFitsContainer:function(){var e=this.$(this.DESCRIPTION_CONTENT_WRAPPER_SELECTOR),t=parseInt(e.css("max-height"),10),i=e.prop("scrollHeight");return!(!t||!i)&&t>i},maybeHideLoadMoreButton:function(){this.descriptionFitsContainer()&&(this.$(".js-see-more-button").hide(),this.$(this.PROJECT_GUIDE_CONTAINER_SELECTOR).removeClass(this.COLLAPSED_CLASS_PD))},onSortedViewAttached:function(e){e.view.collection.loadMore&&e.view.infiniteScroller.enable(),e.view.fallbackEl=this.$(".empty-section-state"),e.view.initFallback(),this.$(".projects-list-container").removeClass("loading-overlay")},onSortedViewUnattach:function(e){e.view.infiniteScroller.disable()},updateSortMethod:function(e){e.preventDefault();var t=e.target.href.replace(window.location.protocol+"//"+window.location.hostname,""),i=Object(f.a)(t).sort;this.model.get("sortMethod")!==i&&this.$(".projects-list-container").addClass("loading-overlay"),this.model.set("sortMethod",i),n.history.navigate(t)},updateActiveSortTab:function(e){e.preventDefault(),this.$(".sort-order .tab").removeClass("active"),this.$(e.currentTarget).addClass("active")},switchSortView:function(t,i){var n={};if(e.isEmpty(this.sortViews)&&void 0!==Object(g.a)(this,"model","collection","length")){var a=n.collection=this.model.collection,o=s.Deferred();o.resolve(),a.initialLoad=o.promise()}var r=this.sortViews[i]||this.initSortedView(n),l=this;r.collection.initialLoad.then((function(){t.get("sortMethod")===i&&l.list.attach(r,!0)}))},initSortedCollection:function(){var e=this.model._newCollection();return e.page=-1,e.initialLoad=e.fetchMore(),e},initSortedView:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.model.get("sortMethod"),n=e.extend({deferRender:!0,tagName:"ul",className:"projects-list row",columnSize:3},t);n.collection||(n.collection=this.initSortedCollection());var s=new o.a(n);return s.collection.each(this._bubbleChanges,this),s.collection.lastViewTime=this.model.get("lastViewTime"),s.infiniteScroller=new r.a({collection:n.collection,container:s.$el,buffer:250}),s.on("attached",this.onSortedViewAttached),s.on("unattach",this.onSortedViewUnattach),this.sortViews[i]=s,s},loadFullProjectDescription:function(){this.$(this.PROJECT_GUIDE_CONTAINER_SELECTOR).toggleClass(this.COLLAPSED_CLASS_PD)}});t.a=T}).call(this,i(51),i(76),i(48))},function(e,t){e.exports='<div class="class-project js-projects-section-view">\n    {{#projectGuide}}\n        <div id="project-guide-section" class="js-project-guide-container project-description-collapsed">\n            <div class="project-guide-section-grid">\n                <div class="project-description js-project-description">\n                    <h2 class="section-header title">Project Description</h2>\n                    <div class="rich-content-wrapper js-description-content-wrapper">\n                        {{{project_guide}}}\n                    </div>\n                </div>\n\n                <div class="your-project-container">\n                    <div class="your-project">\n                        {{#userHasProject}}\n                            <h2 class="section-header title your-project-title">\n                                Your Project\n                            </h2>\n                        {{/userHasProject}}\n                        {{#canCreateProject}}\n                            <a class="{{#userHasProject}}hide{{/userHasProject}} button large create-project-button-class-details" \n                                href="{{createProjectUrl}}">\n                                <svg class="ss-svg-icon"><use xlink:href="#project"></use></svg>Create Project\n                            </a>\n                            \n                            <div class="project-card-class-wrapper  project-guide project-card-class-details {{^userHasProject}}card-bordered-wrapper{{/userHasProject}}">\n                                <div class="project-card js-project-card"></div>\n                            </div>\n\n                        {{/canCreateProject}}\n                        {{^canCreateProject}}\n                            <div class="project-card-class-wrapper  project-guide {{^userHasProject}}card-bordered-wrapper{{/userHasProject}}">\n                                <div class="project-card js-project-card"></div>\n                            </div>\n                        {{/canCreateProject}}\n                    </div>\n                    {{#attachmentsCount}}\n                    <div id="attachments">\n                        <h2 class="section-header title">\n                            Resources<span class="attachments-count">({{attachmentsCount}})</span>\n                        </h2>\n                        <ul>\n                            {{#attachments}}\n\n                                <div class="attachment">\n                                    <div class="ellipsis-container">\n                                        <p class="ellipsis">\n                                            <svg class="ss-svg-icon"><use xlink:href="#link" /></svg>\n                                            <a {{#url}}href="{{url}}"{{/url}}{{^url}}href="javascript:;" data-ss-restrict="signup"{{/url}} rel="tooltip noreferrer" data-title="{{title}}" target="_blank">\n                                                {{title}}\n                                            </a>\n                                        </p>\n                                    </div>\n                                    <p class="filesize">{{size}}</p>\n                                </div>\n                            {{/attachments}}\n                        </ul>\n                    </div>\n                    {{/attachmentsCount}}\n                </div>\n                <div class="load-more-section">\n                    <div class="divider"></div>\n                    <a class="button alt-charcoal-ghost save js-see-more-button">See\n                        <span class="see-more">more <svg class="ss-svg-icon"><use xlink:href="#down"></use></svg></span>\n                        <span class="see-less">less <svg class="ss-svg-icon"><use xlink:href="#up"></use></svg></span>\n                    </a>\n                    <div class="divider"></div>\n                </div>\n            </div>\n\n        </div>\n    {{/projectGuide}}\n\n    <div class="projects-section grid">\n        {{#sortOrderTabs}}\n            <div class="sort-order">\n                <h2 class="section-header title">Student Projects</h2>\n                {{> shared/_underline-tabs}}\n            </div>\n        {{/sortOrderTabs}}\n        <div class="projects-list-container">\n            {{#collection}}\n                <div class="projects-list row">\n                    {{#projects}}\n                        {{> shared/_small-list-view-grid-item}}\n                    {{/projects}}\n                </div>\n            {{/collection}}\n            <ul class="empty-section-state hidden row">\n                <li class="no-projects">\n                    <div class="empty-area"><p>There are no projects for this class yet.</p></div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(1030),s=i(1443),a=i.n(s),o=i(950),r=n.a.extend({lessonId:null,template:a.a,notificationTypes:{ERROR:"error",UNAVAILABLE:"unavailable"},templateData:function(){return this.model.attributes},initialize:function(){var e=this;n.a.prototype.initialize.apply(this,arguments),this.on("prerendered",(function(){e.getVerbitWidget()}))},afterRender:function(){this.getVerbitWidget()},getVerbitWidget:function(){var e,t=this;this.verbitWidgetInstance?this.updateLessonTranscript():(this.lessonId=null===(e=this.model)||void 0===e?void 0:e.lessonId,o.a.verbitWidget((function(){window.VerbitWidget.renderAndInit("transcripts-wrapper","vjs_video_3_html5_api",(function(e){t.verbitWidgetInstance=e,t.updateLessonTranscript()}))}),(function(){t.setNotification(t.notificationTypes.ERROR)})))},updateLessonTranscript:function(){var e=this.model.get("transcriptCuesArray");if(e[this.lessonId]){var t=e[this.lessonId].content;t.length>0?(this.resetNotification(),this.verbitWidgetInstance.renderCaptionsData(t),this.verbitWidgetInstance.renderCaptionsData(t),this.verbitWidgetInstance.$words.off("click")):this.setNotification(this.notificationTypes.UNAVAILABLE)}},onSessionChange:function(e){this.lessonId=null==e?void 0:e.id,this.updateLessonTranscript()},setNotification:function(e){this.resetNotification(),this.$(".js-transcripts-wrapper").hide(),this.$(".js-transcript-notify").addClass(e)},resetNotification:function(){this.$(".js-transcripts-wrapper").show(),this.$(".js-transcript-notify").removeClass("unavailable").removeClass("error")}});t.a=r},function(e,t){e.exports='<div id="transcripts-tab" class="transcripts-section">\n  <div class="js-transcripts-section-container transcripts-section-container new-grid">\n    <div class="transcripts-notifications js-transcript-notify">\n      <div class="error">There was an error loading the transcript. Please reload the page.</div>\n      <div class="no-transcript">Transcript unavailable.</div>\n    </div>\n    <div id="transcripts-wrapper" class="transcripts-section-grid js-transcripts-wrapper"></div>\n  </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,n){var s=i(1030),a=i(300),o=i(1055),r=i(1184),l=i(1185),c=i(1070),d=i(459),h=i(1186),u=i(463),p=i(1445),v=i.n(p),m=i(1274),f=i.n(m),g=i(999),y=i.n(g),b=i(941),w=i(449),C=i(132),k=s.a.extend({template:v.a,templatePartials:{"class-details/shared/_user-project":f.a,"shared/_small-list-view-grid-item":y.a},templateData:function(){return this.model.attributes},events:{"click .sidebar-section-title-students":"openUserListPopup"},initialize:function(e){var t=e&&!!e.el;t&&this.afterRender(),this.on("attached",this.onAttached),this.on("unattach",this.onUnattach),s.a.prototype.initialize.apply(this,arguments)},onAttached:function(){w.a.initRichTextareas(this.$el),this.listenTo(e,"change:discussions:pinDiscussion",this.onPinDiscussion)},onUnattach:function(){this.$("textarea.rich").data("ss-initialized",!1),this.stopListening(e,"change:discussions:pinDiscussion")},afterRender:function(){var e=this.$(".discussions-list"),t=this.model.get("list");this.discussions=new r.a(t.discussions,{loadMore:t.loadMore,_modelId:this.model.get("parentClassData").id,comparator:function(e){return-e.get("lastActivityTimeTimestamp")}}),this.discussions.url=t.discussionsUrl,this.discussionsCollectionView=new l.a({collection:this.discussions,el:e,fallbackEl:this.$(".empty-discussions")}),new d.a({collection:this.discussions,container:e}),this.createDiscussionForm(),this.setupPinnedDiscussion(),b.a.initUserPopovers(this),a.a.initRestrictedAccessHandlers(this),s.a.prototype.afterRender.apply(this,arguments),SS.events.on("userCanCreateDiscussion",this.setUserCanCreateDiscussion.bind(this))},createDiscussionForm:function(){if(this.model.get("canUserCreate")){var e=new o.a({discussable_id:this.model.get("parentClassData").id,type:"Announcement",discussable_type:"ParentClasses"});this.discussionForm=new h.a({model:e,currentUser:SS.currentUser,container:this.$(".discussion-form-wrapper"),templateData:{formTogglePlaceholder:"Post a question or start a conversation with your class!",currentUser:n.extend({canNotifyAll:this.model.get("canNotifyAll")},SS.currentUser.attributes),discussionTypes:this.model.get("discussionTypes")}}),this.listenTo(this.discussionForm,"new:discussion",this.onNewDiscussion)}},setupPinnedDiscussion:function(){var e=this;this.pinnedDiscussion&&(this.pinnedDiscussion.unbind(),this.pinnedDiscussion.remove());var t=this.model.get("pinnedDiscussionData");if(this.$(".pinned-discussion-wrapper").toggleClass("hidden",n.isEmpty(t)),!n.isEmpty(t)){var i=new o.a(t);this.pinnedDiscussion=new c.a({model:i,container:this.$(".pinned-discussion")}),i.on("destroy",(function(){e.$(".pinned-discussion-wrapper").toggleClass("hidden",!0),e.model.set("pinnedDiscussionData",null)}))}},onNewDiscussion:function(e){this.discussions.unshift(e),this.discussionForm.remove(),this.createDiscussionForm()},openUserListPopup:function(){new u.a({title:"Students",emptyMessage:"There are no students in this class.",url:this.model.get("studentsListUrl")})},setUserCanCreateDiscussion:function(e){var t=e.canUserCreateDiscussion;this.model.set("canUserCreate",t)},onPinDiscussion:function(e){var t=this,i=e.get("isPinned"),s=i?"DELETE":"POST",a="/discussions/".concat(e.get("id"),"/pin");C.a.ajaxRequest(a,{type:s,success:function(){var s=t.model.get("pinnedDiscussionData");if(i)t.model.set("pinnedDiscussionData",null),e.set("isPinned",!1),t.discussions.add(e),t.setupPinnedDiscussion();else{if(!n.isEmpty(s)){var a=JSON.parse(JSON.stringify(s));a.isPinned=!1,t.discussions.add(new o.a(a))}e.set("isPinned",!0),t.model.set({pinnedDiscussionData:e.attributes},{silent:!0}),t.setupPinnedDiscussion(),t.discussions.remove(e.get("id"))}},error:function(){SS.events.trigger("alerts:create",{title:"Discussion could not be pinned, please try again",type:"error"})}})}});t.a=k}).call(this,i(76),i(51))},function(e,t){e.exports='<div id="discussions-tab" class="discussions-section">\n    <div class="cd-discussions-grid">\n        <div class="cd-discussions-main discussions-wrapper intab">\n            {{#isGuest}}\n                <div class="cta">\n                    <div class="login-cta">Please <a href="/login" data-ss-restrict="login" data-ss-redirect-return="true">sign in</a> or <a href="/signup" data-ss-restrict="signup" data-ss-redirect-return="true">sign up</a> to comment.</div>\n                </div>\n            {{/isGuest}}\n            {{#canUserCreate}}\n                <div class="cta">\n                    <div class="discussion-form-wrapper"></div>\n                </div>\n            {{/canUserCreate}}\n            <div class="pinned-discussion-wrapper">\n                <div class="pinned-discussion"></div>\n            </div>\n            <ul class="discussions-list{{^canUserCreate}}{{^isGuest}} without-header{{/isGuest}}{{/canUserCreate}}">\n                <li><div class="icon-loading full-width"></div></li>\n            </ul>\n            <div class="empty-discussions empty-area hidden">No one has created a discussion yet.</div>\n        </div>\n        {{#sidebarData}}\n            <div class="cd-discussions-sidebar sidebar">\n                {{> class-details/shared/_user-project}}\n                {{#numProjects}}\n                    <div class="sidebar-section">\n                        <h5 class="sidebar-section-title"><a href="{{projectsUrl}}" class="link-main section-navigation">Student Projects</a> <span class="count">{{totalNumProjects}}</span></h5>\n                        <div class="sidebar-row clear">\n                            {{#projects}}\n                                <div class="sidebar-column projects">\n                                    <a href="{{url}}" class="ratio ratio-2-3" style="background-image: url({{image}});" target="_blank" rel="noreferrer"></a>\n                                </div>\n                            {{/projects}}\n                        </div>\n                    </div>\n                {{/numProjects}}\n                {{#numStudents}}\n                    <div class="sidebar-section">\n                        <h5 class="sidebar-section-title">\n                            <button class="link-main sidebar-section-title-students">Students</button>\n                            <span class="count">{{totalNumStudents}}</span>\n                        </h5>\n                        <div class="sidebar-row clear">\n                            {{#students}}\n                                <div class="sidebar-column students">\n                                    <a href="{{url}}" class="ratio ratio-1-1" style="background-image: url({{image}});" data-ss-username="{{username}}" target="_blank" rel="noreferrer"></a>\n                                </div>\n                            {{/students}}\n                        </div>\n                    </div>\n                {{/numStudents}}\n            </div>\n        {{/sidebarData}}\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e){var n=i(1030),s=i(1447),a=i(1448),o=i(1070),r=i(449),l=n.a.extend({legacyRender:!0,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,"classModel")),this.on("attached",this.onAttached),this.on("unattach",this.onUnattach),n.a.prototype.initialize.apply(this,arguments)},onAttached:function(){r.a.initRichTextareas(this.$el)},onUnattach:function(){this.$("textarea.rich").data("ss-initialized",!1)},afterRender:function(){this.discussionModel=new s.a(this.model.get("discussion"),{classModel:this.classModel}),new o.a({model:this.discussionModel,el:this.$el}),new a.a({el:this.$(".discussion-meta .action-follow-unfollow")}),n.a.prototype.afterRender.apply(this,arguments)}});t.a=l}).call(this,i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(1113).a.extend({initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.isUndefined(i.classModel)||(this.classModel=i.classModel)},sync:function(t,i,s){return s.data=s.data||{},e.extend(s.data,{sku:this.classModel.get("sku"),classId:this.classModel.id,commentSort:this.get("commentSort"),type:this.get("sectionType")}),n.sync.apply(this,arguments)}});t.a=s}).call(this,i(51),i(76))},function(e,t,i){"use strict";(function(e,n){i(456),i(96),i(187);var s=i(1449),a=e.View.extend({followLink:null,events:{"click .btn-follow":"submit","hover .btn-follow":"hover"},initialize:function(){n.bindAll(this,"onSuccess","update"),this.followLink=this.$(".btn-follow"),this.followableId="f"+this.$('input[name="id"]').val(),this.followEndpoint=this.$('input[name="follow-endpoint"]').val(),this.unfollowEndpoint=this.$('input[name="unfollow-endpoint"]').val(),this.model=new e.Model,this.model.url=this.$el.attr("action"),this.model.set("isFollowing",this.$el.hasClass("following")),s.a.remember(this,this.followableId)},submit:function(){this.model.fetch({data:this.$el.serialize()}).done(this.onSuccess)},onSuccess:function(e){if(301===Number(e)){var t=window.location;window.location.replace(t.protocol+"//"+t.hostname+"/login")}else s.a.notify(this.followableId)},update:function(){var e,t,i=!this.model.get("isFollowing");this.model.set("isFollowing",i),this.$el.toggleClass("following"),i?(this.$el.attr("action",this.unfollowEndpoint),this.model.url=this.unfollowEndpoint,t="Click Unfollow",e="Unfollow"):(this.$el.attr("action",this.followEndpoint),this.model.url=this.followEndpoint,t="Click Follow",e="Follow"),this.followLink.attr("ga-action",t),this.$(".btn-follow").html(e)},hover:function(){}});t.a=a}).call(this,i(76),i(51))},function(e,t,i){"use strict";(function(e){var i={liveItems:[],init:function(){return this},remember:function(e,t){var i=this.liveItems[t];i?i.push(e):this.liveItems[t]=new Array(e)},notify:function(t){var i=this.liveItems[t];e.each(i,(function(e){e.update()}))}};t.a=i.init()}).call(this,i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(145),a=i(1451),o=s.a.extend({className:"class-share-popover base-share",placement:"top",onboarding:!1,CORRECTED_HEIGHT:315,DEFAULT_HEIGHT:295,EXPANDED_HEIGHT:587,TITLE_YOUR_CLASS:"Share Your Class, Earn $10",TITLE_TEACHER:"Share This Class, Earn $10",TITLE_STUDENT:"Share This Class, Get Free Months",TITLE_NON_STRIPE_STUDENT:"Share this Class with Your Friends",DESC_TEACHER:"Invite students to 1 free month of Skillshare. Earn $10 for each sign up.",DESC_STUDENT:"Invite your friends to try Skillshare free for 1 month. Earn one free month for each friend who signs up.",DESC_NON_STRIPE_STUDENT:"Invite your friends to watch this class with 1 free month of Skillshare.",initialize:function(t){s.a.prototype.initialize.apply(this,arguments),e.extend(this,e.pick(t,["defaultHeight","expandedHeight","onboarding","roster","userIsAffiliateReferrer"])),this.options=t||{},e.bindAll(this,"onOpen","onClose","expandPopover"),this.listenTo(this,"popover:open",this.onOpen),this.listenTo(this,"popover:close",this.onClose)},onOpen:function(){var t=SS.serverBootstrap.pageData.isTeacher?this.TITLE_YOUR_CLASS:this.TITLE_TEACHER,i=SS.serverBootstrap.pageData.isLoggedInNonStripeUser?this.TITLE_NON_STRIPE_STUDENT:this.TITLE_STUDENT,s=this.userIsAffiliateReferrer?t:i,o=SS.serverBootstrap.pageData.isLoggedInNonStripeUser?this.DESC_NON_STRIPE_STUDENT:this.DESC_STUDENT,r=this.userIsAffiliateReferrer?this.DESC_TEACHER:o;this.classShareView=new a.a(e.extend(this.options,{el:n(".class-share-wrapper"),viewTitle:s,viewDescription:r,showCompact:this.options.showCompact,isEmail:!this.options.showCompact})),this.options.showEmail?this.$el.css("min-height",this.CORRECTED_HEIGHT):this.$el.css("min-height",0),this.reposition(),this.classShareView.$(".btn-close").on("click",this.close.bind(this)),this.listenTo(this.classShareView,"google:user:authorized",this.expandPopover),this.listenTo(this.classShareView,"link:button:click",this.reposition),this.onboarding?(SS.EventTracker.track("Class Onboarding: Viewed Onboarding",null,{type:"class-share-popover"}),SS.currentUser.save({completed_class_onboarding_time:1},{patch:!0}),this.roster.set({completed_onboarding_time:1}),this.roster.save(),SS.EventTracker.track("Class Onboarding: Completed",null,{sku:this.model.get("sku"),type:"class-share-popover"})):SS.EventTracker.track("Viewed Referral Popup",null,{type:"class-share-popover"})},onClose:function(){this.onboarding&&(this.onboarding=!1,this.showOnHover=!0)},expandPopover:function(){this.options.showCompact||(n(".class-share-popover").css("min-height",this.EXPANDED_HEIGHT),this.reposition())}});t.a=o}).call(this,i(51),i(48))},function(e,t,i){"use strict";(function(e){var n=i(1452),s=i(945),a=n.a.extend({onboarding:!1,className:"base-share class-share",templateData:function(){var t=Object(s.a)();return e.extend({viewTitle:this.viewTitle,viewDescription:this.viewDescription,via:this.via,utm_campaign:t.utm_campaign,utm_source:t.utm_source,utm_medium:t.utm_medium,showCompact:this.showCompact},this.model.attributes)},initialize:function(t){e.extend(this,e.pick(t,["onboarding","roster","viewTitle","viewDescription","showCompact"])),this.via=this.onboarding?"class-onboarding-share":"class-details-share-popup",this.viewTitle=this.viewTitle||"Share This Class",this.viewDescription=this.viewDescription||"Know someone who might love this class?<br/>Let them know about it!",n.a.prototype.initialize.apply(this,arguments)}});t.a=a}).call(this,i(51))},function(e,t,i){"use strict";(function(e,n){i(133);var s=i(57),a=i(964),o=i(1051),r=i(997),l=i(998),c=i(1453),d=i.n(c),h=i(1097),u=i.n(h),p=i(1098),v=i.n(p),m=i(1454),f=i.n(m),g=s.a.extend({className:"base-share",template:v.a,templatePartials:{"shared/_email-invite":u.a},events:{"click .invite-contacts":"onInviteContactsClick","click .manual-toggle":"onManualToggleClick"},initialize:function(){s.a.prototype.initialize.apply(this,arguments),this.trackingParams=e.extend({via:this.via},e.pick(this.model.get("formData"),["parentClassId","workshopId"]))},afterRender:function(){var t=this;s.a.prototype.afterRender.apply(this,arguments),this.$email=this.$(".email-invite"),this.$emailForm=this.$email.find("form"),this.$manualToggle=this.$(".manual-toggle"),this.$manualSection=this.$(".manual-section"),this.$contactsSection=this.$(".contacts-section"),this.$inlineErrorMessage=this.$el.find(".js-inline-error-message");var i=new o.a({template:d.a,el:this.$(".social-share-buttons-wrapper"),model:this.model,trackingParams:this.trackingParams,showCompact:this.showCompact,showEmail:!this.showCompact,linkOnly:!0});this.listenTo(i,"link:button:click",(function(){this.trigger("link:button:click")}));var a=new r.a({el:this.$emailForm,trackingParams:this.trackingParams,model:this.model});this.listenTo(a,"inlineReferralError",(function(e){var i=e.message;t.$inlineErrorMessage.html(i),t.$email.toggleClass("has-inline-error",!0)}));var l=new n.Model(e.extend(SS.serverBootstrap.pageData.videoPlayerData.shareLinks,SS.serverBootstrap.classData.parentClass,{hideShortUrl:!1,showLinkBtn:!0,showEmail:!1}));new o.a({el:this.$(".share-popup-all-buttons"),model:l,template:f.a})},trackSocialShare:function(t){var i=e.extend(this.model.get("formData"),this.trackingParams,{method:t,type:a.a.TYPES.REFERRAL_LINK});new a.a(i).save()},onInviteContactsClick:function(){var t=e.extend({endpoint:this.model.get("formData").action,method:a.a.METHODS.GMAIL_CONTACTS},this.trackingParams);this.googleContactsView=new l.a({el:this.$contactsSection,trackingParams:this.trackingParams,referralData:t}),this.showCompact?(this.$(".compact-gmail-contacts-show").show(),this.$(".compact-gmail-contacts-hide").hide()):this.googleContactsView.on("user:authorized",this.hideForm,this),this.googleContactsView.on("user:authorized",this.onUserAuthorized,this),this.googleContactsView.authorize(),SS.EventTracker.track("Clicked Invite Gmail Contacts",{},this.trackingParams)},onManualToggleClick:function(){this.showForm()},hideForm:function(){this.$manualSection.hide(),this.$manualToggle.css("display","inline-block")},showForm:function(){this.$manualSection.show(),this.$manualToggle.hide()},onUserAuthorized:function(){this.trigger("google:user:authorized")}});t.a=g}).call(this,i(51),i(76))},function(e,t){e.exports='<div class="share-popup-all-buttons">\n</div>'},function(e,t){e.exports='<div class="social-share-buttons">\n\t<div class="link-input btn small hidden">\n        <input type="text" class="small select-on-click" value="{{shortUrl}}" readonly="readonly" />\n    </div>\n    <div class="buttons-container">\n\t\t<div class="share-facebook btn fb large-icon ss-icon-facebook share-button"></div>\n   \t\t<a class="share-twitter btn twitter large-icon ss-icon-twitter share-button" href="https://twitter.com/intent/tweet?text={{urlEncodedTweetText}}" longurl="{{twitterUrl}}" shorturl=""></a>\n   \t\t<div class="share-link btn large-icon ss-icon-link share-button" longurl="{{directUrl}}"></div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,n){i(27),i(45),i(297),i(133),i(264),i(96),i(187),i(172),i(228);var s=i(132),a=i(145),o=i(1456),r=i.n(o),l=a.a.extend({template:r.a,templateData:function(){return{icons:this.options.icons}},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.a.prototype.initialize.apply(this,arguments),this.options=t;var i=this.getDurationInMinutes(this.options.duration),n=this.roundStartTime(new Date);n.setDate(n.getDate()+1);var s=this.cleanDescription(this.options.description);this.event={start:n,title:this.options.title,duration:i,description:s,eventLocation:this.options.baseUrl},this.MS_IN_MINUTES=6e4,e.bindAll(this,"onGoogleCalendarEvent","onYahooCalendarEvent","onDataCalendarEvent")},afterRender:function(){e.bindAll(this,"onOpen"),this.listenTo(this,"popover:open",this.onOpen);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];a.a.prototype.afterRender.apply(this,i)},onOpen:function(){this.visibleEl.find(".google-cal").on("click",this.onGoogleCalendarEvent),this.visibleEl.find(".yahoo-cal").on("click",this.onYahooCalendarEvent),this.visibleEl.find(".apple-cal").on("click",this.onDataCalendarEvent),this.visibleEl.find(".outlook-cal").on("click",this.onDataCalendarEvent),this.mixPanelTrack("Opened Add To Calendar Popover")},onGoogleCalendarEvent:function(){var e=this.formatTime(this.event.start),t=this.calculateEndTime(),i="".concat(this.event.eventLocation,"?via=calendar-google"),n=encodeURI("https://www.google.com/calendar/render?action=TEMPLATE&text=".concat(this.event.title,"&dates=").concat(e,"/").concat(t,"&details=").concat(this.event.description,"<p><a href='").concat(i,"'>").concat(this.event.eventLocation,"</a></p>&location=").concat(i,"&sprop=&sprop=name:"));this.openLink(n),this.mixPanelTrack("Added Class To Google Calendar")},onYahooCalendarEvent:function(){var e="".concat(this.event.eventLocation,"?via=calendar-yahoo"),t=this.event.end?(this.event.end.getTime()-this.event.start.getTime())/this.MS_IN_MINUTES:this.event.duration,i=t<600?"0"+Math.floor(t/60):Math.floor(t/60)+"",n=t%60<10?"0".concat(t%60):String(t%60),s="".concat(i).concat(n),a=this.formatTime(this.event.start),o=encodeURI("http://calendar.yahoo.com/?v=60&view=d&type=20&title=".concat(this.event.title,"&st=").concat(a,"&dur=").concat(s,"&desc=").concat(this.event.description,"&in_loc=").concat(e));this.openLink(o),this.mixPanelTrack("Added Class To Yahoo Calendar")},onDataCalendarEvent:function(e){var t=n(e.currentTarget).data("calendar")||"Desktop",i=this.formatTime(this.event.start),s=this.calculateEndTime(),a="".concat(this.event.eventLocation,"?via=calendar-").concat(t),o=encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:".concat(a),"DTSTART:".concat(i),"DTEND:".concat(s),"SUMMARY:".concat(this.event.title),"DESCRIPTION:".concat(this.event.description),"LOCATION:".concat(a),"END:VEVENT","END:VCALENDAR"].join("\n"));this.openLink(o),this.mixPanelTrack("Added Class To ".concat(t," Calendar"))},formatTime:function(e){return e.toISOString().replace(/-|:|\.\d+/g,"")},calculateEndTime:function(){var e=new Date(this.event.start.getTime()+this.event.duration*this.MS_IN_MINUTES);return this.formatTime(e)},getDurationInMinutes:function(e){var t=(e||"0").replace("m","").split("h");return t.length>1?60*parseInt(t[0].trim(),10)+parseInt(t[1].trim(),10):parseInt(t[0],10)},roundStartTime:function(e){return e.setHours(e.getHours()+Math.ceil(e.getMinutes()/60)),e.setMinutes(0),e},cleanDescription:function(e){var t="";if("string"==typeof e&&1e3===(t=e.replace(/<(?:.|\n)*?>/gm,"").substring(0,1e3)).length){var i=t.split(" ");i.pop(),t="".concat(i.join(" "),"...")}return t},openLink:function(e){window.open(e,"_blank")},mixPanelTrack:function(e){try{SS.EventTracker.track(e,{},SS.EventTracker.classDetails({from_page:s.a.getPathname()}))}catch(e){console.log("Tracking error: ".concat(e,"!"))}}});t.a=l}).call(this,i(51),i(48))},function(e,t){e.exports='<div class="inner-popover">\n  <div class="arrow"></div>\n  <ul>\n    <li><a href="javascript:;" class="outlook-cal" data-calendar="Outlook">\n    <img src="{{icons.outlook}}" /> Outlook Calendar</a></li>\n    <li><a href="javascript:;" class="google-cal" data-calendar="Google">\n    <img src="{{icons.google}}" /> Google Calendar</a></li>\n    <li><a href="javascript:;" class="apple-cal" data-calendar="Apple">\n    <img src="{{icons.apple}}" /> Apple Calendar</a></li>\n    <li class="last"><a href="javascript:;" class="yahoo-cal" data-calendar="Yahoo">\n    <img src="{{icons.yahoo}}" /> Yahoo! Calendar</a></li>\n  </ul>\n</div>'},function(e,t,i){"use strict";(function(e,n){i(133);var s=i(1059),a=i(1369);var o=s.a.extend({events:{"click .approve-class":"onClickApproveClass","click .approve-and-feature-class":"onClickApproveAndFeatureClass","click .update-previewable":"onClickPreviewable","click .update-indexed":"onClickIndexed","click .js-update-transcript":"onClickTranscripts","click .update-staff-pick":"onClickStaffPick","click .update-audio-only":"onClickAudioOnly",'click [name="display_status"]':"onClickDisplayStatus","focus .js-quality-grade":"onFocusQualityGrade","change .js-quality-grade":"onChangeQualityGrade","click .js-button-update-note-only":"onClickButtonUpdateNotesOnly","keyup .js-quality-grade-notes":"onChangeQualityGradeNote","click .update-ss-owned":"onClickSkillshareOwned","click .update-ss-produced":"onClickSkillshareProduced","click .delete-parent-class":"onClickDeleteParentClass","click .js-undelete-class":"onClickUndeleteClass"},gradeDropdown:e(".js-quality-grade"),gradeNote:e(".js-quality-grade-notes"),gradeNoteConfimation:e(".js-grade-note-confirmation"),updateButtonGradeGradeNoteOnly:e(".js-button-update-note-only"),initialize:function(e){s.a.prototype.initialize.apply(this,arguments),this.classData=n.result(e,"classData"),new a.a},onClickApproveClass:function(){this.doApproveClass(0,"This class WILL NOT be featured.")},onClickApproveAndFeatureClass:function(){this.doApproveClass(1,"This class WILL be featured.")},doApproveClass:function(e,t){var i="Are you sure you want to approve this inbound class?\nPressing OK will publish this class so that it's live and enrollable.\n"+"".concat(t),n={sku:this.classData.sku,feature:e};this.actionOnClick(i,"/listings/publish",n,"Error publishing class. Are you sure your class doesn't have any validation errors?")},onClickIndexed:function(){var e=this.classData.parentClass.is_indexed;this.toggleBooleanAttribute(e,"is_indexed","indexing status")},onClickStaffPick:function(){var e=this.classData.parentClass.is_staff_pick;this.toggleBooleanAttribute(e,"is_staff_pick","staff pick status")},onClickAudioOnly:function(){var e=this.classData.parentClass.is_audio_only;this.toggleBooleanAttribute(e,"is_audio_only","audio only status")},onClickDisplayStatus:function(e){e.preventDefault();var t=parseInt(e.target.value,10),i=e.target.labels[0].innerText,n="Are you sure you want to change the display status to ".concat(i,"?"),s={id:this.classData.parentClass.id,attributes:{display_status:t}};this.actionOnClick(n,"/classes/adminUpdateAttributes",s,"Error updating the display status. Are you sure your class doesn't have any validation errors?")},onChangeQualityGradeNote:function(){this.updateButtonGradeGradeNoteOnly.removeClass("hide")},onClickButtonUpdateNotesOnly:function(){var e={quality_grade:parseInt(this.gradeDropdown.val(),10),grade_note:this.gradeNote.val()};this.updateQualityGrade(null,e)},showConfirmation:function(){var e=this;this.updateButtonGradeGradeNoteOnly.prop("disabled",!1),this.updateButtonGradeGradeNoteOnly.addClass("hide"),this.gradeNoteConfimation.removeClass("hide"),window.setTimeout((function(){return e.gradeNoteConfimation.addClass("hide")}),1500)},onFocusQualityGrade:function(){this.previousGradeDropdownState={label:e("#site-menu .ss-select .label").text(),value:this.gradeDropdown.val()}},resetGrade:function(){var t=this.previousGradeDropdownState;t&&(e("#site-menu .ss-select .label").text(t.label),this.gradeDropdown.find("option[value=".concat(t.value,"]")).prop("selected",!0))},onChangeQualityGrade:function(e){e.preventDefault();var t=parseInt(this.gradeDropdown.val(),10),i=this.gradeNote.val(),n=this.gradeDropdown.find(":selected");if(n.data("request-note")&&i.length<3)alert("This type of grade needs a note!\nPlease input a grade note and reselect this grade.\nThe grade has not been updated!"),this.resetGrade();else{var s=null;n.data("request-confirm-msg")&&(s="Are you sure you want to select "+n.text()+" for this class?");var a={quality_grade:t,grade_note:i};this.updateQualityGrade(s,a)}},updateQualityGrade:function(e,t){this.updateButtonGradeGradeNoteOnly.prop("disabled",!0);var i={id:this.classData.parentClass.id,attributes:t};this.actionOnClick(e,"/classes/adminUpdateAttributes",i,"Error updating the quality grade.",this.resetGrade.bind(this),this.showConfirmation.bind(this))},onClickPreviewable:function(){var e=this.classData.parentClass.is_previewable;this.toggleBooleanAttribute(e,"is_previewable","previewable status")},onClickSkillshareOwned:function(){var e=this.classData.parentClass.is_skillshare_owned;this.toggleBooleanAttribute(e,"is_skillshare_owned","Skillshare owned status")},onClickSkillshareProduced:function(){var e=this.classData.parentClass.is_skillshare_produced;this.toggleBooleanAttribute(e,"is_skillshare_produced","Skillshare produced status")},onClickTranscripts:function(){var e=this.classData.parentClass.display_transcripts;this.toggleBooleanAttribute(e,"display_transcripts","Display Transcripts on Logged out Home")},onClickDeleteParentClass:function(){var e={sku:this.classData.parentClass.sku};this.actionOnClick("Are you sure you want to delete this class and all related enrollments, projects, notes, etc.?","/listings/delete",e,"Could not delete the class")},onClickUndeleteClass:function(){var e={sku:this.classData.parentClass.sku};this.actionOnClick("Are you sure you want to undelete this class and all related enrollments, projects, notes, etc.?","/listings/undelete",e,"Could not undelete the class")},toggleBooleanAttribute:function(e,t,i){var n,s,a,o=e?0:1,r="Are you sure you want to change the "+i+" to "+(e?"NO":"YES")+"?",l={id:this.classData.parentClass.id,attributes:(n={},s=t,a=o,s in n?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a,n)};l.attributes={},l.attributes[t]=o;var c="Error updating the "+i+". Are you sure your class doesn't have any validation errors?";this.actionOnClick(r,"/classes/adminUpdateAttributes",l,c)}});t.a=o}).call(this,i(48),i(51))},function(e,t,i){"use strict";(function(e,n){var s=i(1459),a=i(1064),o=i(1095),r=i(1221),l=i(1222),c=i(459),d=i(358),h=i(1461),u=i.n(h),p=s.a.extend({defaultPrivacyStatus:1,template:u.a,events:{"click .close-button":"closeDrawer"},initComponent:function(t){e.bindAll(this,"addNotesCollectionView","onStateChange"),e.extend(this,e.pick(t,["displayNote","via","templateData"])),this.notes=new o.a([]),this.notes.comparator="video_time",this.listenTo(this.notes,"sync",this.onCollectionFetch),SS.EventTracker.track("Viewed Learn Mode",{},{via:this.via})},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.$loadingIcon=this.$(".icon-loading"),this.$numNotes=this.$(".num-notes"),this.$sessionTitle=this.$(".session-title"),this.$notesWrapper=this.$(".notes-wrapper"),this.$notesCollectionWrapper=this.$(".learn-mode-notes-collection-wrapper"),this.$emptyArea=this.$(".empty-area"),this.addNoteForm(),this.addNotesCollectionView(),this.fetchNotes(),this.endLoading()},onStateChange:function(){this.fetchNotes(),this.removeNoteForm(),this.addNoteForm()},addNoteForm:function(){var e={session:this.session},t=new a.a({privacy_status:this.defaultPrivacyStatus},e);this.noteForm=new r.a({container:this.$(".note-form-wrapper"),player:this.player,model:t,session:this.session,via:"learn-mode"}),this.listenTo(this.noteForm,"created:note",this.onNewNote),this.listenTo(this.noteForm,"change:privacy_status",this.onPrivacyStatusChange)},removeNoteForm:function(){this.noteForm.remove()},onNewNote:function(e){this.notes.add(e),this.resetNoteForm(),this.incrementNoteCount(),this.updateEmptyState(),this.trigger("created:note",e)},resetNoteForm:function(){this.removeNoteForm(),this.addNoteForm(),this.noteForm.show()},addNotesCollectionView:function(){var e=new l.a({container:this.$notesCollectionWrapper,collection:this.notes});this.infiniteScroller=new c.a({collection:this.notes,container:this.$notesCollectionWrapper,buffer:300}),this.listenTo(e,"click:videoTime",this.onVideoTimeClick),this.listenTo(this.notes,"remove",this.onNoteRemove)},fetchNotes:function(){this.startLoading();var e=this;this.notes.fetchSet({data:this.state.attributes,success:function(){e.endLoading()},error:function(){e.endLoading()}})},onCollectionFetch:function(){this.displayNote&&(this.highlightNote(this.displayNote),this.displayNote=void 0),this.infiniteScroller.update({fetchOptions:{data:this.state.attributes}}),this.$sessionTitle.html(e.escape(this.session.get("title"))),this.updateEmptyState(),this.$numNotes.html(d.a.pluralize(this.notes.total," Note"))},updateEmptyState:function(){if(this.notes.total>0)return this.$emptyArea.hide(),void this.$numNotes.css("display","inline-block");this.$numNotes.hide(),this.$emptyArea.html("There are no notes for this video.").show()},incrementNoteCount:function(){this.notes.total+=1;var e=parseInt(this.$numNotes.html(),10);this.$numNotes.html(d.a.pluralize(e+1," Note"))},decrementNoteCount:function(){this.notes.total-=1;var e=parseInt(this.$numNotes.html(),10);this.$numNotes.html(d.a.pluralize(e-1," Note"))},onNoteRemove:function(){this.decrementNoteCount(),this.updateEmptyState()},onVideoTimeClick:function(e){this.player.setCurrentTime(e.get("video_time")),this.player.play(),n("html, body").scrollTop(0)},onPrivacyStatusChange:function(e){this.defaultPrivacyStatus=e},highlightNote:function(e){var t=this.notes.get(e);t&&t.trigger("highlight")},startLoading:function(){this.$loadingIcon.show()},endLoading:function(){this.$loadingIcon.hide()}});t.a=p}).call(this,i(51),i(48))},function(e,t,i){"use strict";(function(e){var n=i(57),s=i(1460),a=i(300),o=n.a.extend({className:"video-drawer",initComponent:function(){},onStateChange:function(){},afterRender:function(){a.a.initNewTooltips(this.$el),n.a.prototype.afterRender.apply(this,arguments)},events:function(){return{"click .close-button":"closeDrawer"}},initialize:function(t){if(e.extend(this,e.pick(t,["videoPlayer","session"])),!this.videoPlayer)throw new Error("A Video Player is required for this view");if(!this.session)throw new Error("A session model is required for this view");this.player=this.videoPlayer.videoPlayer,this.state=new s.a({session_id:this.session.id}),this.listenTo(this.state,"change:session_id",this.onStateChange),this.initComponent(t),n.a.prototype.initialize.apply(this,arguments)},closeDrawer:function(){this.trigger("toggle:drawer","close-button")},updateSession:function(e){this.session=e,this.state.set("session_id",this.session.id)},open:function(e){this.$el.css("opacity"),this.$el.css({minHeight:e.minHeight,opacity:1});var t=this;setTimeout((function(){t.$el.css("maxHeight","none")}),100)},close:function(e){a.a.destroyTooltips(this.$el),this.$el.css({maxHeight:0,opacity:0}),e&&setTimeout(e,100)},startLoading:function(){this.state.set("error",!1),this.state.set("loading",!0)},endLoading:function(){this.state.set("loading",!1)}});t.a=o}).call(this,i(51))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({});t.a=i}).call(this,i(76))},function(e,t){e.exports='<div class="video-drawer-view">\n\n    <a href="javascript:;" class="close-button ss-icon-close" rel="tooltip" title="Hide Notes"></a>\n\n    <div class="video-drawer-content">\n        {{#showNoteForm}}\n            <div class="note-form-wrapper"></div>\n        {{/showNoteForm}}\n        {{#showLoginCTA}}\n            <div class="video-drawer-header">\n                <a href="javascript:;" data-ss-restrict="signup" class="secondary">Post a note on this video</a>\n            </div>\n        {{/showLoginCTA}}\n        <div class="notes-wrapper">\n            <div class="icon-loading"></div>\n            <div class="notes-header clear">\n                <h4 class="session-title left">{{sessionTitle}}</h4>\n                <h5 class="ss-icon-notes-pin num-notes left">{{numNotes}}</h5>\n            </div>\n            <div class="learn-mode-notes-collection-wrapper"></div>\n            <div class="empty-area">There are no notes for this video.</div>\n        </div>\n    </div>\n</div>\n'}])]);
//# sourceMappingURL=pages-class-details-logged-in.build.9b0aac1c956f123e4046.min.js.map